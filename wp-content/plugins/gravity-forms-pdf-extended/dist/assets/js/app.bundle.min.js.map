{"version":3,"sources":["webpack:///app.bundle.min.js","webpack:///./src/assets/js/react/gfpdf-main.js","webpack:///external \"jQuery\"","webpack:///./src/assets/js/react/bootstrap/templateBootstrap.js","webpack:///./src/assets/js/react/actions/templates.js","webpack:///./src/assets/js/react/actionTypes/templates.js","webpack:///./src/assets/js/react/router/templateRouter.js","webpack:///./src/assets/js/react/components/TemplateList.js","webpack:///./src/assets/js/react/selectors/getTemplates.js","webpack:///./src/assets/js/react/utilities/versionCompare.js","webpack:///./src/assets/js/react/components/TemplateContainer.js","webpack:///./src/assets/js/react/components/TemplateCloseDialog.js","webpack:///./src/assets/js/react/components/TemplateListItem.js","webpack:///./src/assets/js/react/components/TemplateScreenshot.js","webpack:///./src/assets/js/react/components/ShowMessage.js","webpack:///./src/assets/js/react/components/TemplateListItemComponents.js","webpack:///./src/assets/js/react/components/TemplateSingleComponents.js","webpack:///./src/assets/js/react/components/TemplateActivateButton.js","webpack:///./src/assets/js/react/components/TemplateSearch.js","webpack:///./src/assets/js/react/components/TemplateHeaderTitle.js","webpack:///./src/assets/js/react/components/TemplateUploader.js","webpack:///./src/assets/js/react/components/Dropzone.js","webpack:///./src/assets/js/react/components/TemplateSingle.js","webpack:///./src/assets/js/react/components/TemplateHeaderNavigation.js","webpack:///./src/assets/js/react/components/TemplateFooterActions.js","webpack:///./src/assets/js/react/components/TemplateDeleteButton.js","webpack:///./src/assets/js/react/components/TemplateScreenshots.js","webpack:///./src/assets/js/react/components/Empty.js","webpack:///./src/assets/js/react/reducers/templateReducer.js","webpack:///./src/assets/js/react/components/TemplateButton.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_jquery","_jquery2","_templateBootstrap","_templateBootstrap2","undefined","GFPDF","templateList","templateId","$templateField","length","1","jQuery","2","templateBootstrap","reducers","setupReducers","store","_redux","createStore","window","devToolsExtension","createTemplateMarkup","_reactDom","render","_react2","createElement","_TemplateButton2","buttonText","advanced","document","getElementById","_templateRouter2","activeTemplateStoreListener","templateChangeStoreListener","combineReducers","template","next","after","w","_reduxWatch2","getState","subscribe","val","trigger","change","this","value","activeTemplate","dispatch","_templates","selectTemplate","listCount","list","size","_superagent2","post","ajaxUrl","field","ajaxNonce","then","response","html","text","Object","defineProperty","_react","_superagent","_reduxWatch","_templateRouter","_templateReducer","_templateReducer2","_TemplateButton","196","deleteTemplate","updateTemplateParam","updateTemplate","addTemplate","searchTemplates","type","id","name","197","SEARCH_TEMPLATES","SELECT_TEMPLATE","ADD_TEMPLATE","UPDATE_TEMPLATE","UPDATE_TEMPLATE_PARAM","DELETE_TEMPLATE","198","TemplatesRouter","_reactRedux","Provider","Routes","_Route","_Route2","_Router","_Router2","_hashHistory","_hashHistory2","_TemplateList","_TemplateList2","_TemplateSingle","_TemplateSingle2","_Empty","_Empty2","history","path","component","templateDetailsText","templateDetails","templateHeaderText","installedPdfs","genericUploadErrorText","problemWithTheUpload","activateText","select","addTemplateText","addNewTemplate","filenameErrorText","uploadInvalidNotZipFile","filesizeErrorText","uploadInvalidExceedsFileSizeLimit","installSuccessText","templateSuccessfullyInstalled","installUpdatedText","templateSuccessfullyUpdated","templateSuccessfullyInstalledUpdated","templateInstallInstructions","pdfWorkingDirPath","pdfWorkingDir","templateDeleteText","delete","templateConfirmDeleteText","doYouWantToDeleteTemplate","templateDeleteErrorText","couldNotDeleteTemplate","currentTemplateText","currentTemplate","versionText","version","groupText","group","tagsText","tags","showPreviousTemplateText","showPreviousTemplate","showNextTemplateText","showNextTemplate","246","TemplateList","_getTemplates","_getTemplates2","_TemplateContainer","_TemplateContainer2","_TemplateListItem","_TemplateListItem2","_TemplateSearch","_TemplateSearch2","_TemplateHeaderTitle","_TemplateHeaderTitle2","_TemplateUploader","_TemplateUploader2","createClass","displayName","propTypes","templates","PropTypes","object","route","_this","header","props","closeRoute","map","index","key","mapStateToProps","state","connect","247","addCompatibilityCheck","sortTemplates","_reselect","_versionCompare","_versionCompare2","getTemplates","getSearch","search","getActiveTemplate","term","replace","match","RegExp","results","filter","get","description","author","test","toString","sort","a","b","requiredVersion","currentVersion","merge","compatible","error","requiresGravityPdfVersion","long_error","templateNotCompatibleWithGravityPdfVersion","set","createSelector","249","v1","v2","operator","i","x","compare","vm","dev","alpha","beta","RC","rc","#","p","pl","_prepVersion","v","split","_numVersion","isNaN","parseInt","Math","max","250","_TemplateCloseDialog","_TemplateCloseDialog2","Container","oneOfType","string","element","footer","children","node","isRequired","componentDidMount","addEventListener","handleFocus","activeElement","className","container","focus","componentWillUnmount","removeEventListener","e","contains","target","stopPropagation","ref","tabIndex","251","_reactRouter","TemplateCloseDialog","handleKeyPress","keyCode","closeDialog","hashHistory","push","onClick","onKeyDown","aria-label","267","TemplateListItem","_TemplateScreenshot","_TemplateScreenshot2","_ShowMessage","_ShowMessage2","_TemplateListItemComponents","_TemplateSingleComponents","_TemplateActivateButton","_TemplateActivateButton2","func","maybeShowDetailedTemplate","indexOf","showDetailedTemplate","removeMessage","item","isActiveTemplate","isCompatible","data-slug","image","dismissableCallback","dismissable","delay","TemplateDetails","label","Group","Name","mapDispatchToProps","268","TemplateScreenshot","_ref","src","alt","269","showMessage","getDefaultProps","getInitialState","visible","bool","number","componentWillReceiveProps","setState","shouldSetTimer","setTimer","_timer","clearTimeout","setTimeout","_message","removeClass","slideUp","removeAttr","_this2","_props","classes","message","270","_ref2","271","Tags","Description","Author","Version","CurrentTemplate","isCurrentTemplate","versionLabel","_ref3","_ref4","uri","href","_ref5","_ref6","desc","_ref7","272","TemplateActivateButton","onTemplateSelect","preventDefault","273","TemplateSearch","_lodash","_lodash2","onSearch","componentWillMount","runSearch","input","handleSearch","persist","placeholder","aria-describedby","onChange","defaultValue","275","TemplateHeaderTitle","276","TemplateUploader","_immutable","_Dropzone","_Dropzone2","ajax","onDrop","acceptedFiles","Array","forEach","file","filename","checkFilename","checkFilesize","attach","ajaxSuccess","ajaxFailed","substr","body","matched","find","new","fromJS","openDropzone","maxSize","multiple","278","_reactDropzone","_reactDropzone2","Dropzone","activeClassName","Infinity","disablePreview","280","TemplateSingle","_TemplateHeaderNavigation","_TemplateHeaderNavigation2","_TemplateFooterActions","_TemplateFooterActions2","_TemplateScreenshots","_TemplateScreenshots2","templateIndex","MapStateToProps","params","findCurrentTemplate","findIndex","281","TemplateHeaderNavigation","isFirst","isLast","previousTemplate","prevId","nextTemplate","nextId","baseClass","List","prevClass","nextClass","leftDisabled","rightDisabled","join","disabled","currentTemplateId","first","last","282","_TemplateDeleteButton","_TemplateDeleteButton2","TemplateFooterActions","notCoreTemplate","283","TemplateDeleteButton","onTemplateDelete","callbackFunction","confirm","errorTemplate","callback","284","TemplateScreenshots","285","286","initialState","_extends","assign","arguments","source","prototype","hasOwnProperty","call","action","getTemplateIndex","setIn","activeDefaultTemplate","findKey","287","TemplateButton","handleClick","button"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCfxF,GAAAG,GAAAL,EAAA,GDSKM,EAAWL,EAAuBI,GCRvCE,EAAAP,EAAA,GDYKQ,EAAsBP,EAAuBM;;;;;;;;CC2BlD,EAAAD,EAAAF,SAAE,WAKA,GAA2BK,SAAvBC,MAAMC,aAA4B,CAGpC,GAAIC,GAAa,uEACbC,GAAiB,EAAAP,EAAAF,SAAEQ,EAGnBC,GAAeC,OAAS,IACxB,EAAAN,EAAAJ,SAAkBS,ODsBpBE,EACA,SAASjB,EAAQC,GE5EvBD,EAAAC,QAAAiB,QFkFMC,EACA,SAASnB,EAAQC,EAASC,GAE/B,YAyCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF;;;;;;;;AG9EzE,QAASgB,GAAmBL,GAGzC,GAAMM,GAAWC,IAGXC,GAAQ,EAAAC,EAAAC,aAAYJ,EAAUK,OAAOC,mBAAqBD,OAAOC,oBAGvEC,GAAqBb,IAGrB,EAAAc,EAAAC,QACEC,EAAAzB,QAAA0B,cAAAC,EAAA3B,SAAgBiB,MAAOA,EAAOW,WAAYtB,MAAMuB,WAChDC,SAASC,eAAe,oCAI1B,EAAAC,EAAAhC,SAAeiB,GAKfgB,EAA4BhB,EAAOR,GACnCyB,EAA4BjB,EAAOR,GAW9B,QAASO,KACd,OAAO,EAAAE,EAAAiB,kBACLC,qBAWG,QAASd,GAAsBb,GACpCA,EACG4B,OACAC,MAAM,8CACND,OACAC,MAAM,kDAaJ,QAASL,GAA6BhB,EAAOR,GAGlD,GAAI8B,IAAI,EAAAC,EAAAxC,SAAMiB,EAAMwB,SAAU,0BAC9BxB,GAAMyB,UAAUH,EAAE,SAACH,GAGb3B,EAAekC,QAAUP,GAC3B3B,EACGkC,IAAIP,GACJQ,QAAQ,kBACRA,QAAQ,aAKfnC,EAAeoC,OAAO,WAEhBC,KAAKC,QAAU9B,EAAMwB,WAAWL,SAASY,gBAC3C/B,EAAMgC,UAAS,EAAAC,EAAAC,gBAAeL,KAAKC,UAelC,QAASb,GAA6BjB,EAAOR,GAGlD,GAAI2C,GAAYnC,EAAMwB,WAAWL,SAASiB,KAAKC,KAG3Cf,GAAI,EAAAC,EAAAxC,SAAMiB,EAAMwB,SAAU,gBAC9BxB,GAAMyB,UAAUH,EAAE,SAACc,GAGbD,IAAcC,EAAKC,OAErBF,EAAYC,EAAKC,KAGjBC,EAAAvD,QACGwD,KAAKlD,MAAMmD,SACXC,MAAM,SAAU,8BAChBA,MAAM,QAASpD,MAAMqD,WACrBC,KAAK,SAACC,GACLpD,EACGqD,KAAKD,EAASE,MACdnB,QAAQ,kBACRA,QAAQ,gBHpFpBoB,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQK,QG1Cec,EH2CvBnB,EGReqB,gBHSfrB,EGIe2B,uBHHf3B,EGqBesC,8BHpBftC,EGsDeuC,6BApJhB,IAAAgC,GAAAtE,EAAA,GHkGK6B,EAAU5B,EAAuBqE,GGjGtC3C,EAAA3B,EAAA,IACAuE,EAAAvE,EAAA,KHsGK2D,EAAe1D,EAAuBsE,GGpG3CjD,EAAAtB,EAAA,KACAwE,EAAAxE,EAAA,KHyGK4C,EAAe3C,EAAuBuE,GGvG3ClB,EAAAtD,EAAA,KACAyE,EAAAzE,EAAA,KH4GKoC,EAAmBnC,EAAuBwE,GG3G/CC,EAAA1E,EAAA,KH+GK2E,EAAoB1E,EAAuByE,GG9GhDE,EAAA5E,EAAA,KHkHK+B,EAAmB9B,EAAuB2E,IA0JzCC,IACA,SAAS/E,EAAQC,EAASC,GAE/B,YAEAoE,QAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQ+E,eAAiB/E,EAAQgF,oBAAsBhF,EAAQiF,eAAiBjF,EAAQkF,YAAclF,EAAQwD,eAAiBxD,EAAQmF,gBAAkBzE,MI9R1J,IAAA6C,GAAAtD,EAAA,IA+CakF,mBAAkB,SAACf,GAC9B,OACEgB,wBACAhB,SAaSZ,iBAAiB,SAAC6B,GAC7B,OACED,uBACAC,OAaSH,cAAc,SAACzC,GAC1B,OACE2C,oBACA3C,aAaSwC,iBAAiB,SAACxC,GAC7B,OACE2C,uBACA3C,aAeSuC,sBAAsB,SAACK,EAAIC,EAAMlC,GAC5C,OACEgC,6BACAC,KACAC,OACAlC,UAaS2B,iBAAiB,SAACM,GAC7B,OACED,uBACAC,QJ+REE,IACA,SAASxF,EAAQC,GAEtB,YAEAqE,QAAOC,eAAetE,EAAS,cAC7BoD,OAAO;;;;;;;;AK9YGoC,mBAAmB,mBACnBC,kBAAkB,kBAClBC,eAAe,eACfC,kBAAkB,kBAClBC,wBAAwB,wBACxBC,kBAAkB,mBLibzBC,IACA,SAAS/F,EAAQC,EAASC,GAE/B,YAwCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GMlZzE,QAAS4F,GAAiBzE,IACvC,EAAAM,EAAAC,QAAQC,EAAAzB,QAAA0B,cAAAiE,EAAAC,UAAU3E,MAAOA,GACvBQ,EAAAzB,QAAA0B,cAACmE,EAAD,OACY/D,SAASC,eAAe,kBNyWvCiC,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQkG,OAASxF,OACjBV,EAAQK,QMhXe0F,CA5GxB,IAAAxB,GAAAtE,EAAA,GNgeK6B,EAAU5B,EAAuBqE,GM9dtC3C,EAAA3B,EAAA,IACA+F,EAAA/F,EAAA,KAEAkG,EAAAlG,EAAA,KNmeKmG,EAAUlG,EAAuBiG,GMletCE,EAAApG,EAAA,KNseKqG,EAAWpG,EAAuBmG,GMrevCE,EAAAtG,EAAA,KNyeKuG,EAAgBtG,EAAuBqG,GMve5CE,EAAAxG,EAAA,KN2eKyG,EAAiBxG,EAAuBuG,GM1e7CE,EAAA1G,EAAA,KN8eK2G,EAAmB1G,EAAuByG,GM7e/CE,EAAA5G,EAAA,KNifK6G,EAAU5G,EAAuB2G,GMnczBX,WAAS,iBACpBpE,GAAAzB,QAAA0B,cAAAuE,EAAAjG,SAAQ0G,QAAAP,EAAAnG,SACNyB,EAAAzB,QAAA0B,cAAAqE,EAAA/F,SAAO2G,KAAK,WACLC,UAAAP,EAAArG,QAEAyD,QAASnD,MAAMmD,QACfE,UAAWrD,MAAMqD,UAEjBkD,oBAAqBvG,MAAMwG,gBAC3BC,mBAAoBzG,MAAM0G,cAE1BC,uBAAwB3G,MAAM4G,qBAC9BC,aAAc7G,MAAM8G,OACpBC,gBAAiB/G,MAAMgH,eACvBC,kBAAmBjH,MAAMkH,wBACzBC,kBAAmBnH,MAAMoH,kCACzBC,mBAAoBrH,MAAMsH,8BAC1BC,mBAAoBvH,MAAMwH,4BAC1BC,qCAAsCzH,MAAMyH,qCAC5CC,4BAA6B1H,MAAM0H,8BAG1CvG,EAAAzB,QAAA0B,cAAAqE,EAAA/F,SAAO2G,KAAK,eACLC,UAAAL,EAAAvG,QAEAyD,QAASnD,MAAMmD,QACfE,UAAWrD,MAAMqD,UACjBsE,kBAAmB3H,MAAM4H,cAEzBf,aAAc7G,MAAM8G,OACpBe,mBAAoB7H,MAAM8H,OAC1BC,0BAA2B/H,MAAMgI,0BACjCC,wBAAyBjI,MAAMkI,uBAC/BC,oBAAqBnI,MAAMoI,gBAC3BC,YAAarI,MAAMsI,QACnBC,UAAWvI,MAAMwI,MACjBC,SAAUzI,MAAM0I,KAChBC,yBAA0B3I,MAAM4I,qBAChCC,qBAAsB7I,MAAM8I,mBAGnC3H,EAAAzB,QAAA0B,cAAAqE,EAAA/F,SAAO2G,KAAK,IAAIC,UAAAH,EAAAzG,aNwgBdqJ,IACA,SAAS3J,EAAQC,EAASC,GAE/B,YAqCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAnCvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQ2J,aAAejJ,MOlnBxB,IAAA6D,GAAAtE,EAAA,GPsnBK6B,EAAU5B,EAAuBqE,GOrnBtCyB,EAAA/F,EAAA,KAEA2J,EAAA3J,EAAA,KPynBK4J,EAAiB3J,EAAuB0J,GOvnB7CE,EAAA7J,EAAA,KP2nBK8J,EAAsB7J,EAAuB4J,GO1nBlDE,EAAA/J,EAAA,KP8nBKgK,EAAqB/J,EAAuB8J,GO7nBjDE,EAAAjK,EAAA,KPioBKkK,EAAmBjK,EAAuBgK,GOhoB/CE,EAAAnK,EAAA,KPooBKoK,EAAwBnK,EAAuBkK,GOnoBpDE,EAAArK,EAAA,KPuoBKsK,EAAqBrK,EAAuBoK,GOnmBpCX,iBAAe7H,EAAAzB,QAAMmK,aAAYC,YAAA,eAK5CC,WACEC,UAAW7I,EAAAzB,QAAMuK,UAAUC,OAC3BC,MAAOhJ,EAAAzB,QAAMuK,UAAUC,QAMzBhJ,OAb4C,WAanC,GAAAkJ,GAAA5H,KACD6H,EAASlJ,EAAAzB,QAAA0B,cAAAsI,EAAAhK,SAAqB2K,OAAQ7H,KAAK8H,MAAMH,MAAM1D,oBAE7D,OACEtF,GAAAzB,QAAA0B,cAAAgI,EAAA1J,SAAmB2K,OAAQA,EAAQE,WAAW,KAC5CpJ,EAAAzB,QAAA0B,cAAAoI,EAAA9J,QAAA,MACAyB,EAAAzB,QAAA0B,cAAA,WAEIoB,KAAK8H,MAAMN,UAAUQ,IAAI,SAAC/H,EAAOgI,GAC/B,MAAOtJ,GAAAzB,QAAA0B,cAAAkI,EAAA5J,SACLgL,IAAKD,EACL3I,SAAUW,EACV8D,oBAAqB6D,EAAKE,MAAMH,MAAM5D,oBACtCM,aAAcuD,EAAKE,MAAMH,MAAMtD,iBAIrC1F,EAAAzB,QAAA0B,cAAAwI,EAAAlK,SACEyD,QAASX,KAAK8H,MAAMH,MAAMhH,QAC1BE,UAAWb,KAAK8H,MAAMH,MAAM9G,UAC5B0D,gBAAiBvE,KAAK8H,MAAMH,MAAMpD,gBAClCJ,uBAAwBnE,KAAK8H,MAAMH,MAAMxD,uBACzCM,kBAAmBzE,KAAK8H,MAAMH,MAAMlD,kBACpCE,kBAAmB3E,KAAK8H,MAAMH,MAAMhD,kBACpCE,mBAAoB7E,KAAK8H,MAAMH,MAAM9C,mBACrCE,mBAAoB/E,KAAK8H,MAAMH,MAAM5C,mBACrCE,qCAAsCjF,KAAK8H,MAAMH,MAAM1C,qCACvDC,4BAA6BlF,KAAK8H,MAAMH,MAAMzC,mCAmBpDiD,EAAkB,SAACC,GACvB,OACEZ,WAAW,EAAAd,EAAAxJ,SAAakL,IPmpB3BvL,GAAQK,SO1oBM,EAAA2F,EAAAwF,SAAQF,GAAiB3B,IP8oBlC8B,IACA,SAAS1L,EAAQC,EAASC,GAE/B,YAaA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAXvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQ0L,sBAAwB1L,EAAQ2L,cAAgB3L,EAAQmF,gBAAkBzE,MQzwBnF,IAAAkL,GAAA3L,EAAA,KACA4L,EAAA5L,EAAA,KR8wBK6L,EAAmB5L,EAAuB2L,GQ7uBzCE,EAAe,SAACR,GAAD,MAAWA,GAAM9I,SAASiB,MACzCsI,EAAY,SAACT,GAAD,MAAWA,GAAM9I,SAASwJ,QACtCC,EAAoB,SAACX,GAAD,MAAWA,GAAM9I,SAASY,gBAavC8B,oBAAkB,SAACgH,EAAMxB,GAKpCwB,EAAOA,EAAKC,QAAQ,yBAA0B,QAC9CD,EAAOA,EAAKC,QAAQ,KAAM,SAE1B,IAAMC,GAAQ,GAAIC,QAAO,SAAWH,EAAO,MAAO,KAG5CI,EAAU5B,EAAU6B,OAAO,SAAC/J,GAGhC,GAAM6C,GAAO7C,EAASgK,IAAI,YAAYL,QAAQ,gBAAiB,IACzDM,EAAcjK,EAASgK,IAAI,eAAeL,QAAQ,gBAAiB,IACnEO,EAASlK,EAASgK,IAAI,UAAUL,QAAQ,gBAAiB,IACzDjD,EAAQ1G,EAASgK,IAAI,SAASL,QAAQ,gBAAiB,GAG7D,OAAOC,GAAMO,MAAOtH,EAAM7C,EAASgK,IAAI,MAAOtD,EAAOuD,EAAaC,GAASE,aAG7E,OAAON,IAoBIZ,kBAAgB,SAAChB,EAAWtH,GAEvC,MAAOsH,GAAUmC,KAAK,SAACC,EAAGC,GAGxB,MAAID,GAAEN,IAAI,OAAO,MAAW,GAAQM,EAAEN,IAAI,OAAO,MAAW,EACnD,EAGLM,EAAEN,IAAI,OAAO,MAAW,EACnB,EAGLO,EAAEP,IAAI,OAAO,MAAW,GACnB,EAILpJ,IAAmB0J,EAAEN,IAAI,OACpB,EAGLpJ,IAAmB2J,EAAEP,IAAI,MACpB,EAILM,EAAEN,IAAI,SAAWO,EAAEP,IAAI,UAClB,EAGLM,EAAEN,IAAI,SAAWO,EAAEP,IAAI,SAClB,EAILM,EAAEN,IAAI,YAAcO,EAAEP,IAAI,aACrB,EAGLM,EAAEN,IAAI,YAAcO,EAAEP,IAAI,YACrB,EAGF,KAcEf,0BAAwB,SAACf,GAEpC,MAAOA,GAAUQ,IAAI,SAAC1I,GAEpB,GAAMwK,GAAkBxK,EAASgK,IAAI,uBACrC,QAAI,EAAAX,EAAAzL,SAAe4M,EAAiBtM,MAAMuM,eAAgB,KAEjDzK,EAAS0K,OACdC,YAAc,EACdC,MAAS1M,MAAM2M,0BAA0BlB,QAAQ,MAAOa,GACxDM,WAAc5M,MAAM6M,2CAA2CpB,QAAQ,MAAOa,KAI3ExK,EAASgL,IAAI,cAAc,KR+xBrCzN,GAAQK,SQtxBM,EAAAuL,EAAA8B,iBACX3B,EAAcC,EAAWE,GAC3B,SAACvB,EAAWsB,EAAQ5I,GAQlB,MANAsH,GAAYe,EAAsBf,GAE9BsB,IACFtB,EAAYxF,EAAgB8G,EAAQtB,IAG/BgB,EAAchB,EAAWtH,MRyxB9BsK,IACA,SAAS5N,EAAQC,GAEtB,YAEAqE,QAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IA0CTpD,EAAQK,QSz9BM,SAACuN,EAAIC,EAAIC,GAkBtB,GAAIC,GACAC,EACAC,EAAU,EASVC,GACFC,KAAO,EACPC,OAAS,EACTrB,GAAK,EACLsB,MAAQ,EACRrB,GAAK,EACLsB,IAAM,EACNC,IAAM,EACNC,KAAK,EACLC,EAAK,EACLC,GAAM,GAYJC,EAAe,SAAuBC,GAGxC,MAFAA,IAAK,GAAKA,GAAGxC,QAAQ,UAAW,KAChCwC,EAAIA,EAAExC,QAAQ,aAAc,QAAQA,QAAQ,UAAW,KAC/CwC,EAAE7N,OAAkB6N,EAAEC,MAAM,OAAf,IAMnBC,EAAc,SAAsBF,GACtC,MAAQA,GAAQG,MAAMH,GAAKV,EAAIU,KAAO,EAAKI,SAASJ,EAAG,IAA3C,EAMd,KAHAhB,EAAKe,EAAaf,GAClBC,EAAKc,EAAad,GAClBG,EAAIiB,KAAKC,IAAItB,EAAG7M,OAAQ8M,EAAG9M,QACtBgN,EAAI,EAAGA,EAAIC,EAAGD,IACjB,GAAIH,EAAIG,KAAQF,EAAIE,GAApB,CAKA,GAFAH,EAAIG,GAAMe,EAAYlB,EAAIG,IAC1BF,EAAIE,GAAMe,EAAYjB,EAAIE,IACtBH,EAAIG,GAAMF,EAAIE,GAAK,CACrBE,GAAU,CACV,OACK,GAAIL,EAAIG,GAAMF,EAAIE,GAAK,CAC5BE,EAAU,CACV,QAGJ,IAAKH,EACH,MAAOG,EAMT,QAAQH,GACN,IAAK,IACL,IAAK,KACH,MAAOG,GAAU,CACnB,KAAK,KACL,IAAK,KACH,MAAOA,IAAW,CACpB,KAAK,KACL,IAAK,KACH,MAAOA,IAAW,CACpB,KAAK,MACL,IAAK,IACL,IAAK,KACH,MAAmB,KAAZA,CACT,KAAK,KACL,IAAK,MACL,IAAK,KACH,MAAmB,KAAZA,CACT,KAAK,GACL,IAAK,IACL,IAAK,KACH,MAAOA,GAAU,CACnB,SACE,MAAO,ST+9BPkB,IACA,SAASpP,EAAQC,EAASC,GAE/B,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,GU3nCV,IAAAmB,GAAAtE,EAAA,GVgoCK6B,EAAU5B,EAAuBqE,GU/nCtC6K,EAAAnP,EAAA,KVmoCKoP,EAAwBnP,EAAuBkP,GU/lC9CE,EAAYxN,EAAAzB,QAAMmK,aAAYC,YAAA,YAKlCC,WACEM,OAAQlJ,EAAAzB,QAAMuK,UAAU2E,WAAYzN,EAAAzB,QAAMuK,UAAU4E,OAAQ1N,EAAAzB,QAAMuK,UAAU6E,UAC5EC,OAAQ5N,EAAAzB,QAAMuK,UAAU2E,WAAYzN,EAAAzB,QAAMuK,UAAU4E,OAAQ1N,EAAAzB,QAAMuK,UAAU6E,UAC5EE,SAAU7N,EAAAzB,QAAMuK,UAAUgF,KAAKC,WAC/B3E,WAAYpJ,EAAAzB,QAAMuK,UAAU4E,QAU9BM,kBAnBkC,WAoBhC3N,SAAS4N,iBAAiB,QAAS5M,KAAK6M,aAAa,GAGjD7N,SAAS8N,eAAsD,qBAArC9N,SAAS8N,cAAcC,WACnD/M,KAAKgN,UAAUC,SASnBC,qBAjCkC,WAkChClO,SAASmO,oBAAoB,QAASnN,KAAK6M,aAAa,IAY1DA,YA9CkC,SA8CtBO,GACLpN,KAAKgN,UAAUK,SAASD,EAAEE,UAC7BF,EAAEG,kBACFvN,KAAKgN,UAAUC,UAOnBvO,OAxDkC,WAwDzB,GAAAkJ,GAAA5H,KACD6H,EAAS7H,KAAK8H,MAAMD,OACxB0E,EAASvM,KAAK8H,MAAMyE,OACpBC,EAAWxM,KAAK8H,MAAM0E,SACtBzE,EAAa/H,KAAK8H,MAAMC,UAE1B,OACEpJ,GAAAzB,QAAA0B,cAAA,OAAK4O,IAAK,SAAAf,GAAA,MAAQ7E,GAAKoF,UAAYP,GAAMgB,SAAS,OAChD9O,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,4BACfpO,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,wBACbpO,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,gBACZlF,EACDlJ,EAAAzB,QAAA0B,cAAAsN,EAAAhP,SAAqB6K,WAAYA,KAGnCpJ,EAAAzB,QAAA0B,cAAA,OACEsD,GAAG,2BACH6K,UAAU,kDACTP,GAGFD,MVypCV1P,GAAQK,QUlpCMiP,GVspCTuB,IACA,SAAS9Q,EAAQC,EAASC,GAE/B,YAYA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAVvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,GWrxCV,IAAAmB,GAAAtE,EAAA,GX0xCK6B,EAAU5B,EAAuBqE,GWzxCtCuM,EAAA7Q,EAAA,KAoCM8Q,EAAsBjP,EAAAzB,QAAMmK,aAAYC,YAAA,sBAK5CC,WACEQ,WAAYpJ,EAAAzB,QAAMuK,UAAU4E,QAQ9BM,kBAd4C,WAe1C3N,SAAS4N,iBAAiB,UAAW5M,KAAK6N,gBAAgB,IAQ5DX,qBAvB4C,WAwB1ClO,SAASmO,oBAAoB,UAAWnN,KAAK6N,gBAAgB,IAW/DA,eAnC4C,SAmC7BT,GAEK,KAAdA,EAAEU,SAA0C,qBAAvBV,EAAEE,OAAOP,WAAuD,KAAnBK,EAAEE,OAAOrN,OAC7ED,KAAK+N,eAOTA,YA7C4C,WA+C1CJ,EAAAK,YAAYC,KAAKjO,KAAK8H,MAAMC,YAAc,MAM5CrJ,OArD4C,WAsD1C,MACEC,GAAAzB,QAAA0B,cAAA,UACEmO,UAAU,+BACVU,SAAS,MACTS,QAASlO,KAAK+N,YACdI,UAAWnO,KAAK6N,eAChBO,aAAW,SACXzP,EAAAzB,QAAA0B,cAAA,QAAMmO,UAAU,sBAAhB,mBX6yCPlQ,GAAQK,QWvyCM0Q,GX2yCTS,IACA,SAASzR,EAAQC,EAASC,GAE/B,YAiCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA/BvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQyR,iBAAmB/Q,MY35C5B,IAAA6D,GAAAtE,EAAA,GZ+5CK6B,EAAU5B,EAAuBqE,GY95CtCyB,EAAA/F,EAAA,KACA6Q,EAAA7Q,EAAA,KACAsD,EAAAtD,EAAA,KAEAyR,EAAAzR,EAAA,KZo6CK0R,EAAuBzR,EAAuBwR,GYn6CnDE,EAAA3R,EAAA,KZu6CK4R,EAAgB3R,EAAuB0R,GYr6C5CE,EAAA7R,EAAA,KAKA8R,EAAA9R,EAAA,KACA+R,EAAA/R,EAAA,KZu6CKgS,EAA2B/R,EAAuB8R,GYn4C1CP,qBAAmB3P,EAAAzB,QAAMmK,aAAYC,YAAA,mBAKhDC,WACEjI,SAAUX,EAAAzB,QAAMuK,UAAUC,OAE1BxH,eAAgBvB,EAAAzB,QAAMuK,UAAU4E,OAChCxK,oBAAqBlD,EAAAzB,QAAMuK,UAAUsH,KAErC1K,aAAc1F,EAAAzB,QAAMuK,UAAU4E,OAC9BtI,oBAAqBpF,EAAAzB,QAAMuK,UAAU4E,QAWvC2C,0BAvBgD,SAuBtB5B,GAEN,KAAdA,EAAEU,SAAmBV,EAAEE,OAAOP,UAAUkC,QAAQ,aAAc,GAChEjP,KAAKkP,wBASTA,qBAnCgD,WAoC9CvB,EAAAK,YAAYC,KAAK,aAAejO,KAAK8H,MAAMxI,SAASgK,IAAI,QAQ1D6F,cA5CgD,WA6C9CnP,KAAK8H,MAAMjG,oBAAoB7B,KAAK8H,MAAMxI,SAASgK,IAAI,MAAO,UAAW,OAM3E5K,OAnDgD,WAoD9C,GAAM0Q,GAAOpP,KAAK8H,MAAMxI,SAClB+P,EAAmBrP,KAAK8H,MAAM5H,iBAAmBkP,EAAK9F,IAAI,MAC1DgG,EAAeF,EAAK9F,IAAI,cACxBpJ,EAAkBmP,EAAoB,eAAiB,OAE7D,OACI1Q,GAAAzB,QAAA0B,cAAA,OACEsP,QAASlO,KAAKkP,qBACdf,UAAWnO,KAAKgP,0BAChBjC,UAAW7M,EACXqP,YAAWH,EAAK9F,IAAI,MACpBmE,SAAS,OAET9O,EAAAzB,QAAA0B,cAAA4P,EAAAtR,SAAoBsS,MAAOJ,EAAK9F,IAAI,gBACnC8F,EAAK9F,IAAI,SAAW3K,EAAAzB,QAAA0B,cAAA8P,EAAAxR,SAAa+D,KAAMmO,EAAK9F,IAAI,SAAUY,OAAO,IAAU,KAC3EkF,EAAK9F,IAAI,WAAa3K,EAAAzB,QAAA0B,cAAA8P,EAAAxR,SAAa+D,KAAMmO,EAAK9F,IAAI,WAAYmG,oBAAqBzP,KAAKmP,cAAeO,aAAa,EAAMC,MAAO,OAAY,KAE9IhR,EAAAzB,QAAA0B,cAAA+P,EAAAiB,iBAAiBC,MAAO7P,KAAK8H,MAAM/D,sBACnCpF,EAAAzB,QAAA0B,cAAA+P,EAAAmB,OAAO9J,MAAOoJ,EAAK9F,IAAI,WACvB3K,EAAAzB,QAAA0B,cAAAgQ,EAAAmB,MAAM5N,KAAMiN,EAAK9F,IAAI,cAErB3K,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,kBACXsC,GAAoBC,EACpB3Q,EAAAzB,QAAA0B,cAAAkQ,EAAA5R,SAAwBoC,SAAUU,KAAK8H,MAAMxI,SAAUR,WAAYkB,KAAK8H,MAAMzD,eAAkB,UAgBxG8D,EAAkB,SAACC,GACvB,OACElI,eAAgBkI,EAAM9I,SAASY,iBAa7B8P,EAAqB,SAAC7P,GAC1B,OACE0B,oBAAqB,SAACK,EAAIC,EAAMlC,GAC9BE,GAAS,EAAAC,EAAAyB,qBAAoBK,EAAIC,EAAMlC,MZs7C5CpD,GAAQK,SY56CM,EAAA2F,EAAAwF,SAAQF,EAAiB6H,GAAoB1B,IZg7CtD2B,IACA,SAASrT,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,Ga/lDV,IAAAmB,GAAAtE,EAAA,GbomDK6B,EAAU5B,EAAuBqE,GahkDhC8O,EAAqB,SAAAC,GAAe,GAAZX,GAAYW,EAAZX,MACtBzC,EAAayC,EAAS,mBAAqB,wBAEjD,OACE7Q,GAAAzB,QAAA0B,cAAA,OAAKmO,UAAWA,GACbyC,EAAQ7Q,EAAAzB,QAAA0B,cAAA,OAAKwR,IAAKZ,EAAOa,IAAI,KAAO,MAK3CH,GAAmB3I,WACjBiI,MAAO7Q,EAAAzB,QAAMuK,UAAU4E,Qb2mDxBxP,EAAQK,QaxmDMgT,Gb4mDTI,IACA,SAAS1T,EAAQC,EAASC,GAE/B,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,GcpqDV,IAAAmB,GAAAtE,EAAA,GdyqDK6B,EAAU5B,EAAuBqE,GcxqDtCjE,EAAAL,EAAA,Gd4qDKM,EAAWL,EAAuBI,GcxoDjCoT,EAAc5R,EAAAzB,QAAMmK,aAAYC,YAAA,cASpCkJ,gBAToC,WAUlC,OACEb,MAAO,IACPD,aAAa,IASjBe,gBArBoC,WAsBlC,OACEC,SAAS,IAObnJ,WACEtG,KAAMtC,EAAAzB,QAAMuK,UAAU4E,OAAOK,WAC7BxC,MAAOvL,EAAAzB,QAAMuK,UAAUkJ,KAEvBhB,MAAOhR,EAAAzB,QAAMuK,UAAUmJ,OACvBlB,YAAa/Q,EAAAzB,QAAMuK,UAAUkJ,KAC7BlB,oBAAqB9Q,EAAAzB,QAAMuK,UAAUsH,MAQvC8B,0BAA2B,WACzB7Q,KAAK8Q,UAAWJ,SAAS,IACzB1Q,KAAK+Q,kBAQPpE,kBAtDoC,WAuDlC3M,KAAK+Q,kBAQPA,eA/DoC,WAgE9B/Q,KAAK8H,MAAM4H,aACb1P,KAAKgR,YAYTA,SA7EoC,WA6EzB,GAAApJ,GAAA5H,IAEM,OAAfA,KAAKiR,OAAiBC,aAAalR,KAAKiR,QAAU,KAGlDjR,KAAKiR,OAASE,WAAW,YAEvB,EAAA/T,EAAAF,SAAE0K,EAAKwJ,UACJC,YAAY,UACZC,QAAQ,IAAK,YACZ,EAAAlU,EAAAF,SAAE0K,EAAKwJ,UAAUG,WAAW,SAC5B3J,EAAKkJ,UAAWJ,SAAS,IACzB9I,EAAKqJ,OAAS,KAEXrJ,EAAKE,MAAM2H,qBACZ7H,EAAKE,MAAM2H,yBAIhBzP,KAAK8H,MAAM6H,QAQhBzC,qBAAsB,WAChBlN,KAAK8H,MAAM4H,aACbwB,aAAalR,KAAKiR,SAStBvS,OAnHoC,WAmH3B,GAAA8S,GAAAxR,KAAAyR,EACiBzR,KAAK8H,MAArB7G,EADDwQ,EACCxQ,KAAMiJ,EADPuH,EACOvH,MAEVwH,EAAU,eAMd,OAJIxH,KACFwH,GAAoB,UAGf1R,KAAKoI,MAAMsI,QAEd/R,EAAAzB,QAAA0B,cAAA,OAAK4O,IAAK,SAACmE,GAAD,MAAaH,GAAKJ,SAAWO,GAAS5E,UAAW2E,GACzD/S,EAAAzB,QAAA0B,cAAA,SAAIqC,IAEJtC,EAAAzB,QAAA0B,cAAA,cdksDT/B,GAAQK,Qc9rDMqT,GdksDTqB,IACA,SAAShV,EAAQC,EAASC,GAE/B,YAWA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GATvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQiT,MAAQjT,EAAQ+S,gBAAkBrS,Mep3D3C,IAAA6D,GAAAtE,EAAA,Gfw3DK6B,EAAU5B,EAAuBqE,Gel1DzBwO,oBAAkB,SAAAO,GAAA,GAAGN,GAAHM,EAAGN,KAAH,OAC7BlR,GAAAzB,QAAA0B,cAAA,QAAMmO,UAAU,gBAAgB8C,GAGlCD,GAAgBrI,WACdpF,KAAMxD,EAAAzB,QAAMuK,UAAU4E,OAUjB,IAAMyD,WAAQ,SAAA+B,GAAA,GAAG7L,GAAH6L,EAAG7L,KAAH,OACnBrH,GAAAzB,QAAA0B,cAAA,KAAGmO,UAAU,gBAAgB/G,GAG/B8J,GAAMvI,WACJvB,MAAOrH,EAAAzB,QAAMuK,UAAU4E,Sfy4DnByF,IACA,SAASlV,EAAQC,EAASC,GAE/B,YAWA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GATvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQkV,KAAOlV,EAAQmV,YAAcnV,EAAQiT,MAAQjT,EAAQoV,OAASpV,EAAQqV,QAAUrV,EAAQkT,KAAOlT,EAAQsV,gBAAkB5U,MgB38DlI,IAAA6D,GAAAtE,EAAA,GhB+8DK6B,EAAU5B,EAAuBqE,GgBz6DzB+Q,oBAAkB,SAAAhC,GAAkC,GAA/BiC,GAA+BjC,EAA/BiC,kBAAmBvC,EAAYM,EAAZN,KACnD,OAAQuC,GACNzT,EAAAzB,QAAA0B,cAAA,QAAMmO,UAAU,iBAAiB8C,GAEjClR,EAAAzB,QAAA0B,cAAA,aAIJuT,GAAgB5K,WACd6K,kBAAmBzT,EAAAzB,QAAMuK,UAAUkJ,KACnCd,MAAOlR,EAAAzB,QAAMuK,UAAU4E,OAUlB,IAAM0D,UAAO,SAAA8B,GAAA,GAAG1P,GAAH0P,EAAG1P,KAAM2D,EAAT+L,EAAS/L,QAASuM,EAAlBR,EAAkBQ,YAAlB,OAClB1T,GAAAzB,QAAA0B,cAAA,MAAImO,UAAU,cACX5K,EAEDxD,EAAAzB,QAAA0B,cAACsT,GAAQpM,QAASA,EAAS+J,MAAOwC,KAItCtC,GAAKxI,WACHpF,KAAMxD,EAAAzB,QAAMuK,UAAU4E,OACtBvG,QAASnH,EAAAzB,QAAMuK,UAAU4E,OACzBgG,aAAc1T,EAAAzB,QAAMuK,UAAU4E,OAUzB,IAAM6F,aAAU,SAAAI,GAAwB,GAArBzC,GAAqByC,EAArBzC,MAAO/J,EAAcwM,EAAdxM,OAC/B,OAAQA,GACNnH,EAAAzB,QAAA0B,cAAA,QAAMmO,UAAU,iBAAiB8C,EAAjC,KAA0C/J,GAE1CnH,EAAAzB,QAAA0B,cAAA,aAIJsT,GAAQ3K,WACNsI,MAAOlR,EAAAzB,QAAMuK,UAAU4E,OACvBvG,QAASnH,EAAAzB,QAAMuK,UAAU4E,OAUpB,IAAM4F,YAAS,SAAAM,GAAqB,GAAlB/I,GAAkB+I,EAAlB/I,OAAQgJ,EAAUD,EAAVC,GAE/B,OAAIA,GAEA7T,EAAAzB,QAAA0B,cAAA,KAAGmO,UAAU,gBACXpO,EAAAzB,QAAA0B,cAAA,KAAG6T,KAAMD,GACNhJ,IAML7K,EAAAzB,QAAA0B,cAAA,KAAGmO,UAAU,gBACVvD,GAMTyI,GAAO1K,WACLiC,OAAQ7K,EAAAzB,QAAMuK,UAAU4E,OACxBmG,IAAK7T,EAAAzB,QAAMuK,UAAU4E,OAUhB,IAAMyD,WAAQ,SAAA4C,GAAA,GAAG7C,GAAH6C,EAAG7C,MAAO7J,EAAV0M,EAAU1M,KAAV,OACnBrH,GAAAzB,QAAA0B,cAAA,KAAGmO,UAAU,gBACXpO,EAAAzB,QAAA0B,cAAA,cAASiR,EAAT,KAAkB7J,IAItB8J,GAAMvI,WACJsI,MAAOlR,EAAAzB,QAAMuK,UAAU4E,OACvBrG,MAAOrH,EAAAzB,QAAMuK,UAAU4E,OAUlB,IAAM2F,iBAAc,SAAAW,GAAA,GAAGC,GAAHD,EAAGC,IAAH,OACzBjU,GAAAzB,QAAA0B,cAAA,KAAGmO,UAAU,qBACV6F,GAILZ,GAAYzK,WACVqL,KAAMjU,EAAAzB,QAAMuK,UAAU4E,OAUjB,IAAM0F,UAAO,SAAAc,GAAqB,GAAlBhD,GAAkBgD,EAAlBhD,MAAO3J,EAAW2M,EAAX3M,IAC5B,OAAQA,GACNvH,EAAAzB,QAAA0B,cAAA,KAAGmO,UAAU,cACXpO,EAAAzB,QAAA0B,cAAA,YAAOiR,EAAP,KADF,IACyB3J,GAGzBvH,EAAAzB,QAAA0B,cAAA,aAIJmT,GAAKxK,WACHsI,MAAOlR,EAAAzB,QAAMuK,UAAU4E,OACvBnG,KAAMvH,EAAAzB,QAAMuK,UAAU4E,ShB4/DlByG,IACA,SAASlW,EAAQC,EAASC,GAE/B,YAiBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAfvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQkW,uBAAyBxV,MiBrrElC,IAAA6D,GAAAtE,EAAA,GjByrEK6B,EAAU5B,EAAuBqE,GiBxrEtCyB,EAAA/F,EAAA,KACAsD,EAAAtD,EAAA,KACA6Q,EAAA7Q,EAAA,KAqCaiW,2BAAyBpU,EAAAzB,QAAMmK,aAAYC,YAAA,yBAKtDC,WACEjI,SAAUX,EAAAzB,QAAMuK,UAAUC,OAC1BsL,iBAAkBrU,EAAAzB,QAAMuK,UAAUsH,KAClCjQ,WAAYH,EAAAzB,QAAMuK,UAAU4E,QAU9BhM,eAlBsD,SAkBvC+M,GACbA,EAAE6F,iBACF7F,EAAEG,kBACFI,EAAAK,YAAYC,KAAK,IAEjBjO,KAAK8H,MAAMkL,iBAAiBhT,KAAK8H,MAAMxI,SAASgK,IAAI,QAMtD5K,OA7BsD,WA8BpD,MACEC,GAAAzB,QAAA0B,cAAA,KACEsP,QAASlO,KAAKK,eACdoS,KAAK,IACLhF,SAAS,MACTV,UAAU,kCACT/M,KAAK8H,MAAMhJ,eAedkR,EAAqB,SAAC7P,GAC1B,OACE6S,iBAAkB,SAAC9Q,GACjB/B,GAAS,EAAAC,EAAAC,gBAAe6B,MjB2sE7BrF,GAAQK,SiBjsEM,EAAA2F,EAAAwF,SAAQ,KAAM2H,GAAoB+C,IjBqsE3CG,IACA,SAAStW,EAAQC,EAASC,GAE/B,YAmBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAjBvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQsW,eAAiB5V,MkBrzE1B,IAAA6D,GAAAtE,EAAA,GlByzEK6B,EAAU5B,EAAuBqE,GkBxzEtCyB,EAAA/F,EAAA,KACAsW,EAAAtW,EAAA,KlB6zEKuW,EAAWtW,EAAuBqW,GkB3zEvChT,EAAAtD,EAAA,KAoCaqW,mBAAiBxU,EAAAzB,QAAMmK,aAAYC,YAAA,iBAK9CC,WACE+L,SAAU3U,EAAAzB,QAAMuK,UAAUsH,KAC1BjG,OAAQnK,EAAAzB,QAAMuK,UAAU4E,QAQ1BkH,mBAf8C,WAgB5CvT,KAAKwT,WAAY,EAAAH,EAAAnW,SAAS8C,KAAKwT,UAAW,MAQ5C7G,kBAxB8C,WA0B5C3M,KAAKyT,MAAMxG,SAabyG,aAvC8C,SAuCjCtG,GACXA,EAAEuG,UACF3T,KAAKwT,UAAUpG,IAUjBoG,UAnD8C,SAmDpCpG,GACRpN,KAAK8H,MAAMwL,SAASlG,EAAEE,OAAOrN,OAAS,KAMxCvB,OA1D8C,WA0DrC,GAAAkJ,GAAA5H,IACP,OACErB,GAAAzB,QAAA0B,cAAA,WACED,EAAAzB,QAAA0B,cAAA,SACEmO,UAAU,mBACV7K,GAAG,yBACHsL,IAAK,SAAAf,GAAA,MAAQ7E,GAAK6L,MAAQhH,GAC1BmH,YAAY,6BACZ3R,KAAK,SACL4R,mBAAiB,mBACjBpG,SAAS,MACTqG,SAAU9T,KAAK0T,aACfK,aAAc/T,KAAK8H,MAAMgB,aAgB7BX,EAAkB,SAACC,GACvB,OACEU,OAAQV,EAAM9I,SAASwJ,SAarBkH,EAAqB,SAAC7P,GAC1B,OACEmT,SAAU,SAACrS,GACTd,GAAS,EAAAC,EAAA4B,iBAAgBf,MlBm1E9BpE,GAAQK,SkBz0EM,EAAA2F,EAAAwF,SAAQF,EAAiB6H,GAAoBmD,IlB60EtDa,IACA,SAASpX,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,GmB7+EV,IAAAmB,GAAAtE,EAAA,GnBk/EK6B,EAAU5B,EAAuBqE,GmB98EhC6S,EAAsB,SAAA9D,GAAA,GAAGtI,GAAHsI,EAAGtI,MAAH,OAC1BlJ,GAAAzB,QAAA0B,cAAA,UAAKiJ,GAMPoM,GAAoB1M,WAClBM,OAAQlJ,EAAAzB,QAAMuK,UAAU4E,QnB4/EzBxP,EAAQK,QmBz/EM+W,GnB6/ETC,IACA,SAAStX,EAAQC,EAASC,GAE/B,YA6BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA3BvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQsX,iBAAmB5W,MoBpjF5B,IAAA6D,GAAAtE,EAAA,GpBwjFK6B,EAAU5B,EAAuBqE,GoBvjFtCyB,EAAA/F,EAAA,KACAuE,EAAAvE,EAAA,KpB4jFK2D,EAAe1D,EAAuBsE,GoB3jF3C+S,EAAAtX,EAAA,KAEAsD,EAAAtD,EAAA,KACAuX,EAAAvX,EAAA,KpBgkFKwX,EAAavX,EAAuBsX,GoB/jFzC5F,EAAA3R,EAAA,KpBmkFK4R,EAAgB3R,EAAuB0R,GoB/hF/B0F,qBAAmBxV,EAAAzB,QAAMmK,aAAYC,YAAA,mBAShDmJ,gBATgD,WAU9C,OACE8D,MAAM,EACNrK,MAAO,GACPyH,QAAS,KAObpK,WACE5G,QAAShC,EAAAzB,QAAMuK,UAAU4E,OACzBxL,UAAWlC,EAAAzB,QAAMuK,UAAU4E,OAE3BlI,uBAAwBxF,EAAAzB,QAAMuK,UAAU4E,OACxC9H,gBAAiB5F,EAAAzB,QAAMuK,UAAU4E,OACjC5H,kBAAmB9F,EAAAzB,QAAMuK,UAAU4E,OACnC1H,kBAAmBhG,EAAAzB,QAAMuK,UAAU4E,OACnCxH,mBAAoBlG,EAAAzB,QAAMuK,UAAU4E,OACpCtH,mBAAoBpG,EAAAzB,QAAMuK,UAAU4E,OACpCpH,qCAAsCtG,EAAAzB,QAAMuK,UAAU4E,OACtDnH,4BAA6BvG,EAAAzB,QAAMuK,UAAU4E,OAE7C7H,eAAgB7F,EAAAzB,QAAMuK,UAAUsH,KAChClN,oBAAqBlD,EAAAzB,QAAMuK,UAAUsH,KACrCvH,UAAW7I,EAAAzB,QAAMuK,UAAUC,QAU7B8M,OA7CgD,SA6CzCC,GAAe,GAAA7M,GAAA5H,IAEhByU,aAAyBC,QAASD,EAAc7W,OAAS,GAE3D6W,EAAcE,QAAQ,SAACC,GACrB,GAAMC,GAAWD,EAAKzS,IAGjByF,GAAKkN,cAAcD,IAAcjN,EAAKmN,cAAcH,EAAKpU,QAK9DoH,EAAKkJ,UACHyD,MAAM,EACNrK,MAAO,GACPyH,QAAS,KAIXlR,EAAAvD,QACGwD,KAAKkH,EAAKE,MAAMnH,SAChBC,MAAM,SAAU,yBAChBA,MAAM,QAASgH,EAAKE,MAAMjH,WAC1BmU,OAAO,WAAYJ,EAAMC,GACzB/T,KAAK8G,EAAKqN,YAAarN,EAAKsN,gBAgBrCJ,cAtFgD,SAsFlC3S,GACZ,MAAqC,SAAjCA,EAAKgT,OAAOhT,EAAKvE,OAAS,KAG5BoC,KAAK8Q,UACH5G,MAAOlK,KAAK8H,MAAMrD,qBAGb,IAeXsQ,cA7GgD,SA6GlCvU,GAEZ,QAAIA,EAAO,KAAO,QAEhBR,KAAK8Q,UACH5G,MAAOlK,KAAK8H,MAAMnD,qBAGb,IAcXsQ,YAnIgD,SAmIpClU,GAAU,GAAAyQ,GAAAxR,IAGpBe,GAASqU,KAAK5N,UAAUmN,QAAQ,SAACrV,GAG/B,GAAM+V,GAAU7D,EAAK1J,MAAMN,UAAU8N,KAAK,SAAClG,GACzC,MAAQA,GAAK9F,IAAI,QAAUhK,EAAS4C,IAGtB3E,UAAZ8X,GACF/V,EAASiW,KAAM,EACfjW,EAASqS,QAAUH,EAAK1J,MAAMjD,mBAC9B2M,EAAK1J,MAAMtD,gBAAe,EAAA4P,EAAAoB,QAAOlW,KAEjCkS,EAAK1J,MAAMjG,oBAAoBvC,EAAS4C,GAAI,UAAWsP,EAAK1J,MAAM/C,sBAKtE/E,KAAK8Q,UACHyD,MAAM,EACN5C,QAAS3R,KAAK8H,MAAM7C,wCAWxBiQ,WApKgD,SAoKrChL,GAETlK,KAAK8Q,UACH5G,MAAQA,EAAMnJ,SAASqU,MAAsC7X,SAA9B2M,EAAMnJ,SAASqU,KAAKlL,MAAuBA,EAAMnJ,SAASqU,KAAKlL,MAAQlK,KAAK8H,MAAM3D,uBACjHoQ,MAAM,KASVpF,cAjLgD,WAkL9CnP,KAAK8Q,UACHa,QAAS,MAWb8D,aA9LgD,SA8LnCrI,GACXA,EAAE6F,kBAMJvU,OArMgD,WAsM9C,MACEC,GAAAzB,QAAA0B,cAAA0V,EAAApX,SACEsX,OAAQxU,KAAKwU,OACbkB,QAAS,OACTC,UAAU,EACV5I,UAAU,sCACVpO,EAAAzB,QAAA0B,cAAA,KAAG6T,KAAK,IAAIvE,QAASlO,KAAKyV,aAAc1I,UAAW/M,KAAKoI,MAAMmM,KAAO,aAAe,IAClF5V,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,oBAAmBpO,EAAAzB,QAAA0B,cAAA,cAEZ,KAArBoB,KAAKoI,MAAM8B,MAAevL,EAAAzB,QAAA0B,cAAA8P,EAAAxR,SAAa+D,KAAMjB,KAAKoI,MAAM8B,MAAOA,OAAO,IAAU,KACzD,KAAvBlK,KAAKoI,MAAMuJ,QAAiBhT,EAAAzB,QAAA0B,cAAA8P,EAAAxR,SAAa+D,KAAMjB,KAAKoI,MAAMuJ,QAASjC,aAAa,EAAMD,oBAAqBzP,KAAKmP,gBAAoB,KAErIxQ,EAAAzB,QAAA0B,cAAA,MAAImO,UAAU,cAAc/M,KAAK8H,MAAMvD,kBAEzC5F,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,uCAAuC/M,KAAK8H,MAAM5C,iCAgBnEiD,EAAkB,SAACC,GACvB,OACEZ,UAAWY,EAAM9I,SAASiB,OAaxByP,EAAqB,SAAC7P,GAC1B,OACEqE,eAAgB,SAAClF,GACfa,GAAS,EAAAC,EAAA2B,aAAYzC,KAGvBuC,oBAAqB,SAACK,EAAIC,EAAMlC,GAC9BE,GAAS,EAAAC,EAAAyB,qBAAoBK,EAAIC,EAAMlC,MpBimF5CpD,GAAQK,SoBvlFM,EAAA2F,EAAAwF,SAAQF,EAAiB6H,GAAoBmE,IpB2lFtDyB,IACA,SAAShZ,EAAQC,EAASC,GAE/B,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,GqBh5FV,IAAAmB,GAAAtE,EAAA,GrBq5FK6B,EAAU5B,EAAuBqE,GqBp5FtCyU,EAAA/Y,EAAA,KrBw5FKgZ,EAAkB/Y,EAAuB8Y,GqBn3FxCE,EAAWpX,EAAAzB,QAAMmK,aAAYC,YAAA,WAKjCC,WACEiF,SAAU7N,EAAAzB,QAAMuK,UAAUgF,KAAKC,WAC/B8H,OAAQ7V,EAAAzB,QAAMuK,UAAUsH,KAAKrC,WAC7BiJ,SAAUhX,EAAAzB,QAAMuK,UAAUkJ,KAC1B5D,UAAWpO,EAAAzB,QAAMuK,UAAU4E,OAC3B2J,gBAAiBrX,EAAAzB,QAAMuK,UAAU4E,QAMnCmE,gBAhBiC,WAiB/B,OACEmF,UAAU,EACVD,QAASO,IACTlJ,UAAW,iBACXiJ,gBAAiB,0BAOrBtX,OA5BiC,WA6B/B,MACEC,GAAAzB,QAAA0B,cAAAkX,EAAA5Y,SACEsX,OAAQxU,KAAK8H,MAAM0M,OACnBmB,SAAU3V,KAAK8H,MAAM6N,SACrBO,gBAAgB,EAChBnJ,UAAW/M,KAAK8H,MAAMiF,UACtBiJ,gBAAiBhW,KAAK8H,MAAMkO,iBAC3BhW,KAAK8H,MAAM0E,YrBm6FnB3P,GAAQK,QqB75FM6Y,GrBi6FTI,IACA,SAASvZ,EAAQC,EAASC,GAE/B,YAuCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GArCvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQuZ,eAAiB7Y,MsBz/F1B,IAAA6D,GAAAtE,EAAA,GtB6/FK6B,EAAU5B,EAAuBqE,GsB5/FtCyB,EAAA/F,EAAA,KAEA2J,EAAA3J,EAAA,KtBggGK4J,EAAiB3J,EAAuB0J,GsB9/F7CE,EAAA7J,EAAA,KtBkgGK8J,EAAsB7J,EAAuB4J,GsBjgGlD0P,EAAAvZ,EAAA,KtBqgGKwZ,EAA6BvZ,EAAuBsZ,GsBpgGzDE,EAAAzZ,EAAA,KtBwgGK0Z,EAA0BzZ,EAAuBwZ,GsBvgGtDE,EAAA3Z,EAAA,KtB2gGK4Z,EAAwB3Z,EAAuB0Z,GsB1gGpDhI,EAAA3R,EAAA,KtB8gGK4R,EAAgB3R,EAAuB0R,GsB5gG5CG,EAAA9R,EAAA,KA2CasZ,mBAAiBzX,EAAAzB,QAAMmK,aAAYC,YAAA,iBAK9CC,WACEI,MAAOhJ,EAAAzB,QAAMuK,UAAUC,OAEvBpI,SAAUX,EAAAzB,QAAMuK,UAAUC,OAC1BxH,eAAgBvB,EAAAzB,QAAMuK,UAAU4E,OAChCsK,cAAehY,EAAAzB,QAAMuK,UAAUmJ,OAC/BpJ,UAAW7I,EAAAzB,QAAMuK,UAAUC,QAM7BhJ,OAjB8C,WAkB5C,GAAM0Q,GAAOpP,KAAK8H,MAAMxI,SAClB8S,EAAoBpS,KAAK8H,MAAM5H,iBAAmBkP,EAAK9F,IAAI,MAG3DzB,EAASlJ,EAAAzB,QAAA0B,cAAA0X,EAAApZ,SACboC,SAAU8P,EACVuH,cAAe3W,KAAK8H,MAAM6O,cAC1BnP,UAAWxH,KAAK8H,MAAMN,UACtBrB,yBAA0BnG,KAAK8H,MAAMH,MAAMxB,yBAC3CE,qBAAsBrG,KAAK8H,MAAMH,MAAMtB,uBAEnCkG,EAAS5N,EAAAzB,QAAA0B,cAAA4X,EAAAtZ,SACboC,SAAU8P,EACVC,iBAAkB+C,EAElBzR,QAASX,KAAK8H,MAAMH,MAAMhH,QAC1BE,UAAWb,KAAK8H,MAAMH,MAAM9G,UAE5BwD,aAAcrE,KAAK8H,MAAMH,MAAMtD,aAC/Bc,kBAAmBnF,KAAK8H,MAAMH,MAAMxC,kBACpCE,mBAAoBrF,KAAK8H,MAAMH,MAAMtC,mBACrCE,0BAA2BvF,KAAK8H,MAAMH,MAAMpC,0BAC5CE,wBAAyBzF,KAAK8H,MAAMH,MAAMlC,yBAI5C,OACE9G,GAAAzB,QAAA0B,cAAAgI,EAAA1J,SAAmB2K,OAAQA,EAAQ0E,OAAQA,EAAQxE,WAAW,aAC5DpJ,EAAAzB,QAAA0B,cAAA,OAAKsD,GAAG,6BAA6B6K,UAAU,yBAC7CpO,EAAAzB,QAAA0B,cAAA8X,EAAAxZ,SAAqBsS,MAAOJ,EAAK9F,IAAI,gBAErC3K,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,cACbpO,EAAAzB,QAAA0B,cAAAgQ,EAAAuD,iBAAiBC,kBAAmBA,EAAmBvC,MAAO7P,KAAK8H,MAAMH,MAAMhC,sBAC/EhH,EAAAzB,QAAA0B,cAAAgQ,EAAAmB,MAAM5N,KAAMiN,EAAK9F,IAAI,YAAaxD,QAASsJ,EAAK9F,IAAI,WAAY+I,aAAcrS,KAAK8H,MAAMH,MAAM9B,cAC/FlH,EAAAzB,QAAA0B,cAAAgQ,EAAAqD,QAAQzI,OAAQ4F,EAAK9F,IAAI,UAAWkJ,IAAKpD,EAAK9F,IAAI,gBAClD3K,EAAAzB,QAAA0B,cAAAgQ,EAAAkB,OAAO9J,MAAOoJ,EAAK9F,IAAI,SAAUuG,MAAO7P,KAAK8H,MAAMH,MAAM5B,YAExDqJ,EAAK9F,IAAI,gBAAkB3K,EAAAzB,QAAA0B,cAAA8P,EAAAxR,SAAa+D,KAAMmO,EAAK9F,IAAI,kBAAqB,KAC5E8F,EAAK9F,IAAI,cAAgB3K,EAAAzB,QAAA0B,cAAA8P,EAAAxR,SAAa+D,KAAMmO,EAAK9F,IAAI,cAAeY,OAAO,IAAU,KAEtFvL,EAAAzB,QAAA0B,cAAAgQ,EAAAoD,aAAaY,KAAMxD,EAAK9F,IAAI,iBAC5B3K,EAAAzB,QAAA0B,cAAAgQ,EAAAmD,MAAM7L,KAAMkJ,EAAK9F,IAAI,QAASuG,MAAO7P,KAAK8H,MAAMH,MAAM1B,iBAkB5D2Q,EAAkB,SAACxO,EAAON,GAG9B,GAAMN,IAAY,EAAAd,EAAAxJ,SAAakL,GACzBlG,EAAK4F,EAAM+O,OAAO3U,GAElB4U,EAAsB,SAAC1H,GAC3B,MAAQA,GAAK9F,IAAI,QAAUpH,EAG7B,QACE5C,SAAUkI,EAAU8N,KAAKwB,GACzBH,cAAenP,EAAUuP,UAAUD,GACnCtP,UAAWA,EACXtH,eAAgBkI,EAAM9I,SAASY,gBtBqhGlCrD,GAAQK,SsB5gGM,EAAA2F,EAAAwF,SAAQuO,GAAiBR,ItBghGlCY,IACA,SAASpa,EAAQC,EAASC,GAE/B,YAiBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAfvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQoa,yBAA2B1Z,MuBlrGpC,IAAA6D,GAAAtE,EAAA,GvBsrGK6B,EAAU5B,EAAuBqE,GuBrrGtCyB,EAAA/F,EAAA,KACA6Q,EAAA7Q,EAAA,KACAsX,EAAAtX,EAAA,KAqCama,6BAA2BtY,EAAAzB,QAAMmK,aAAYC,YAAA,2BAKxDC,WACEC,UAAW7I,EAAAzB,QAAMuK,UAAUC,OAAOgF,WAClCiK,cAAehY,EAAAzB,QAAMuK,UAAUmJ,OAAOlE,WACtCwK,QAASvY,EAAAzB,QAAMuK,UAAUkJ,KACzBwG,OAAQxY,EAAAzB,QAAMuK,UAAUkJ,KAExBxK,yBAA0BxH,EAAAzB,QAAMuK,UAAU4E,OAC1ChG,qBAAsB1H,EAAAzB,QAAMuK,UAAU4E,QAQxCM,kBApBwD,WAqBtDrO,OAAOsO,iBAAiB,UAAW5M,KAAK6N,gBAAgB,IAQ1DX,qBA7BwD,WA8BtD5O,OAAO6O,oBAAoB,UAAWnN,KAAK6N,gBAAgB,IAU7DuJ,iBAxCwD,SAwCvChK,GACfA,EAAE6F,iBACF7F,EAAEG,iBAEF,IAAM8J,GAASrX,KAAK8H,MAAMN,UAAU8B,IAAItJ,KAAK8H,MAAM6O,cAAgB,GAAGrN,IAAI,KAEtE+N,IACF1J,EAAAK,YAAYC,KAAK,YAAcoJ,IAWnCC,aA1DwD,SA0D3ClK,GACXA,EAAE6F,iBACF7F,EAAEG,iBAEF,IAAMgK,GAASvX,KAAK8H,MAAMN,UAAU8B,IAAItJ,KAAK8H,MAAM6O,cAAgB,GAAGrN,IAAI,KAEtEiO,IACF5J,EAAAK,YAAYC,KAAK,YAAcsJ,IAWnC1J,eA5EwD,SA4EzCT,GAERpN,KAAK8H,MAAMoP,SAAyB,KAAd9J,EAAEU,SAC3B9N,KAAKoX,iBAAiBhK,GAInBpN,KAAK8H,MAAMqP,QAAwB,KAAd/J,EAAEU,SAC1B9N,KAAKsX,aAAalK,IAOtB1O,OA3FwD,WAiGtD,GAAMwY,GAAUlX,KAAK8H,MAAMoP,QACrBC,EAASnX,KAAK8H,MAAMqP,OAEtBK,GAAY,EAAApD,EAAAqD,OAAO,YAAa,iBAEhCC,EAAYF,EAAUvJ,KAAK,QAC3B0J,EAAYH,EAAUvJ,KAAK,QAC/ByJ,GAAaR,EAAWQ,EAAUzJ,KAAK,YAAcyJ,EACrDC,EAAaR,EAAUQ,EAAU1J,KAAK,YAAc0J,CAEpD,IAAIC,GAAgBV,EAAW,WAAa,GACxCW,EAAiBV,EAAU,WAAa,EAE5C,OACExY,GAAAzB,QAAA0B,cAAA,YACED,EAAAzB,QAAA0B,cAAA,UACEsP,QAASlO,KAAKoX,iBACdjJ,UAAWnO,KAAK6N,eAChBd,UAAW2K,EAAUI,KAAK,KAC1BrK,SAAS,MACTsK,SAAUH,GACRjZ,EAAAzB,QAAA0B,cAAA,QACEmO,UAAU,sBACT/M,KAAK8H,MAAM3B,2BAIlBxH,EAAAzB,QAAA0B,cAAA,UACEsP,QAASlO,KAAKsX,aACdnJ,UAAWnO,KAAK6N,eAChBd,UAAW4K,EAAUG,KAAK,KAC1BrK,SAAS,MACTsK,SAAUF,GACVlZ,EAAAzB,QAAA0B,cAAA,QACEmO,UAAU,sBACT/M,KAAK8H,MAAMzB,2BAkBlBuQ,EAAkB,SAACxO,EAAON,GAE9B,GAAMN,GAAYM,EAAMN,UAClBwQ,EAAoBlQ,EAAMxI,SAASgK,IAAI,MACvC2O,EAAQzQ,EAAUyQ,QAAQ3O,IAAI,MAC9B4O,EAAO1Q,EAAU0Q,OAAO5O,IAAI,KAElC,QACE4N,QAASe,IAAUD,EACnBb,OAAQe,IAASF,GvBktGpBnb,GAAQK,SuBzsGM,EAAA2F,EAAAwF,SAAQuO,GAAiBK,IvB6sGlCkB,IACA,SAASvb,EAAQC,EAASC,GAE/B,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,GwBn6GV,IAAAmB,GAAAtE,EAAA,GxBw6GK6B,EAAU5B,EAAuBqE,GwBv6GtCyN,EAAA/R,EAAA,KxB26GKgS,EAA2B/R,EAAuB8R,GwB16GvDuJ,EAAAtb,EAAA,KxB86GKub,EAAyBtb,EAAuBqb,GwBz4G/CE,EAAwB3Z,EAAAzB,QAAMmK,aAAYC,YAAA,wBAK9CC,WACEjI,SAAUX,EAAAzB,QAAMuK,UAAUC,OAAOgF,WACjC2C,iBAAkB1Q,EAAAzB,QAAMuK,UAAUkJ,KAElChQ,QAAShC,EAAAzB,QAAMuK,UAAU4E,OACzBxL,UAAWlC,EAAAzB,QAAMuK,UAAU4E,OAE3BhI,aAAc1F,EAAAzB,QAAMuK,UAAU4E,OAC9BlH,kBAAmBxG,EAAAzB,QAAMuK,UAAU4E,OACnChH,mBAAoB1G,EAAAzB,QAAMuK,UAAU4E,OACpC9G,0BAA2B5G,EAAAzB,QAAMuK,UAAU4E,OAC3C5G,wBAAyB9G,EAAAzB,QAAMuK,UAAU4E,QAY3CkM,gBA5B8C,SA4B9BjZ,GACd,MAAOA,GAASgK,IAAI,QAAQ2F,QAAQjP,KAAK8H,MAAM3C,sBAAuB,GAMxEzG,OAnC8C,WAoC5C,GAAMY,GAAWU,KAAK8H,MAAMxI,SACtBgQ,EAAehQ,EAASgK,IAAI,aAElC,OACE3K,GAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,kBACX/M,KAAK8H,MAAMuH,kBAAoBC,EAC/B3Q,EAAAzB,QAAA0B,cAAAkQ,EAAA5R,SACEoC,SAAUA,EACVR,WAAYkB,KAAK8H,MAAMzD,eACvB,MAGFrE,KAAK8H,MAAMuH,kBAAoBrP,KAAKuY,gBAAgBjZ,GACpDX,EAAAzB,QAAA0B,cAAAyZ,EAAAnb,SACEoC,SAAUA,EAEVqB,QAASX,KAAK8H,MAAMnH,QACpBE,UAAWb,KAAK8H,MAAMjH,UAEtB/B,WAAYkB,KAAK8H,MAAMzC,mBACvBE,0BAA2BvF,KAAK8H,MAAMvC,0BACtCE,wBAAyBzF,KAAK8H,MAAMrC,0BACpC,QxBm7GX5I,GAAQK,QwB56GMob,GxBg7GTE,IACA,SAAS5b,EAAQC,EAASC,GAE/B,YAqBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAnBvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQ4b,qBAAuBlb,MyBhiHhC,IAAA6D,GAAAtE,EAAA,GzBoiHK6B,EAAU5B,EAAuBqE,GyBniHtCyB,EAAA/F,EAAA,KACAsD,EAAAtD,EAAA,KACA6Q,EAAA7Q,EAAA,KACAuE,EAAAvE,EAAA,KzB0iHK2D,EAAe1D,EAAuBsE,GyBrgH9BoX,yBAAuB9Z,EAAAzB,QAAMmK,aAAYC,YAAA,uBAKpDC,WACE5G,QAAShC,EAAAzB,QAAMuK,UAAU4E,OACzBxL,UAAWlC,EAAAzB,QAAMuK,UAAU4E,OAE3B/M,SAAUX,EAAAzB,QAAMuK,UAAUC,OAC1B3F,YAAapD,EAAAzB,QAAMuK,UAAUsH,KAC7B2J,iBAAkB/Z,EAAAzB,QAAMuK,UAAUsH,KAClC4J,iBAAkBha,EAAAzB,QAAMuK,UAAUsH,KAElCjQ,WAAYH,EAAAzB,QAAMuK,UAAU4E,OAC5B9G,0BAA2B5G,EAAAzB,QAAMuK,UAAU4E,OAC3C5G,wBAAyB9G,EAAAzB,QAAMuK,UAAU4E,QAc3CzK,eA9BoD,SA8BrCwL,GAIb,GAHAA,EAAE6F,iBACF7F,EAAEG,kBAEEjP,OAAOsa,QAAQ5Y,KAAK8H,MAAMvC,2BAA4B,CAExD,GAAM7H,GAAasC,KAAK8H,MAAMxI,SAASgK,IAAI,KAG3C7I,GAAAvD,QACGwD,KAAKV,KAAK8H,MAAMnH,SAChBC,MAAM,SAAU,yBAChBA,MAAM,QAASZ,KAAK8H,MAAMjH,WAC1BD,MAAM,KAAMlD,GACZoD,KACC,aACAd,KAAKkV,YAGTvH,EAAAK,YAAYC,KAAK,aACjBjO,KAAK8H,MAAM4Q,iBAAiBhb,KAUhCwX,WA5DoD,WA6DlD,GAAM2D,GAAgB7Y,KAAK8H,MAAMxI,SAASgL,IAAI,QAAStK,KAAK8H,MAAMrC,wBAClEzF,MAAK8H,MAAM/F,YAAY8W,IAMzBna,OApEoD,WAsElD,GAAMoa,GAAY9Y,KAAK8H,MAAM6Q,iBAAoB3Y,KAAK8H,MAAM6Q,iBAAmB3Y,KAAK4B,cAEpF,OACEjD,GAAAzB,QAAA0B,cAAA,KACEsP,QAAS4K,EACTrG,KAAK,IACLhF,SAAS,MACTV,UAAU,wCACT/M,KAAK8H,MAAMhJ,eAedkR,EAAqB,SAAC7P,GAC1B,OACE4B,YAAa,SAACzC,GACZa,GAAS,EAAAC,EAAA2B,aAAYzC,KAGvBoZ,iBAAkB,SAACxW,GACjB/B,GAAS,EAAAC,EAAAwB,gBAAeM,MzBkjH7BrF,GAAQK,SyBxiHM,EAAA2F,EAAAwF,SAAQ,KAAM2H,GAAoByI,IzB4iH3CM,IACA,SAASnc,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,G0BzsHV,IAAAmB,GAAAtE,EAAA,G1B8sHK6B,EAAU5B,EAAuBqE,G0B1qHhC4X,EAAsB,SAAA7I,GAAe,GAAZX,GAAYW,EAAZX,MACvBzC,EAAayC,EAAS,aAAe,kBAE3C,OACE7Q,GAAAzB,QAAA0B,cAAA,OAAKmO,UAAU,qBACbpO,EAAAzB,QAAA0B,cAAA,OAAKmO,UAAWA,GACbyC,EAAQ7Q,EAAAzB,QAAA0B,cAAA,OAAKwR,IAAKZ,EAAOa,IAAI,KAAO,OAM7C2I,GAAoBzR,WAClBiI,MAAO7Q,EAAAzB,QAAMuK,UAAU4E,Q1ButHxBxP,EAAQK,Q0BptHM8b,G1BwtHTC,IACA,SAASrc,EAAQC,GAEtB,YAEAqE,QAAOC,eAAetE,EAAS,cAC7BoD,OAAO;;;;;;;;AAqCTpD,EAAQK,Q2BrxHM,WACb,OAAO,I3B0xHHgc,IACA,SAAStc,EAAQC,EAASC,GAE/B,YAEAoE,QAAOC,eAAetE,EAAS,cAC7BoD,OAAO,IAETpD,EAAQsc,aAAe5b,MAEvB,IAAI6b,GAAWlY,OAAOmY,QAAU,SAAU/L,GAAU,IAAK,GAAI1C,GAAI,EAAGA,EAAI0O,UAAU1b,OAAQgN,IAAK,CAAE,GAAI2O,GAASD,UAAU1O,EAAI,KAAK,GAAI1C,KAAOqR,GAAcrY,OAAOsY,UAAUC,eAAeC,KAAKH,EAAQrR,KAAQoF,EAAOpF,GAAOqR,EAAOrR,IAAY,MAAOoF,GAEvPzQ,GAAQK,Q4BvvHM,WAAwC,GAA9BkL,GAA8BkR,UAAA1b,OAAA,GAAAL,SAAA+b,UAAA,GAAAA,UAAA,GAAtBH,EAAcQ,EAAQL,UAAA,EAErD,QAAQK,EAAO1X,MAMb,IAAA7B,GAAAiC,iBACE,MAAA+W,MACKhR,GACHU,OAAQ6Q,EAAO1Y,MAQnB,KAAAb,GAAAkC,gBACE,MAAA8W,MACKhR,GACHlI,eAAgByZ,EAAOzX,IAQ3B,KAAA9B,GAAAmC,aACE,MAAA6W,MACKhR,GACH7H,KAAM6H,EAAM7H,KAAK0N,KAAK0L,EAAOra,WAQjC,KAAAc,GAAAoC,gBACE,MAAA4W,MACKhR,GACH7H,KAAM6H,EAAM7H,KAAK+J,IAAIsP,EAAiBxR,EAAM7H,KAAMoZ,EAAOra,SAASgK,IAAI,OAAQqQ,EAAOra,WAQzF,KAAAc,GAAAqC,sBACE,MAAA2W,MACKhR,GACH7H,KAAM6H,EAAM7H,KAAKsZ,OAAQD,EAAiBxR,EAAM7H,KAAMoZ,EAAOzX,IAAKyX,EAAOxX,MAAQwX,EAAO1Z,QAQ5F,KAAAG,GAAAsC,gBACE,MAAA0W,MACKhR,GACH7H,KAAM6H,EAAM7H,KAAK+E,OAAOsU,EAAiBxR,EAAM7H,KAAMoZ,EAAOzX,OAKlE,MAAOkG,GAzJT,IAAAgM,GAAAtX,EAAA,KACAsD,EAAAtD,EAAA,KA8Caqc,kBACX5Y,MAAM,EAAA6T,EAAAoB,QAAOhY,MAAMC,cACnByC,eAAgB1C,MAAM0C,gBAAkB1C,MAAMsc,sBAC9ChR,OAAQ,IAcJ8Q,EAAmB,SAACrZ,EAAM2B,GAC9B,MAAO3B,GAAKwZ,QAAQ,SAACza,GACnB,GAAIA,EAASgK,IAAI,QAAUpH,EACzB,OAAO,M5B45HP8X,IACA,SAASpd,EAAQC,EAASC,GAE/B,YAYA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAVvFkE,OAAOC,eAAetE,EAAS,cAC7BoD,OAAO,G6Br+HV,IAAAmB,GAAAtE,EAAA,G7B0+HK6B,EAAU5B,EAAuBqE,G6Bz+HtCuM,EAAA7Q,EAAA,KAoCMmd,EAAiBtb,EAAAzB,QAAMmK,aAAYC,YAAA,iBAKvCC,WACEzI,WAAYH,EAAAzB,QAAMuK,UAAU4E,QAU9B6N,YAhBuC,SAgB3B9M,GACVA,EAAE6F,iBACF7F,EAAEG,kBAEFI,EAAAK,YAAYC,KAAK,cAMnBvP,OA1BuC,WA0B9B,GAAAkJ,GAAA5H,IACP,OACErB,GAAAzB,QAAA0B,cAAA,UACEqD,KAAK,SACLC,GAAG,0BACH6K,UAAU,sBACVmB,QAASlO,KAAKka,YACd1M,IAAK,SAAAf,GAAA,MAAQ7E,GAAKuS,OAAS1N,IAE1BzM,KAAK8H,MAAMhJ,c7B0/HnBjC,GAAQK,Q6Bp/HM+c","file":"app.bundle.min.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _templateBootstrap = __webpack_require__(2);\n\t\n\tvar _templateBootstrap2 = _interopRequireDefault(_templateBootstrap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * JS Entry point for WebPack\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t*/\n\t\n\t/**\r\n\t * Our main entry point for our modern unit-tested JS\r\n\t * This file gets run through Webpack to built it into valid ES5\r\n\t *\r\n\t * As we convert more JS to ES6 we'll likely load it from this file (unless we decide to make each feature modular)\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\t(0, _jquery2.default)(function () {\n\t\n\t  'use strict';\n\t\n\t  /* Initialise the Fancy Template Picker */\n\t\n\t  if (GFPDF.templateList !== undefined) {\n\t\n\t    /* Check if we should show the Fancy Template Picker */\n\t    var templateId = '#gfpdf_settings\\\\[template\\\\], #gfpdf_settings\\\\[default_template\\\\]';\n\t    var $templateField = (0, _jquery2.default)(templateId);\n\t\n\t    /* Run this code if the element exists */\n\t    if ($templateField.length > 0) {\n\t      (0, _templateBootstrap2.default)($templateField);\n\t    }\n\t  }\n\t});\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = templateBootstrap;\n\texports.setupReducers = setupReducers;\n\texports.createTemplateMarkup = createTemplateMarkup;\n\texports.activeTemplateStoreListener = activeTemplateStoreListener;\n\texports.templateChangeStoreListener = templateChangeStoreListener;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(30);\n\t\n\tvar _superagent = __webpack_require__(168);\n\t\n\tvar _superagent2 = _interopRequireDefault(_superagent);\n\t\n\tvar _redux = __webpack_require__(173);\n\t\n\tvar _reduxWatch = __webpack_require__(194);\n\t\n\tvar _reduxWatch2 = _interopRequireDefault(_reduxWatch);\n\t\n\tvar _templates = __webpack_require__(196);\n\t\n\tvar _templateRouter = __webpack_require__(198);\n\t\n\tvar _templateRouter2 = _interopRequireDefault(_templateRouter);\n\t\n\tvar _templateReducer = __webpack_require__(286);\n\t\n\tvar _templateReducer2 = _interopRequireDefault(_templateReducer);\n\t\n\tvar _TemplateButton = __webpack_require__(287);\n\t\n\tvar _TemplateButton2 = _interopRequireDefault(_TemplateButton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Advanced Template Selector Bootstrap\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t*/\n\t\n\t/**\r\n\t * Handles the loading of our Fancy Template Selector\r\n\t *\r\n\t * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tfunction templateBootstrap($templateField) {\n\t\n\t  /* Combine our Redux Reducers */\n\t  var reducers = setupReducers();\n\t\n\t  /* Create our store and enable the Redux dev tools, if they exist */\n\t  var store = (0, _redux.createStore)(reducers, window.devToolsExtension && window.devToolsExtension());\n\t\n\t  /* Create our button container and render our component in it */\n\t  createTemplateMarkup($templateField);\n\t\n\t  /* Render our React Component in the DOM */\n\t  (0, _reactDom.render)(_react2.default.createElement(_TemplateButton2.default, { store: store, buttonText: GFPDF.advanced }), document.getElementById('gpdf-advance-template-selector'));\n\t\n\t  /* Mount our router */\n\t  (0, _templateRouter2.default)(store);\n\t\n\t  /*\r\n\t   * Listen for Redux store updates and do DOM updates\r\n\t   */\n\t  activeTemplateStoreListener(store, $templateField);\n\t  templateChangeStoreListener(store, $templateField);\n\t}\n\t\n\t/**\r\n\t * Combine our Redux reducers for use in a single store\r\n\t * If you want to add new top-level keys to our store, this is the place\r\n\t *\r\n\t * @returns {Function}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tfunction setupReducers() {\n\t  return (0, _redux.combineReducers)({\n\t    template: _templateReducer2.default\n\t  });\n\t}\n\t\n\t/**\r\n\t * Dynamically add the required markup to attach our React components to.\r\n\t *\r\n\t * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tfunction createTemplateMarkup($templateField) {\n\t  $templateField.next().after('<span id=\"gpdf-advance-template-selector\">').next().after('<div id=\"gfpdf-overlay\" class=\"theme-overlay\">');\n\t}\n\t\n\t/**\r\n\t * Listen for updates to the template.activeTemplate data in our Redux store\r\n\t * and update the select box value based on this change. Also, listen for changes\r\n\t * to our select box and update the store when needed.\r\n\t *\r\n\t * @param {Object} store The Redux store returned from createStore()\r\n\t * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tfunction activeTemplateStoreListener(store, $templateField) {\n\t\n\t  /* Watch our store for changes */\n\t  var w = (0, _reduxWatch2.default)(store.getState, 'template.activeTemplate');\n\t  store.subscribe(w(function (template) {\n\t\n\t    /* Check store and DOM are different to prevent any update recursions */\n\t    if ($templateField.val() !== template) {\n\t      $templateField.val(template).trigger('chosen:updated').trigger('change');\n\t    }\n\t  }));\n\t\n\t  /* Watch our DOM for changes */\n\t  $templateField.change(function () {\n\t    /* Check store and DOM are different to prevent any update recursions */\n\t    if (this.value !== store.getState().template.activeTemplate) {\n\t      store.dispatch((0, _templates.selectTemplate)(this.value));\n\t    }\n\t  });\n\t}\n\t\n\t/**\r\n\t * PHP builds the Select box DOM for the templates and when we add or delete a template we need to rebuild this.\r\n\t * Instead of duplicating the code on both server and client side we do an AJAX call to get the new Selex box HTML when\r\n\t * the template.list length changes and update the DOM accordingly.\r\n\t *\r\n\t * @param {Object} store The Redux store returned from createStore()\r\n\t * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tfunction templateChangeStoreListener(store, $templateField) {\n\t\n\t  /* Track the initial list size */\n\t  var listCount = store.getState().template.list.size;\n\t\n\t  /* Watch our store for changes */\n\t  var w = (0, _reduxWatch2.default)(store.getState, 'template.list');\n\t  store.subscribe(w(function (list) {\n\t\n\t    /* Only update if the list size differs from what we expect */\n\t    if (listCount !== list.size) {\n\t      /* update the list size so we don't run it twice */\n\t      listCount = list.size;\n\t\n\t      /* Do our AJAX call to get the new Select Box DOM */\n\t      _superagent2.default.post(GFPDF.ajaxUrl).field('action', 'gfpdf_get_template_options').field('nonce', GFPDF.ajaxNonce).then(function (response) {\n\t        $templateField.html(response.text).trigger('chosen:updated').trigger('change');\n\t      });\n\t    }\n\t  }));\n\t}\n\n/***/ },\n\n/***/ 196:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.deleteTemplate = exports.updateTemplateParam = exports.updateTemplate = exports.addTemplate = exports.selectTemplate = exports.searchTemplates = undefined;\n\t\n\tvar _templates = __webpack_require__(197);\n\t\n\t/**\r\n\t * Redux Actions - payloads of information that send data from your application to your store\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n\t */\n\t\n\t/**\r\n\t * Fires the Advanced Template Search action\r\n\t *\r\n\t * @param {string} text\r\n\t *\r\n\t * @returns {{type, text: *}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar searchTemplates = exports.searchTemplates = function searchTemplates(text) {\n\t  return {\n\t    type: _templates.SEARCH_TEMPLATES,\n\t    text: text\n\t  };\n\t};\n\t\n\t/**\r\n\t * Fires the Advanced Template select/activate action\r\n\t *\r\n\t * @param {string} id The template ID\r\n\t *\r\n\t * @returns {{type, id: *}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar selectTemplate = exports.selectTemplate = function selectTemplate(id) {\n\t  return {\n\t    type: _templates.SELECT_TEMPLATE,\n\t    id: id\n\t  };\n\t};\n\t\n\t/**\r\n\t * Fires the Advanced Template add new template action\r\n\t *\r\n\t * @param {object} template An Immutable Map\r\n\t *\r\n\t * @returns {{type, template: *}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar addTemplate = exports.addTemplate = function addTemplate(template) {\n\t  return {\n\t    type: _templates.ADD_TEMPLATE,\n\t    template: template\n\t  };\n\t};\n\t\n\t/**\r\n\t * Fires the Advanced Template update action which overrides the entire template object with a new one\r\n\t *\r\n\t * @param {object} template An Immutable Map\r\n\t *\r\n\t * @returns {{type, template: *}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar updateTemplate = exports.updateTemplate = function updateTemplate(template) {\n\t  return {\n\t    type: _templates.UPDATE_TEMPLATE,\n\t    template: template\n\t  };\n\t};\n\t\n\t/**\r\n\t * Fires the Advanced Template update action which replaces a template parameter with a new value\r\n\t *\r\n\t * @param {string} id The template ID\r\n\t * @param {string} name The parameter key to update\r\n\t * @param {string} value The new value for the parameter\r\n\t *\r\n\t * @returns {{type, id: *, name: *, value: *}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar updateTemplateParam = exports.updateTemplateParam = function updateTemplateParam(id, name, value) {\n\t  return {\n\t    type: _templates.UPDATE_TEMPLATE_PARAM,\n\t    id: id,\n\t    name: name,\n\t    value: value\n\t  };\n\t};\n\t\n\t/**\r\n\t * Fires the Advanced Template delete action which removes the template from our store\r\n\t *\r\n\t * @param  {string} id The template ID\r\n\t *\r\n\t * @returns {{type, id: *}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar deleteTemplate = exports.deleteTemplate = function deleteTemplate(id) {\n\t  return {\n\t    type: _templates.DELETE_TEMPLATE,\n\t    id: id\n\t  };\n\t};\n\n/***/ },\n\n/***/ 197:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Our Redux Action Type Constants\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\tvar SEARCH_TEMPLATES = exports.SEARCH_TEMPLATES = 'SEARCH_TEMPLATES';\n\tvar SELECT_TEMPLATE = exports.SELECT_TEMPLATE = 'SELECT_TEMPLATE';\n\tvar ADD_TEMPLATE = exports.ADD_TEMPLATE = 'ADD_TEMPLATE';\n\tvar UPDATE_TEMPLATE = exports.UPDATE_TEMPLATE = 'UPDATE_TEMPLATE';\n\tvar UPDATE_TEMPLATE_PARAM = exports.UPDATE_TEMPLATE_PARAM = 'UPDATE_TEMPLATE_PARAM';\n\tvar DELETE_TEMPLATE = exports.DELETE_TEMPLATE = 'DELETE_TEMPLATE';\n\n/***/ },\n\n/***/ 198:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Routes = undefined;\n\texports.default = TemplatesRouter;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(30);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _Route = __webpack_require__(208);\n\t\n\tvar _Route2 = _interopRequireDefault(_Route);\n\t\n\tvar _Router = __webpack_require__(211);\n\t\n\tvar _Router2 = _interopRequireDefault(_Router);\n\t\n\tvar _hashHistory = __webpack_require__(227);\n\t\n\tvar _hashHistory2 = _interopRequireDefault(_hashHistory);\n\t\n\tvar _TemplateList = __webpack_require__(246);\n\t\n\tvar _TemplateList2 = _interopRequireDefault(_TemplateList);\n\t\n\tvar _TemplateSingle = __webpack_require__(280);\n\t\n\tvar _TemplateSingle2 = _interopRequireDefault(_TemplateSingle);\n\t\n\tvar _Empty = __webpack_require__(285);\n\t\n\tvar _Empty2 = _interopRequireDefault(_Empty);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * React Router v3 Routes with our Redux store integrated\r\n\t *\r\n\t * Once React Router v4 becomes stable we'll update as required, or if we need to decouple our\r\n\t * routes for another module.\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n\t */\n\t\n\t/**\r\n\t * Contains the React Router Routes for our Advanced Template Selector.\r\n\t * We are using hashHistory instead of browserHistory so as not to affect the backend\r\n\t *\r\n\t * Routes include:\r\n\t *\r\n\t * /template/ (../components/TemplateList)\r\n\t * /template/:id (../components/TemplateSingle)\r\n\t * All other routes (../components/Empty)\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Routes = exports.Routes = function Routes() {\n\t  return _react2.default.createElement(\n\t    _Router2.default,\n\t    { history: _hashHistory2.default },\n\t    _react2.default.createElement(_Route2.default, { path: 'template',\n\t      component: _TemplateList2.default,\n\t\n\t      ajaxUrl: GFPDF.ajaxUrl,\n\t      ajaxNonce: GFPDF.ajaxNonce,\n\t\n\t      templateDetailsText: GFPDF.templateDetails,\n\t      templateHeaderText: GFPDF.installedPdfs,\n\t\n\t      genericUploadErrorText: GFPDF.problemWithTheUpload,\n\t      activateText: GFPDF.select,\n\t      addTemplateText: GFPDF.addNewTemplate,\n\t      filenameErrorText: GFPDF.uploadInvalidNotZipFile,\n\t      filesizeErrorText: GFPDF.uploadInvalidExceedsFileSizeLimit,\n\t      installSuccessText: GFPDF.templateSuccessfullyInstalled,\n\t      installUpdatedText: GFPDF.templateSuccessfullyUpdated,\n\t      templateSuccessfullyInstalledUpdated: GFPDF.templateSuccessfullyInstalledUpdated,\n\t      templateInstallInstructions: GFPDF.templateInstallInstructions\n\t    }),\n\t    _react2.default.createElement(_Route2.default, { path: 'template/:id',\n\t      component: _TemplateSingle2.default,\n\t\n\t      ajaxUrl: GFPDF.ajaxUrl,\n\t      ajaxNonce: GFPDF.ajaxNonce,\n\t      pdfWorkingDirPath: GFPDF.pdfWorkingDir,\n\t\n\t      activateText: GFPDF.select,\n\t      templateDeleteText: GFPDF.delete,\n\t      templateConfirmDeleteText: GFPDF.doYouWantToDeleteTemplate,\n\t      templateDeleteErrorText: GFPDF.couldNotDeleteTemplate,\n\t      currentTemplateText: GFPDF.currentTemplate,\n\t      versionText: GFPDF.version,\n\t      groupText: GFPDF.group,\n\t      tagsText: GFPDF.tags,\n\t      showPreviousTemplateText: GFPDF.showPreviousTemplate,\n\t      showNextTemplateText: GFPDF.showNextTemplate\n\t    }),\n\t    _react2.default.createElement(_Route2.default, { path: '*', component: _Empty2.default })\n\t  );\n\t};\n\t\n\t/**\r\n\t * Setup React Router with our Redux Store\r\n\t *\r\n\t * @param {Object} store Redux Store\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tfunction TemplatesRouter(store) {\n\t  (0, _reactDom.render)(_react2.default.createElement(\n\t    _reactRedux.Provider,\n\t    { store: store },\n\t    _react2.default.createElement(Routes, null)\n\t  ), document.getElementById('gfpdf-overlay'));\n\t}\n\n/***/ },\n\n/***/ 246:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateList = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _getTemplates = __webpack_require__(247);\n\t\n\tvar _getTemplates2 = _interopRequireDefault(_getTemplates);\n\t\n\tvar _TemplateContainer = __webpack_require__(250);\n\t\n\tvar _TemplateContainer2 = _interopRequireDefault(_TemplateContainer);\n\t\n\tvar _TemplateListItem = __webpack_require__(267);\n\t\n\tvar _TemplateListItem2 = _interopRequireDefault(_TemplateListItem);\n\t\n\tvar _TemplateSearch = __webpack_require__(273);\n\t\n\tvar _TemplateSearch2 = _interopRequireDefault(_TemplateSearch);\n\t\n\tvar _TemplateHeaderTitle = __webpack_require__(275);\n\t\n\tvar _TemplateHeaderTitle2 = _interopRequireDefault(_TemplateHeaderTitle);\n\t\n\tvar _TemplateUploader = __webpack_require__(276);\n\t\n\tvar _TemplateUploader2 = _interopRequireDefault(_TemplateUploader);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * The master component for rendering the all PDF templates as a list\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateList = exports.TemplateList = _react2.default.createClass({\n\t  displayName: 'TemplateList',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    templates: _react2.default.PropTypes.object,\n\t    route: _react2.default.PropTypes.object\n\t  },\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    var header = _react2.default.createElement(_TemplateHeaderTitle2.default, { header: this.props.route.templateHeaderText });\n\t\n\t    return _react2.default.createElement(\n\t      _TemplateContainer2.default,\n\t      { header: header, closeRoute: '/' },\n\t      _react2.default.createElement(_TemplateSearch2.default, null),\n\t      _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        this.props.templates.map(function (value, index) {\n\t          return _react2.default.createElement(_TemplateListItem2.default, {\n\t            key: index,\n\t            template: value,\n\t            templateDetailsText: _this.props.route.templateDetailsText,\n\t            activateText: _this.props.route.activateText });\n\t        }),\n\t        _react2.default.createElement(_TemplateUploader2.default, {\n\t          ajaxUrl: this.props.route.ajaxUrl,\n\t          ajaxNonce: this.props.route.ajaxNonce,\n\t          addTemplateText: this.props.route.addTemplateText,\n\t          genericUploadErrorText: this.props.route.genericUploadErrorText,\n\t          filenameErrorText: this.props.route.filenameErrorText,\n\t          filesizeErrorText: this.props.route.filesizeErrorText,\n\t          installSuccessText: this.props.route.installSuccessText,\n\t          installUpdatedText: this.props.route.installUpdatedText,\n\t          templateSuccessfullyInstalledUpdated: this.props.route.templateSuccessfullyInstalledUpdated,\n\t          templateInstallInstructions: this.props.route.templateInstallInstructions\n\t        })\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map state to props\r\n\t *\r\n\t * @param {Object} state The current Redux State\r\n\t *\r\n\t * @returns {{templates}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    templates: (0, _getTemplates2.default)(state)\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(mapStateToProps)(TemplateList);\n\n/***/ },\n\n/***/ 247:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.addCompatibilityCheck = exports.sortTemplates = exports.searchTemplates = undefined;\n\t\n\tvar _reselect = __webpack_require__(248);\n\t\n\tvar _versionCompare = __webpack_require__(249);\n\t\n\tvar _versionCompare2 = _interopRequireDefault(_versionCompare);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Uses the Redux Reselect library to sort, filter and search our templates.\r\n\t * It also checks if the PDF templates are compatible with the current version of Gravity PDF\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n\t */\n\t\n\t/* Assign specific parts of the Redux store to constants (note, we are returning functions) */\n\tvar getTemplates = function getTemplates(state) {\n\t  return state.template.list;\n\t};\n\tvar getSearch = function getSearch(state) {\n\t  return state.template.search;\n\t};\n\tvar getActiveTemplate = function getActiveTemplate(state) {\n\t  return state.template.activeTemplate;\n\t};\n\t\n\t/**\r\n\t * Searches our templates for specific terms and returns the results\r\n\t * This function is adapted from the Backbone.js filter for themes\r\n\t *\r\n\t * @param {string} term\r\n\t * @param {Object} templates Immutable List of templates\r\n\t *\r\n\t * @returns {Object} Filtered Immutable list of templates\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar searchTemplates = exports.searchTemplates = function searchTemplates(term, templates) {\n\t  /*\r\n\t   * Escape the term string for RegExp meta characters\r\n\t   * Consider spaces as word delimiters and match the whole string\r\n\t   */\n\t  term = term.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t  term = term.replace(/ /g, ')(?=.*');\n\t\n\t  var match = new RegExp('^(?=.*' + term + ').+', 'i');\n\t\n\t  /* Filter through the templates. Any templates return \"true\" in out match.test() statement will be included */\n\t  var results = templates.filter(function (template) {\n\t\n\t    /* Do very basic HTML tag removal from the fields we are interested in */\n\t    var name = template.get('template').replace(/(<([^>]+)>)/ig, '');\n\t    var description = template.get('description').replace(/(<([^>]+)>)/ig, '');\n\t    var author = template.get('author').replace(/(<([^>]+)>)/ig, '');\n\t    var group = template.get('group').replace(/(<([^>]+)>)/ig, '');\n\t\n\t    /* Check if our matching term(s) are found in the string */\n\t    return match.test([name, template.get('id'), group, description, author].toString());\n\t  });\n\t\n\t  return results;\n\t};\n\t\n\t/**\r\n\t * A PDF template sorting function\r\n\t *\r\n\t * The sort order is as follows:\r\n\t *\r\n\t * 1. Any new templates get auto-shifted to the back of the list (just installed)\r\n\t * 2. The active template gets auto-shifted to the front of the list\r\n\t * 3. The templates are then sorted alphabetically by group\r\n\t * 4. Then alphabetically by name\r\n\t *\r\n\t * @param {Object} templates The Immutable list of templates\r\n\t * @param {string} activeTemplate The current active PDF template\r\n\t *\r\n\t * @returns {Object} Sorted Immutable List\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar sortTemplates = exports.sortTemplates = function sortTemplates(templates, activeTemplate) {\n\t  /* Sort out template list using our comparator function */\n\t  return templates.sort(function (a, b) {\n\t\n\t    /* Shift new templates to the bottom (only on install) */\n\t    if (a.get('new', false) === true && a.get('new', false) === true) {\n\t      return 0; //equal\n\t    }\n\t\n\t    if (a.get('new', false) === true) {\n\t      return 1;\n\t    }\n\t\n\t    if (b.get('new', false) === true) {\n\t      return -1;\n\t    }\n\t\n\t    /* Hoist the active template above the rest */\n\t    if (activeTemplate === a.get('id')) {\n\t      return -1;\n\t    }\n\t\n\t    if (activeTemplate === b.get('id')) {\n\t      return 1;\n\t    }\n\t\n\t    /* Order alphabetically by the group name */\n\t    if (a.get('group') < b.get('group')) {\n\t      return -1; //before\n\t    }\n\t\n\t    if (a.get('group') > b.get('group')) {\n\t      return 1; //after\n\t    }\n\t\n\t    /* Then order alphabetically by the template name */\n\t    if (a.get('template') < b.get('template')) {\n\t      return -1; //before\n\t    }\n\t\n\t    if (a.get('template') > b.get('template')) {\n\t      return 1; //after\n\t    }\n\t\n\t    return 0; //equal\n\t  });\n\t};\n\t\n\t/**\r\n\t * Check all PDF templates for compatibility with the current verison of Gravity PDF\r\n\t * If they don't pass we'll also dynamically apply error messages\r\n\t *\r\n\t * @param {Object} templates The Immutable list of templates\r\n\t *\r\n\t * @returns {Object} The Immutable list of templates\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar addCompatibilityCheck = exports.addCompatibilityCheck = function addCompatibilityCheck(templates) {\n\t  /* Apply this function to all templates */\n\t  return templates.map(function (template) {\n\t    /* Get the PDF version and check it against the Gravity PDF version */\n\t    var requiredVersion = template.get('required_pdf_version');\n\t    if ((0, _versionCompare2.default)(requiredVersion, GFPDF.currentVersion, '>')) {\n\t      /* Not compatible, so let's mark it */\n\t      return template.merge({\n\t        'compatible': false,\n\t        'error': GFPDF.requiresGravityPdfVersion.replace(/%s/g, requiredVersion),\n\t        'long_error': GFPDF.templateNotCompatibleWithGravityPdfVersion.replace(/%s/g, requiredVersion)\n\t      });\n\t    }\n\t    /* If versionCompare() passed we'll mark as true */\n\t    return template.set('compatible', true);\n\t  });\n\t};\n\t\n\t/**\r\n\t * Create our Reselect selector and apply to our store\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reselect.createSelector)([getTemplates, getSearch, getActiveTemplate], function (templates, search, activeTemplate) {\n\t\n\t  templates = addCompatibilityCheck(templates);\n\t\n\t  if (search) {\n\t    templates = searchTemplates(search, templates);\n\t  }\n\t\n\t  return sortTemplates(templates, activeTemplate);\n\t});\n\n/***/ },\n\n/***/ 249:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/**\r\n\t * A JS-port of PHP's version_compare()\r\n\t *\r\n\t * This function is taken from the Locutus project which has an MIT license.\r\n\t * The MIT license and copyright notice is included\r\n\t *\r\n\t * https://github.com/kvz/locutus\r\n\t * https://github.com/kvz/locutus/blob/master/src/php/info/version_compare.js\r\n\t *\r\n\t * @param string v1 First version number\r\n\t * @param string v2 Second version number\r\n\t * @param string operator optional If the third optional operator argument is specified, test for a particular relationship.\r\n\t *                                 The possible operators are: <, lt, <=, le, >, gt, >=, ge, ==, =, eq, !=, <>, ne respectively.\r\n\t * @returns -1 if the first version is lower than the second, 0 if they are equal, and 1 if the second is lower.\r\n\t *          When using the optional operator argument, the function will return TRUE if the relationship is the one specified by the operator, FALSE otherwise.\r\n\t */\n\t\n\t/*\r\n\t Copyright (c) 2007-2016 Kevin van Zonneveld (http://kvz.io)\r\n\t and Contributors (http://locutus.io/authors)\r\n\t\r\n\t Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n\t this software and associated documentation files (the \"Software\"), to deal in\r\n\t the Software without restriction, including without limitation the rights to\r\n\t use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n\t of the Software, and to permit persons to whom the Software is furnished to do\r\n\t so, subject to the following conditions:\r\n\t\r\n\t The above copyright notice and this permission notice shall be included in all\r\n\t copies or substantial portions of the Software.\r\n\t\r\n\t THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n\t IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n\t FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n\t AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n\t LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n\t OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n\t SOFTWARE.\r\n\t */\n\texports.default = function (v1, v2, operator) {\n\t  //       discuss at: http://locutus.io/php/version_compare/\n\t  //      original by: Philippe Jausions (http://pear.php.net/user/jausions)\n\t  //      original by: Aidan Lister (http://aidanlister.com/)\n\t  // reimplemented by: Kankrelune (http://www.webfaktory.info/)\n\t  //      improved by: Brett Zamir (http://brett-zamir.me)\n\t  //      improved by: Scott Baker\n\t  //      improved by: Theriault (https://github.com/Theriault)\n\t  //        example 1: version_compare('8.2.5rc', '8.2.5a')\n\t  //        returns 1: 1\n\t  //        example 2: version_compare('8.2.50', '8.2.52', '<')\n\t  //        returns 2: true\n\t  //        example 3: version_compare('5.3.0-dev', '5.3.0')\n\t  //        returns 3: -1\n\t  //        example 4: version_compare('4.1.0.52','4.01.0.51')\n\t  //        returns 4: 1\n\t\n\t  // Important: compare must be initialized at 0.\n\t  var i;\n\t  var x;\n\t  var compare = 0;\n\t\n\t  // vm maps textual PHP versions to negatives so they're less than 0.\n\t  // PHP currently defines these as CASE-SENSITIVE. It is important to\n\t  // leave these as negatives so that they can come before numerical versions\n\t  // and as if no letters were there to begin with.\n\t  // (1alpha is < 1 and < 1.1 but > 1dev1)\n\t  // If a non-numerical value can't be mapped to this table, it receives\n\t  // -7 as its value.\n\t  var vm = {\n\t    'dev': -6,\n\t    'alpha': -5,\n\t    'a': -5,\n\t    'beta': -4,\n\t    'b': -4,\n\t    'RC': -3,\n\t    'rc': -3,\n\t    '#': -2,\n\t    'p': 1,\n\t    'pl': 1\n\t  };\n\t\n\t  // This function will be called to prepare each version argument.\n\t  // It replaces every _, -, and + with a dot.\n\t  // It surrounds any nonsequence of numbers/dots with dots.\n\t  // It replaces sequences of dots with a single dot.\n\t  //    version_compare('4..0', '4.0') === 0\n\t  // Important: A string of 0 length needs to be converted into a value\n\t  // even less than an unexisting value in vm (-7), hence [-8].\n\t  // It's also important to not strip spaces because of this.\n\t  //   version_compare('', ' ') === 1\n\t  var _prepVersion = function _prepVersion(v) {\n\t    v = ('' + v).replace(/[_\\-+]/g, '.');\n\t    v = v.replace(/([^.\\d]+)/g, '.$1.').replace(/\\.{2,}/g, '.');\n\t    return !v.length ? [-8] : v.split('.');\n\t  };\n\t  // This converts a version component to a number.\n\t  // Empty component becomes 0.\n\t  // Non-numerical component becomes a negative number.\n\t  // Numerical component becomes itself as an integer.\n\t  var _numVersion = function _numVersion(v) {\n\t    return !v ? 0 : isNaN(v) ? vm[v] || -7 : parseInt(v, 10);\n\t  };\n\t\n\t  v1 = _prepVersion(v1);\n\t  v2 = _prepVersion(v2);\n\t  x = Math.max(v1.length, v2.length);\n\t  for (i = 0; i < x; i++) {\n\t    if (v1[i] === v2[i]) {\n\t      continue;\n\t    }\n\t    v1[i] = _numVersion(v1[i]);\n\t    v2[i] = _numVersion(v2[i]);\n\t    if (v1[i] < v2[i]) {\n\t      compare = -1;\n\t      break;\n\t    } else if (v1[i] > v2[i]) {\n\t      compare = 1;\n\t      break;\n\t    }\n\t  }\n\t  if (!operator) {\n\t    return compare;\n\t  }\n\t\n\t  // Important: operator is CASE-SENSITIVE.\n\t  // \"No operator\" seems to be treated as \"<.\"\n\t  // Any other values seem to make the function return null.\n\t  switch (operator) {\n\t    case '>':\n\t    case 'gt':\n\t      return compare > 0;\n\t    case '>=':\n\t    case 'ge':\n\t      return compare >= 0;\n\t    case '<=':\n\t    case 'le':\n\t      return compare <= 0;\n\t    case '===':\n\t    case '=':\n\t    case 'eq':\n\t      return compare === 0;\n\t    case '<>':\n\t    case '!==':\n\t    case 'ne':\n\t      return compare !== 0;\n\t    case '':\n\t    case '<':\n\t    case 'lt':\n\t      return compare < 0;\n\t    default:\n\t      return null;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 250:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _TemplateCloseDialog = __webpack_require__(251);\n\t\n\tvar _TemplateCloseDialog2 = _interopRequireDefault(_TemplateCloseDialog);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders our Advanced Template Selector container which is shared amongst the components\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Container = _react2.default.createClass({\n\t  displayName: 'Container',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    header: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string, _react2.default.PropTypes.element]),\n\t    footer: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string, _react2.default.PropTypes.element]),\n\t    children: _react2.default.PropTypes.node.isRequired,\n\t    closeRoute: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * On mount, add focus event to document option on mount\r\n\t   * Also, if focus isn't currently applied to the search box we'll apply it\r\n\t   * to our container to help with tabbing between elements\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentDidMount: function componentDidMount() {\n\t    document.addEventListener('focus', this.handleFocus, true);\n\t\n\t    /* Add focus if not currently applied to search box */\n\t    if (document.activeElement && document.activeElement.className !== 'wp-filter-search') {\n\t      this.container.focus();\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Cleanup our document event listeners\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    document.removeEventListener('focus', this.handleFocus, true);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * When a focus event is fired and it's not apart of any DOM elements in our\r\n\t   * container we will focus the container instead. In most cases this keeps the focus from\r\n\t   * jumping outside our Template Container and allows for better keyboard navigation.\r\n\t   *\r\n\t   * @param e\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  handleFocus: function handleFocus(e) {\n\t    if (!this.container.contains(e.target)) {\n\t      e.stopPropagation();\n\t      this.container.focus();\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    var header = this.props.header,\n\t        footer = this.props.footer,\n\t        children = this.props.children,\n\t        closeRoute = this.props.closeRoute;\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { ref: function ref(node) {\n\t          return _this.container = node;\n\t        }, tabIndex: '140' },\n\t      _react2.default.createElement('div', { className: 'backdrop theme-backdrop' }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'container theme-wrap' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'theme-header' },\n\t          header,\n\t          _react2.default.createElement(_TemplateCloseDialog2.default, { closeRoute: closeRoute })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          {\n\t            id: 'gfpdf-template-container',\n\t            className: 'theme-about wp-clearfix theme-browser rendered' },\n\t          children\n\t        ),\n\t        footer\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\texports.default = Container;\n\n/***/ },\n\n/***/ 251:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(252);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders our close dialog element\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateCloseDialog = _react2.default.createClass({\n\t  displayName: 'TemplateCloseDialog',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    closeRoute: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Assign keydown listener to document on mount\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentDidMount: function componentDidMount() {\n\t    document.addEventListener('keydown', this.handleKeyPress, false);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Remove keydown listener to document on mount\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    document.removeEventListener('keydown', this.handleKeyPress, false);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Check if Escape key pressed and current event target isn't our search box,\r\n\t   * or the search box is blank already\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  handleKeyPress: function handleKeyPress(e) {\n\t    /* Escape Key */\n\t    if (e.keyCode === 27 && (e.target.className !== 'wp-filter-search' || e.target.value === '')) {\n\t      this.closeDialog();\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  closeDialog: function closeDialog() {\n\t    /* trigger router */\n\t    _reactRouter.hashHistory.push(this.props.closeRoute || '/');\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    return _react2.default.createElement(\n\t      'button',\n\t      {\n\t        className: 'close dashicons dashicons-no',\n\t        tabIndex: '142',\n\t        onClick: this.closeDialog,\n\t        onKeyDown: this.handleKeyPress,\n\t        'aria-label': 'close' },\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'screen-reader-text' },\n\t        'Close dialog'\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\texports.default = TemplateCloseDialog;\n\n/***/ },\n\n/***/ 267:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateListItem = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _reactRouter = __webpack_require__(252);\n\t\n\tvar _templates = __webpack_require__(196);\n\t\n\tvar _TemplateScreenshot = __webpack_require__(268);\n\t\n\tvar _TemplateScreenshot2 = _interopRequireDefault(_TemplateScreenshot);\n\t\n\tvar _ShowMessage = __webpack_require__(269);\n\t\n\tvar _ShowMessage2 = _interopRequireDefault(_ShowMessage);\n\t\n\tvar _TemplateListItemComponents = __webpack_require__(270);\n\t\n\tvar _TemplateSingleComponents = __webpack_require__(271);\n\t\n\tvar _TemplateActivateButton = __webpack_require__(272);\n\t\n\tvar _TemplateActivateButton2 = _interopRequireDefault(_TemplateActivateButton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Display the individual template item for usage our template list\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateListItem = exports.TemplateListItem = _react2.default.createClass({\n\t  displayName: 'TemplateListItem',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    template: _react2.default.PropTypes.object,\n\t\n\t    activeTemplate: _react2.default.PropTypes.string,\n\t    updateTemplateParam: _react2.default.PropTypes.func,\n\t\n\t    activateText: _react2.default.PropTypes.string,\n\t    templateDetailsText: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Check if the Enter key is pressed and not focused on a button\r\n\t   * then display the template details page\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  maybeShowDetailedTemplate: function maybeShowDetailedTemplate(e) {\n\t    /* Show detailed template when the Enter key is pressed and the active element doesn't include a 'button' class */\n\t    if (e.keyCode === 13 && e.target.className.indexOf('button') === -1) {\n\t      this.showDetailedTemplate();\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Update the URL to show the PDF template details page\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  showDetailedTemplate: function showDetailedTemplate() {\n\t    _reactRouter.hashHistory.push('/template/' + this.props.template.get('id'));\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Call Redux action to remove any stored messages for this template\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  removeMessage: function removeMessage() {\n\t    this.props.updateTemplateParam(this.props.template.get('id'), 'message', null);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var item = this.props.template;\n\t    var isActiveTemplate = this.props.activeTemplate === item.get('id');\n\t    var isCompatible = item.get('compatible');\n\t    var activeTemplate = isActiveTemplate ? 'active theme' : 'theme';\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      {\n\t        onClick: this.showDetailedTemplate,\n\t        onKeyDown: this.maybeShowDetailedTemplate,\n\t        className: activeTemplate,\n\t        'data-slug': item.get('id'),\n\t        tabIndex: '150' },\n\t      _react2.default.createElement(_TemplateScreenshot2.default, { image: item.get('screenshot') }),\n\t      item.get('error') ? _react2.default.createElement(_ShowMessage2.default, { text: item.get('error'), error: true }) : null,\n\t      item.get('message') ? _react2.default.createElement(_ShowMessage2.default, { text: item.get('message'), dismissableCallback: this.removeMessage, dismissable: true, delay: 12000 }) : null,\n\t      _react2.default.createElement(_TemplateListItemComponents.TemplateDetails, { label: this.props.templateDetailsText }),\n\t      _react2.default.createElement(_TemplateListItemComponents.Group, { group: item.get('group') }),\n\t      _react2.default.createElement(_TemplateSingleComponents.Name, { name: item.get('template') }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'theme-actions' },\n\t        !isActiveTemplate && isCompatible ? _react2.default.createElement(_TemplateActivateButton2.default, { template: this.props.template, buttonText: this.props.activateText }) : null\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map state to props\r\n\t *\r\n\t * @param {Object} state The current Redux State\r\n\t *\r\n\t * @returns {{activeTemplate: string}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    activeTemplate: state.template.activeTemplate\n\t  };\n\t};\n\t\n\t/**\r\n\t * Map actions to props\r\n\t *\r\n\t * @param {func} dispatch Redux dispatcher\r\n\t *\r\n\t * @returns {{updateTemplateParam: (function(id=string, name=string, value=string))}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    updateTemplateParam: function updateTemplateParam(id, name, value) {\n\t      dispatch((0, _templates.updateTemplateParam)(id, name, value));\n\t    }\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(TemplateListItem);\n\n/***/ },\n\n/***/ 268:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Display the Template Screenshot for the List Items\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateScreenshot = function TemplateScreenshot(_ref) {\n\t  var image = _ref.image;\n\t\n\t  var className = image ? 'theme-screenshot' : 'theme-screenshot blank';\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: className },\n\t    image ? _react2.default.createElement('img', { src: image, alt: '' }) : null\n\t  );\n\t};\n\t\n\tTemplateScreenshot.propTypes = {\n\t  image: _react2.default.PropTypes.string\n\t};\n\t\n\texports.default = TemplateScreenshot;\n\n/***/ },\n\n/***/ 269:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders a message or error, with the option to self-clear itself\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar showMessage = _react2.default.createClass({\n\t  displayName: 'showMessage',\n\t\n\t\n\t  /**\r\n\t   * Pass the \"dismissable\" prop to enable auto-clearing\r\n\t   *\r\n\t   * @returns {{delay: number, dismissable: boolean}}\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      delay: 4000,\n\t      dismissable: false\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @returns {{visible: boolean}}\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      visible: true\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    text: _react2.default.PropTypes.string.isRequired,\n\t    error: _react2.default.PropTypes.bool,\n\t\n\t    delay: _react2.default.PropTypes.number,\n\t    dismissable: _react2.default.PropTypes.bool,\n\t    dismissableCallback: _react2.default.PropTypes.func\n\t  },\n\t\n\t  /**\r\n\t   * Resets our state and timer when new props received\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentWillReceiveProps: function componentWillReceiveProps() {\n\t    this.setState({ visible: true });\n\t    this.shouldSetTimer();\n\t  },\n\t\n\t  /**\r\n\t   * On mount, maybe set dismissable timer\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentDidMount: function componentDidMount() {\n\t    this.shouldSetTimer();\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Check if we should make the message auto-dismissable\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  shouldSetTimer: function shouldSetTimer() {\n\t    if (this.props.dismissable) {\n\t      this.setTimer();\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Slide message up after \"X\" milliseconds (see props.delay)\r\n\t   * and triggers callback if passed in (see props.dismissableCallback)\r\n\t   *\r\n\t   * Also clears the initial timeout if called multiple times before removal\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  setTimer: function setTimer() {\n\t    var _this = this;\n\t\n\t    // clear any existing timer\n\t    this._timer != null ? clearTimeout(this._timer) : null;\n\t\n\t    // hide after `delay` milliseconds\n\t    this._timer = setTimeout(function () {\n\t\n\t      (0, _jquery2.default)(_this._message).removeClass('inline').slideUp(400, function () {\n\t        (0, _jquery2.default)(_this._message).removeAttr('style');\n\t        _this.setState({ visible: false });\n\t        _this._timer = null;\n\t\n\t        if (_this.props.dismissableCallback) {\n\t          _this.props.dismissableCallback();\n\t        }\n\t      });\n\t    }, this.props.delay);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Clear timeout on unmount\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    if (this.props.dismissable) {\n\t      clearTimeout(this._timer);\n\t    }\n\t  },\n\t\n\t  /**\r\n\t   * Renders our message or error\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var _this2 = this;\n\t\n\t    var _props = this.props,\n\t        text = _props.text,\n\t        error = _props.error;\n\t\n\t\n\t    var classes = 'notice inline';\n\t\n\t    if (error) {\n\t      classes = classes + ' error';\n\t    }\n\t\n\t    return this.state.visible ? _react2.default.createElement(\n\t      'div',\n\t      { ref: function ref(message) {\n\t          return _this2._message = message;\n\t        }, className: classes },\n\t      _react2.default.createElement(\n\t        'p',\n\t        null,\n\t        text\n\t      )\n\t    ) : _react2.default.createElement('div', null);\n\t  }\n\t});\n\t\n\texports.default = showMessage;\n\n/***/ },\n\n/***/ 270:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Group = exports.TemplateDetails = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Contains stateless React components for our Template List Items\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the Template Details hover\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateDetails = exports.TemplateDetails = function TemplateDetails(_ref) {\n\t  var label = _ref.label;\n\t  return _react2.default.createElement(\n\t    \"span\",\n\t    { className: \"more-details\" },\n\t    label\n\t  );\n\t};\n\t\n\tTemplateDetails.propTypes = {\n\t  name: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template group\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Group = exports.Group = function Group(_ref2) {\n\t  var group = _ref2.group;\n\t  return _react2.default.createElement(\n\t    \"p\",\n\t    { className: \"theme-author\" },\n\t    group\n\t  );\n\t};\n\t\n\tGroup.propTypes = {\n\t  group: _react2.default.PropTypes.string\n\t};\n\n/***/ },\n\n/***/ 271:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Tags = exports.Description = exports.Group = exports.Author = exports.Version = exports.Name = exports.CurrentTemplate = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Contains stateless React components for our Single Template\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the current template label\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar CurrentTemplate = exports.CurrentTemplate = function CurrentTemplate(_ref) {\n\t  var isCurrentTemplate = _ref.isCurrentTemplate,\n\t      label = _ref.label;\n\t\n\t  return isCurrentTemplate ? _react2.default.createElement(\n\t    \"span\",\n\t    { className: \"current-label\" },\n\t    label\n\t  ) : _react2.default.createElement(\"span\", null);\n\t};\n\t\n\tCurrentTemplate.propTypes = {\n\t  isCurrentTemplate: _react2.default.PropTypes.bool,\n\t  label: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template name and version number\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Name = exports.Name = function Name(_ref2) {\n\t  var name = _ref2.name,\n\t      version = _ref2.version,\n\t      versionLabel = _ref2.versionLabel;\n\t  return _react2.default.createElement(\n\t    \"h2\",\n\t    { className: \"theme-name\" },\n\t    name,\n\t    _react2.default.createElement(Version, { version: version, label: versionLabel })\n\t  );\n\t};\n\t\n\tName.propTypes = {\n\t  name: _react2.default.PropTypes.string,\n\t  version: _react2.default.PropTypes.string,\n\t  versionLabel: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template version number\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Version = exports.Version = function Version(_ref3) {\n\t  var label = _ref3.label,\n\t      version = _ref3.version;\n\t\n\t  return version ? _react2.default.createElement(\n\t    \"span\",\n\t    { className: \"theme-version\" },\n\t    label,\n\t    \": \",\n\t    version\n\t  ) : _react2.default.createElement(\"span\", null);\n\t};\n\t\n\tVersion.propTypes = {\n\t  label: _react2.default.PropTypes.string,\n\t  version: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template author (and link to website, if any)\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Author = exports.Author = function Author(_ref4) {\n\t  var author = _ref4.author,\n\t      uri = _ref4.uri;\n\t\n\t\n\t  if (uri) {\n\t    return _react2.default.createElement(\n\t      \"p\",\n\t      { className: \"theme-author\" },\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: uri },\n\t        author\n\t      )\n\t    );\n\t  } else {\n\t    return _react2.default.createElement(\n\t      \"p\",\n\t      { className: \"theme-author\" },\n\t      author\n\t    );\n\t  }\n\t};\n\t\n\tAuthor.propTypes = {\n\t  author: _react2.default.PropTypes.string,\n\t  uri: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template group\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Group = exports.Group = function Group(_ref5) {\n\t  var label = _ref5.label,\n\t      group = _ref5.group;\n\t  return _react2.default.createElement(\n\t    \"p\",\n\t    { className: \"theme-author\" },\n\t    _react2.default.createElement(\n\t      \"strong\",\n\t      null,\n\t      label,\n\t      \": \",\n\t      group\n\t    )\n\t  );\n\t};\n\t\n\tGroup.propTypes = {\n\t  label: _react2.default.PropTypes.string,\n\t  group: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template description\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Description = exports.Description = function Description(_ref6) {\n\t  var desc = _ref6.desc;\n\t  return _react2.default.createElement(\n\t    \"p\",\n\t    { className: \"theme-description\" },\n\t    desc\n\t  );\n\t};\n\t\n\tDescription.propTypes = {\n\t  desc: _react2.default.PropTypes.string\n\t};\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * Display the template tags\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Tags = exports.Tags = function Tags(_ref7) {\n\t  var label = _ref7.label,\n\t      tags = _ref7.tags;\n\t\n\t  return tags ? _react2.default.createElement(\n\t    \"p\",\n\t    { className: \"theme-tags\" },\n\t    _react2.default.createElement(\n\t      \"span\",\n\t      null,\n\t      label,\n\t      \":\"\n\t    ),\n\t    \" \",\n\t    tags\n\t  ) : _react2.default.createElement(\"span\", null);\n\t};\n\t\n\tTags.propTypes = {\n\t  label: _react2.default.PropTypes.string,\n\t  tags: _react2.default.PropTypes.string\n\t};\n\n/***/ },\n\n/***/ 272:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateActivateButton = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _templates = __webpack_require__(196);\n\t\n\tvar _reactRouter = __webpack_require__(252);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders the button used to trigger the current active PDF template\r\n\t * On click it triggers our Redux action.\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateActivateButton = exports.TemplateActivateButton = _react2.default.createClass({\n\t  displayName: 'TemplateActivateButton',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    template: _react2.default.PropTypes.object,\n\t    onTemplateSelect: _react2.default.PropTypes.func,\n\t    buttonText: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Update our route and trigger a Redux action to select the current template\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  selectTemplate: function selectTemplate(e) {\n\t    e.preventDefault();\n\t    e.stopPropagation();\n\t    _reactRouter.hashHistory.push('');\n\t\n\t    this.props.onTemplateSelect(this.props.template.get('id'));\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    return _react2.default.createElement(\n\t      'a',\n\t      {\n\t        onClick: this.selectTemplate,\n\t        href: '#',\n\t        tabIndex: '150',\n\t        className: 'button button-primary activate' },\n\t      this.props.buttonText\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map actions to props\r\n\t *\r\n\t * @param {func} dispatch Redux dispatcher\r\n\t *\r\n\t * @returns {{onTemplateSelect: (function(id=string))}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    onTemplateSelect: function onTemplateSelect(id) {\n\t      dispatch((0, _templates.selectTemplate)(id));\n\t    }\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)(TemplateActivateButton);\n\n/***/ },\n\n/***/ 273:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateSearch = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _lodash = __webpack_require__(274);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _templates = __webpack_require__(196);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Handles the PDF template search functionality\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateSearch = exports.TemplateSearch = _react2.default.createClass({\n\t  displayName: 'TemplateSearch',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    onSearch: _react2.default.PropTypes.func,\n\t    search: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Debounce our runSearch function so it can only be run once every 200 milliseconds\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentWillMount: function componentWillMount() {\n\t    this.runSearch = (0, _lodash2.default)(this.runSearch, 200);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * On mount, add focus to the search box\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentDidMount: function componentDidMount() {\n\t    /* add focus to element */\n\t    this.input.focus();\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Handles our search event\r\n\t   *\r\n\t   * Because ReactJS pools SyntheticEvent and we delay the search with debounce we need\r\n\t   * to ensure the event is persisted (see https://facebook.github.io/react/docs/events.html#event-pooling)\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  handleSearch: function handleSearch(e) {\n\t    e.persist();\n\t    this.runSearch(e);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Update our Redux store with the search value\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  runSearch: function runSearch(e) {\n\t    this.props.onSearch(e.target.value || '');\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      null,\n\t      _react2.default.createElement('input', {\n\t        className: 'wp-filter-search',\n\t        id: 'wp-filter-search-input',\n\t        ref: function ref(node) {\n\t          return _this.input = node;\n\t        },\n\t        placeholder: 'Search Installed Templates',\n\t        type: 'search',\n\t        'aria-describedby': 'live-search-desc',\n\t        tabIndex: '145',\n\t        onChange: this.handleSearch,\n\t        defaultValue: this.props.search\n\t      })\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map state to props\r\n\t *\r\n\t * @param {Object} state The current Redux State\r\n\t *\r\n\t * @returns {{search: string}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    search: state.template.search\n\t  };\n\t};\n\t\n\t/**\r\n\t * Map actions to props\r\n\t *\r\n\t * @param {func} dispatch Redux dispatcher\r\n\t *\r\n\t * @returns {{onSearch: (function(text=string))}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    onSearch: function onSearch(text) {\n\t      dispatch((0, _templates.searchTemplates)(text));\n\t    }\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(TemplateSearch);\n\n/***/ },\n\n/***/ 275:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders the Template Header Title\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateHeaderTitle = function TemplateHeaderTitle(_ref) {\n\t  var header = _ref.header;\n\t  return _react2.default.createElement(\n\t    'h1',\n\t    null,\n\t    header\n\t  );\n\t};\n\t\n\t/**\r\n\t * @since 4.1\r\n\t */\n\tTemplateHeaderTitle.propTypes = {\n\t  header: _react2.default.PropTypes.string\n\t};\n\t\n\texports.default = TemplateHeaderTitle;\n\n/***/ },\n\n/***/ 276:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateUploader = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _superagent = __webpack_require__(168);\n\t\n\tvar _superagent2 = _interopRequireDefault(_superagent);\n\t\n\tvar _immutable = __webpack_require__(277);\n\t\n\tvar _templates = __webpack_require__(196);\n\t\n\tvar _Dropzone = __webpack_require__(278);\n\t\n\tvar _Dropzone2 = _interopRequireDefault(_Dropzone);\n\t\n\tvar _ShowMessage = __webpack_require__(269);\n\t\n\tvar _ShowMessage2 = _interopRequireDefault(_ShowMessage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Handles the uploading of new PDF templates to the server\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateUploader = exports.TemplateUploader = _react2.default.createClass({\n\t  displayName: 'TemplateUploader',\n\t\n\t\n\t  /**\r\n\t   * Setup internal component state that doesn't need to be in Redux\r\n\t   *\r\n\t   * @returns {{ajax: boolean, error: string, message: string}}\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      ajax: false,\n\t      error: '',\n\t      message: ''\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    ajaxUrl: _react2.default.PropTypes.string,\n\t    ajaxNonce: _react2.default.PropTypes.string,\n\t\n\t    genericUploadErrorText: _react2.default.PropTypes.string,\n\t    addTemplateText: _react2.default.PropTypes.string,\n\t    filenameErrorText: _react2.default.PropTypes.string,\n\t    filesizeErrorText: _react2.default.PropTypes.string,\n\t    installSuccessText: _react2.default.PropTypes.string,\n\t    installUpdatedText: _react2.default.PropTypes.string,\n\t    templateSuccessfullyInstalledUpdated: _react2.default.PropTypes.string,\n\t    templateInstallInstructions: _react2.default.PropTypes.string,\n\t\n\t    addNewTemplate: _react2.default.PropTypes.func,\n\t    updateTemplateParam: _react2.default.PropTypes.func,\n\t    templates: _react2.default.PropTypes.object\n\t  },\n\t\n\t  /**\r\n\t   * Manages the template file upload\r\n\t   *\r\n\t   * @param {array} acceptedFiles The array of uploaded files we should send to the server\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  onDrop: function onDrop(acceptedFiles) {\n\t    var _this = this;\n\t\n\t    /* Handle file upload and pass in an nonce!!! */\n\t    if (acceptedFiles instanceof Array && acceptedFiles.length > 0) {\n\t\n\t      acceptedFiles.forEach(function (file) {\n\t        var filename = file.name;\n\t\n\t        /* Do validation */\n\t        if (!_this.checkFilename(filename) || !_this.checkFilesize(file.size)) {\n\t          return;\n\t        }\n\t\n\t        /* Add our loader */\n\t        _this.setState({\n\t          ajax: true,\n\t          error: '',\n\t          message: ''\n\t        });\n\t\n\t        /* POST the PDF template to our endpoint for processing */\n\t        _superagent2.default.post(_this.props.ajaxUrl).field('action', 'gfpdf_upload_template').field('nonce', _this.props.ajaxNonce).attach('template', file, filename).then(_this.ajaxSuccess, _this.ajaxFailed);\n\t      });\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Checks if the uploaded file has a .zip extension\r\n\t   * We do this instead of mime type checking as it doesn't work in all browsers\r\n\t   *\r\n\t   * @param {string} name\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  checkFilename: function checkFilename(name) {\n\t    if (name.substr(name.length - 4) !== '.zip') {\n\t\n\t      /* Tell use about incorrect file type */\n\t      this.setState({\n\t        error: this.props.filenameErrorText\n\t      });\n\t\n\t      return false;\n\t    }\n\t\n\t    return true;\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Checks if the file size is larger than 5MB\r\n\t   *\r\n\t   * @param {int} size File size in bytes\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  checkFilesize: function checkFilesize(size) {\n\t    /* Check the file is no larger than 5MB (convert from bytes to KB) */\n\t    if (size / 1024 > 5120) {\n\t      /* Tell use about incorrect file type */\n\t      this.setState({\n\t        error: this.props.filesizeErrorText\n\t      });\n\t\n\t      return false;\n\t    }\n\t\n\t    return true;\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Update our Redux store with the new PDF template details\r\n\t   * If our upload AJAX call to the server passed this function gets fired\r\n\t   *\r\n\t   * @param {Object} response\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  ajaxSuccess: function ajaxSuccess(response) {\n\t    var _this2 = this;\n\t\n\t    /* Update our Redux Store with the new template(s) */\n\t    response.body.templates.forEach(function (template) {\n\t\n\t      /* Check if template already in the list before adding to our store */\n\t      var matched = _this2.props.templates.find(function (item) {\n\t        return item.get('id') === template.id;\n\t      });\n\t\n\t      if (matched === undefined) {\n\t        template.new = true; //ensure new templates go to end of list\n\t        template.message = _this2.props.installSuccessText;\n\t        _this2.props.addNewTemplate((0, _immutable.fromJS)(template));\n\t      } else {\n\t        _this2.props.updateTemplateParam(template.id, 'message', _this2.props.installUpdatedText);\n\t      }\n\t    });\n\t\n\t    /* Mark as success and stop AJAX spinner */\n\t    this.setState({\n\t      ajax: false,\n\t      message: this.props.templateSuccessfullyInstalledUpdated\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Show any errors to the user when AJAX request fails for any reason\r\n\t   *\r\n\t   * @param {Object} error\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  ajaxFailed: function ajaxFailed(error) {\n\t    /* Let the user know there was a problem with the upload */\n\t    this.setState({\n\t      error: error.response.body && error.response.body.error !== undefined ? error.response.body.error : this.props.genericUploadErrorText,\n\t      ajax: false\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Remove message from state once the timeout has finished\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  removeMessage: function removeMessage() {\n\t    this.setState({\n\t      message: ''\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Prevent normal behaviour when this event fires\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  openDropzone: function openDropzone(e) {\n\t    e.preventDefault();\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    return _react2.default.createElement(\n\t      _Dropzone2.default,\n\t      {\n\t        onDrop: this.onDrop,\n\t        maxSize: 10240000,\n\t        multiple: true,\n\t        className: 'theme add-new-theme gfpdf-dropzone' },\n\t      _react2.default.createElement(\n\t        'a',\n\t        { href: '#', onClick: this.openDropzone, className: this.state.ajax ? 'doing-ajax' : '' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'theme-screenshot' },\n\t          _react2.default.createElement('span', null)\n\t        ),\n\t        this.state.error !== '' ? _react2.default.createElement(_ShowMessage2.default, { text: this.state.error, error: true }) : null,\n\t        this.state.message !== '' ? _react2.default.createElement(_ShowMessage2.default, { text: this.state.message, dismissable: true, dismissableCallback: this.removeMessage }) : null,\n\t        _react2.default.createElement(\n\t          'h2',\n\t          { className: 'theme-name' },\n\t          this.props.addTemplateText\n\t        )\n\t      ),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'gfpdf-template-install-instructions' },\n\t        this.props.templateInstallInstructions\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map state to props\r\n\t *\r\n\t * @param {Object} state The current Redux State\r\n\t *\r\n\t * @returns {{templates}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    templates: state.template.list\n\t  };\n\t};\n\t\n\t/**\r\n\t * Map actions to props\r\n\t *\r\n\t * @param {func} dispatch Redux dispatcher\r\n\t *\r\n\t * @returns {{addNewTemplate: (function(template=Immutable Map)), updateTemplateParam: (function(id=string, name=string, value=*))}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    addNewTemplate: function addNewTemplate(template) {\n\t      dispatch((0, _templates.addTemplate)(template));\n\t    },\n\t\n\t    updateTemplateParam: function updateTemplateParam(id, name, value) {\n\t      dispatch((0, _templates.updateTemplateParam)(id, name, value));\n\t    }\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(TemplateUploader);\n\n/***/ },\n\n/***/ 278:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDropzone = __webpack_require__(279);\n\t\n\tvar _reactDropzone2 = _interopRequireDefault(_reactDropzone);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Our Drag and Drop File upload Component which is a wrapper\r\n\t * for react-dropzone\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar Dropzone = _react2.default.createClass({\n\t  displayName: 'Dropzone',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    children: _react2.default.PropTypes.node.isRequired,\n\t    onDrop: _react2.default.PropTypes.func.isRequired,\n\t    multiple: _react2.default.PropTypes.bool,\n\t    className: _react2.default.PropTypes.string,\n\t    activeClassName: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      multiple: false,\n\t      maxSize: Infinity,\n\t      className: 'gfpdf-dropzone',\n\t      activeClassName: 'gfpdf-dropzone-active'\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    return _react2.default.createElement(\n\t      _reactDropzone2.default,\n\t      {\n\t        onDrop: this.props.onDrop,\n\t        multiple: this.props.multiple,\n\t        disablePreview: true,\n\t        className: this.props.className,\n\t        activeClassName: this.props.activeClassName },\n\t      this.props.children\n\t    );\n\t  }\n\t});\n\t\n\texports.default = Dropzone;\n\n/***/ },\n\n/***/ 280:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateSingle = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _getTemplates = __webpack_require__(247);\n\t\n\tvar _getTemplates2 = _interopRequireDefault(_getTemplates);\n\t\n\tvar _TemplateContainer = __webpack_require__(250);\n\t\n\tvar _TemplateContainer2 = _interopRequireDefault(_TemplateContainer);\n\t\n\tvar _TemplateHeaderNavigation = __webpack_require__(281);\n\t\n\tvar _TemplateHeaderNavigation2 = _interopRequireDefault(_TemplateHeaderNavigation);\n\t\n\tvar _TemplateFooterActions = __webpack_require__(282);\n\t\n\tvar _TemplateFooterActions2 = _interopRequireDefault(_TemplateFooterActions);\n\t\n\tvar _TemplateScreenshots = __webpack_require__(284);\n\t\n\tvar _TemplateScreenshots2 = _interopRequireDefault(_TemplateScreenshots);\n\t\n\tvar _ShowMessage = __webpack_require__(269);\n\t\n\tvar _ShowMessage2 = _interopRequireDefault(_ShowMessage);\n\t\n\tvar _TemplateSingleComponents = __webpack_require__(271);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders a single PDF template, which get displayed on the /template/:id page.\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateSingle = exports.TemplateSingle = _react2.default.createClass({\n\t  displayName: 'TemplateSingle',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    route: _react2.default.PropTypes.object,\n\t\n\t    template: _react2.default.PropTypes.object,\n\t    activeTemplate: _react2.default.PropTypes.string,\n\t    templateIndex: _react2.default.PropTypes.number,\n\t    templates: _react2.default.PropTypes.object\n\t  },\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var item = this.props.template;\n\t    var isCurrentTemplate = this.props.activeTemplate === item.get('id');\n\t\n\t    /* Assign our header / footer components to constants */\n\t    var header = _react2.default.createElement(_TemplateHeaderNavigation2.default, {\n\t      template: item,\n\t      templateIndex: this.props.templateIndex,\n\t      templates: this.props.templates,\n\t      showPreviousTemplateText: this.props.route.showPreviousTemplateText,\n\t      showNextTemplateText: this.props.route.showNextTemplateText });\n\t\n\t    var footer = _react2.default.createElement(_TemplateFooterActions2.default, {\n\t      template: item,\n\t      isActiveTemplate: isCurrentTemplate,\n\t\n\t      ajaxUrl: this.props.route.ajaxUrl,\n\t      ajaxNonce: this.props.route.ajaxNonce,\n\t\n\t      activateText: this.props.route.activateText,\n\t      pdfWorkingDirPath: this.props.route.pdfWorkingDirPath,\n\t      templateDeleteText: this.props.route.templateDeleteText,\n\t      templateConfirmDeleteText: this.props.route.templateConfirmDeleteText,\n\t      templateDeleteErrorText: this.props.route.templateDeleteErrorText\n\t    });\n\t\n\t    /* Display our Single Template container */\n\t    return _react2.default.createElement(\n\t      _TemplateContainer2.default,\n\t      { header: header, footer: footer, closeRoute: '/template' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        { id: 'gfpdf-template-detail-view', className: 'gfpdf-template-detail' },\n\t        _react2.default.createElement(_TemplateScreenshots2.default, { image: item.get('screenshot') }),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'theme-info' },\n\t          _react2.default.createElement(_TemplateSingleComponents.CurrentTemplate, { isCurrentTemplate: isCurrentTemplate, label: this.props.route.currentTemplateText }),\n\t          _react2.default.createElement(_TemplateSingleComponents.Name, { name: item.get('template'), version: item.get('version'), versionLabel: this.props.route.versionText }),\n\t          _react2.default.createElement(_TemplateSingleComponents.Author, { author: item.get('author'), uri: item.get('author uri') }),\n\t          _react2.default.createElement(_TemplateSingleComponents.Group, { group: item.get('group'), label: this.props.route.groupText }),\n\t          item.get('long_message') ? _react2.default.createElement(_ShowMessage2.default, { text: item.get('long_message') }) : null,\n\t          item.get('long_error') ? _react2.default.createElement(_ShowMessage2.default, { text: item.get('long_error'), error: true }) : null,\n\t          _react2.default.createElement(_TemplateSingleComponents.Description, { desc: item.get('description') }),\n\t          _react2.default.createElement(_TemplateSingleComponents.Tags, { tags: item.get('tags'), label: this.props.route.tagsText })\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map state to props\r\n\t *\r\n\t * @param {Object} state The current Redux State\r\n\t * @param {Object} props The current React props\r\n\t *\r\n\t * @returns {{template: Immutable Map, templateIndex: number, templates: Immutable List, activeTemplate: string}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar MapStateToProps = function MapStateToProps(state, props) {\n\t\n\t  /* found our selected template */\n\t  var templates = (0, _getTemplates2.default)(state);\n\t  var id = props.params.id;\n\t\n\t  var findCurrentTemplate = function findCurrentTemplate(item) {\n\t    return item.get('id') === id;\n\t  };\n\t\n\t  return {\n\t    template: templates.find(findCurrentTemplate),\n\t    templateIndex: templates.findIndex(findCurrentTemplate),\n\t    templates: templates,\n\t    activeTemplate: state.template.activeTemplate\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(MapStateToProps)(TemplateSingle);\n\n/***/ },\n\n/***/ 281:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateHeaderNavigation = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _reactRouter = __webpack_require__(252);\n\t\n\tvar _immutable = __webpack_require__(277);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders the template navigation header that get displayed on the\r\n\t * /template/:id pages.\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateHeaderNavigation = exports.TemplateHeaderNavigation = _react2.default.createClass({\n\t  displayName: 'TemplateHeaderNavigation',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    templates: _react2.default.PropTypes.object.isRequired,\n\t    templateIndex: _react2.default.PropTypes.number.isRequired,\n\t    isFirst: _react2.default.PropTypes.bool,\n\t    isLast: _react2.default.PropTypes.bool,\n\t\n\t    showPreviousTemplateText: _react2.default.PropTypes.string,\n\t    showNextTemplateText: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Add window event listeners\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentDidMount: function componentDidMount() {\n\t    window.addEventListener('keydown', this.handleKeyPress, false);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Cleanup window event listeners\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    window.removeEventListener('keydown', this.handleKeyPress, false);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Attempt to get the previous template in our Immutable list and update the URL\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  previousTemplate: function previousTemplate(e) {\n\t    e.preventDefault();\n\t    e.stopPropagation();\n\t\n\t    var prevId = this.props.templates.get(this.props.templateIndex - 1).get('id');\n\t\n\t    if (prevId) {\n\t      _reactRouter.hashHistory.push('template/' + prevId);\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Attempt to get the next template in our Immutable list and update the URL\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  nextTemplate: function nextTemplate(e) {\n\t    e.preventDefault();\n\t    e.stopPropagation();\n\t\n\t    var nextId = this.props.templates.get(this.props.templateIndex + 1).get('id');\n\t\n\t    if (nextId) {\n\t      _reactRouter.hashHistory.push('template/' + nextId);\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * Checks if the Left or Right arrow keys are pressed and fires appropriate functions\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  handleKeyPress: function handleKeyPress(e) {\n\t    /* Left Arrow */\n\t    if (!this.props.isFirst && e.keyCode === 37) {\n\t      this.previousTemplate(e);\n\t    }\n\t\n\t    /* Right Arrow */\n\t    if (!this.props.isLast && e.keyCode === 39) {\n\t      this.nextTemplate(e);\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t\n\t    /*\r\n\t     * Work our the correct classes and attributes for our left and right arrows\r\n\t     * based on if we are currently showing the first or last templates\r\n\t     */\n\t    var isFirst = this.props.isFirst;\n\t    var isLast = this.props.isLast;\n\t\n\t    var baseClass = (0, _immutable.List)(['dashicons', 'dashicons-no']);\n\t\n\t    var prevClass = baseClass.push('left');\n\t    var nextClass = baseClass.push('right');\n\t    prevClass = isFirst ? prevClass.push('disabled') : prevClass;\n\t    nextClass = isLast ? nextClass.push('disabled') : nextClass;\n\t\n\t    var leftDisabled = isFirst ? 'disabled' : '';\n\t    var rightDisabled = isLast ? 'disabled' : '';\n\t\n\t    return _react2.default.createElement(\n\t      'span',\n\t      null,\n\t      _react2.default.createElement(\n\t        'button',\n\t        {\n\t          onClick: this.previousTemplate,\n\t          onKeyDown: this.handleKeyPress,\n\t          className: prevClass.join(' '),\n\t          tabIndex: '141',\n\t          disabled: leftDisabled },\n\t        _react2.default.createElement(\n\t          'span',\n\t          {\n\t            className: 'screen-reader-text' },\n\t          this.props.showPreviousTemplateText\n\t        )\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        {\n\t          onClick: this.nextTemplate,\n\t          onKeyDown: this.handleKeyPress,\n\t          className: nextClass.join(' '),\n\t          tabIndex: '141',\n\t          disabled: rightDisabled },\n\t        _react2.default.createElement(\n\t          'span',\n\t          {\n\t            className: 'screen-reader-text' },\n\t          this.props.showNextTemplateText\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map state to props\r\n\t *\r\n\t * @param {Object} state The current Redux State\r\n\t * @param {Object} props The current React props\r\n\t *\r\n\t * @returns {{isFirst: boolean, isLast: boolean}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar MapStateToProps = function MapStateToProps(state, props) {\n\t  /* Check if the current template is the first or last in our templates */\n\t  var templates = props.templates;\n\t  var currentTemplateId = props.template.get('id');\n\t  var first = templates.first().get('id');\n\t  var last = templates.last().get('id');\n\t\n\t  return {\n\t    isFirst: first === currentTemplateId,\n\t    isLast: last === currentTemplateId\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(MapStateToProps)(TemplateHeaderNavigation);\n\n/***/ },\n\n/***/ 282:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _TemplateActivateButton = __webpack_require__(272);\n\t\n\tvar _TemplateActivateButton2 = _interopRequireDefault(_TemplateActivateButton);\n\t\n\tvar _TemplateDeleteButton = __webpack_require__(283);\n\t\n\tvar _TemplateDeleteButton2 = _interopRequireDefault(_TemplateDeleteButton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders the template footer actions that get displayed on the\r\n\t * /template/:id pages.\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateFooterActions = _react2.default.createClass({\n\t  displayName: 'TemplateFooterActions',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    template: _react2.default.PropTypes.object.isRequired,\n\t    isActiveTemplate: _react2.default.PropTypes.bool,\n\t\n\t    ajaxUrl: _react2.default.PropTypes.string,\n\t    ajaxNonce: _react2.default.PropTypes.string,\n\t\n\t    activateText: _react2.default.PropTypes.string,\n\t    pdfWorkingDirPath: _react2.default.PropTypes.string,\n\t    templateDeleteText: _react2.default.PropTypes.string,\n\t    templateConfirmDeleteText: _react2.default.PropTypes.string,\n\t    templateDeleteErrorText: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Check if the current PDF template is a core template or not (i.e is shipped with Gravity PDF)\r\n\t   *\r\n\t   * @param {Object} template Immutable Map\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  notCoreTemplate: function notCoreTemplate(template) {\n\t    return template.get('path').indexOf(this.props.pdfWorkingDirPath) !== -1;\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var template = this.props.template;\n\t    var isCompatible = template.get('compatible');\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { className: 'theme-actions' },\n\t      !this.props.isActiveTemplate && isCompatible ? _react2.default.createElement(_TemplateActivateButton2.default, {\n\t        template: template,\n\t        buttonText: this.props.activateText }) : null,\n\t      !this.props.isActiveTemplate && this.notCoreTemplate(template) ? _react2.default.createElement(_TemplateDeleteButton2.default, {\n\t        template: template,\n\t\n\t        ajaxUrl: this.props.ajaxUrl,\n\t        ajaxNonce: this.props.ajaxNonce,\n\t\n\t        buttonText: this.props.templateDeleteText,\n\t        templateConfirmDeleteText: this.props.templateConfirmDeleteText,\n\t        templateDeleteErrorText: this.props.templateDeleteErrorText }) : null\n\t    );\n\t  }\n\t});\n\t\n\texports.default = TemplateFooterActions;\n\n/***/ },\n\n/***/ 283:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TemplateDeleteButton = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(199);\n\t\n\tvar _templates = __webpack_require__(196);\n\t\n\tvar _reactRouter = __webpack_require__(252);\n\t\n\tvar _superagent = __webpack_require__(168);\n\t\n\tvar _superagent2 = _interopRequireDefault(_superagent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Renders a delete button which then queries our server and\r\n\t * removes the selected PDF template\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateDeleteButton = exports.TemplateDeleteButton = _react2.default.createClass({\n\t  displayName: 'TemplateDeleteButton',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    ajaxUrl: _react2.default.PropTypes.string,\n\t    ajaxNonce: _react2.default.PropTypes.string,\n\t\n\t    template: _react2.default.PropTypes.object,\n\t    addTemplate: _react2.default.PropTypes.func,\n\t    onTemplateDelete: _react2.default.PropTypes.func,\n\t    callbackFunction: _react2.default.PropTypes.func,\n\t\n\t    buttonText: _react2.default.PropTypes.string,\n\t    templateConfirmDeleteText: _react2.default.PropTypes.string,\n\t    templateDeleteErrorText: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * Display a confirmation window asking user to verify they want template deleted.\r\n\t   *\r\n\t   * Once verified, we make an AJAX call to the server requesting template to be deleted.\r\n\t   *\r\n\t   * Before we receive the response we remove the PDF template automatically and update the\r\n\t   * URL to /template. If the AJAX call fails the PDF template gets restored to our list with\r\n\t   * an appropriate error message (it feels snapper this way).\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   */\n\t  deleteTemplate: function deleteTemplate(e) {\n\t    e.preventDefault();\n\t    e.stopPropagation();\n\t\n\t    if (window.confirm(this.props.templateConfirmDeleteText)) {\n\t\n\t      var templateId = this.props.template.get('id');\n\t\n\t      /* POST the PDF template to our endpoint for processing */\n\t      _superagent2.default.post(this.props.ajaxUrl).field('action', 'gfpdf_delete_template').field('nonce', this.props.ajaxNonce).field('id', templateId).then(function () {/* success. Leave blank */}, this.ajaxFailed);\n\t\n\t      _reactRouter.hashHistory.push('/template');\n\t      this.props.onTemplateDelete(templateId);\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   * If the server cannot delete the template we re-add the template to our list\r\n\t   * and display an appropriate inline error message\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  ajaxFailed: function ajaxFailed() {\n\t    var errorTemplate = this.props.template.set('error', this.props.templateDeleteErrorText);\n\t    this.props.addTemplate(errorTemplate);\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t\n\t    var callback = this.props.callbackFunction ? this.props.callbackFunction : this.deleteTemplate;\n\t\n\t    return _react2.default.createElement(\n\t      'a',\n\t      {\n\t        onClick: callback,\n\t        href: '#',\n\t        tabIndex: '150',\n\t        className: 'button button-secondary delete-theme' },\n\t      this.props.buttonText\n\t    );\n\t  }\n\t});\n\t\n\t/**\r\n\t * Map actions to props\r\n\t *\r\n\t * @param {func} dispatch Redux dispatcher\r\n\t *\r\n\t * @returns {{addTemplate: (function(template=Immutable List)), onTemplateDelete: (function(id=string))}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    addTemplate: function addTemplate(template) {\n\t      dispatch((0, _templates.addTemplate)(template));\n\t    },\n\t\n\t    onTemplateDelete: function onTemplateDelete(id) {\n\t      dispatch((0, _templates.deleteTemplate)(id));\n\t    }\n\t  };\n\t};\n\t\n\t/**\r\n\t * Maps our Redux store to our React component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)(TemplateDeleteButton);\n\n/***/ },\n\n/***/ 284:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Display the Template Screenshot for the individual templates (uses different markup - out of our control)\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Stateless Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateScreenshots = function TemplateScreenshots(_ref) {\n\t  var image = _ref.image;\n\t\n\t  var className = image ? 'screenshot' : 'screenshot blank';\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'theme-screenshots' },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: className },\n\t      image ? _react2.default.createElement('img', { src: image, alt: '' }) : null\n\t    )\n\t  );\n\t};\n\t\n\tTemplateScreenshots.propTypes = {\n\t  image: _react2.default.PropTypes.string\n\t};\n\t\n\texports.default = TemplateScreenshots;\n\n/***/ },\n\n/***/ 285:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/**\r\n\t * Render a blank component for use with React Router's default route\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\texports.default = function () {\n\t  return false;\n\t};\n\n/***/ },\n\n/***/ 286:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.initialState = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function () {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t  var action = arguments[1];\n\t\n\t\n\t  switch (action.type) {\n\t    /**\r\n\t     * Update the search key\r\n\t     *\r\n\t     * @since 4.1\r\n\t     */\n\t    case _templates.SEARCH_TEMPLATES:\n\t      return _extends({}, state, {\n\t        search: action.text\n\t      });\n\t\n\t    /**\r\n\t     * Update the activeTemplate key\r\n\t     *\r\n\t     * @since 4.1\r\n\t     */\n\t    case _templates.SELECT_TEMPLATE:\n\t      return _extends({}, state, {\n\t        activeTemplate: action.id\n\t      });\n\t\n\t    /**\r\n\t     * Push a new template Immutable Map onto our Immutable List\r\n\t     *\r\n\t     * @since 4.1\r\n\t     */\n\t    case _templates.ADD_TEMPLATE:\n\t      return _extends({}, state, {\n\t        list: state.list.push(action.template)\n\t      });\n\t\n\t    /**\r\n\t     * Replace template Immutable Map with new Map\r\n\t     *\r\n\t     * @since 4.1\r\n\t     */\n\t    case _templates.UPDATE_TEMPLATE:\n\t      return _extends({}, state, {\n\t        list: state.list.set(getTemplateIndex(state.list, action.template.get('id')), action.template)\n\t      });\n\t\n\t    /**\r\n\t     * Replace single parameter in template Immutable Map with new value\r\n\t     *\r\n\t     * @since 4.1\r\n\t     */\n\t    case _templates.UPDATE_TEMPLATE_PARAM:\n\t      return _extends({}, state, {\n\t        list: state.list.setIn([getTemplateIndex(state.list, action.id), action.name], action.value)\n\t      });\n\t\n\t    /**\r\n\t     * Remove template Immutable Map from Immutable List\r\n\t     *\r\n\t     * @since 4.1\r\n\t     */\n\t    case _templates.DELETE_TEMPLATE:\n\t      return _extends({}, state, {\n\t        list: state.list.delete(getTemplateIndex(state.list, action.id))\n\t      });\n\t  }\n\t\n\t  /* None of these actions fired so return state */\n\t  return state;\n\t};\n\t\n\tvar _immutable = __webpack_require__(277);\n\t\n\tvar _templates = __webpack_require__(197);\n\t\n\t/**\r\n\t * Our Redux Template Reducer that take the objects returned from our Redux Template Actions\r\n\t * and updates the template portion of our store in an immutable way\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * Setup the initial state of the \"template\" portion of our Redux store\r\n\t *\r\n\t * @type {{list: any, activeTemplate: (any), search: string}}\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar initialState = exports.initialState = {\n\t  list: (0, _immutable.fromJS)(GFPDF.templateList),\n\t  activeTemplate: GFPDF.activeTemplate || GFPDF.activeDefaultTemplate,\n\t  search: ''\n\t};\n\t\n\t/**\r\n\t * Returns the first Immutable Map in our Immutable List which\r\n\t * matches the template id passed.\r\n\t *\r\n\t * @param {Object} list The Immutable list of templates\r\n\t * @param {string} id The template ID\r\n\t *\r\n\t * @returns object Immutable Map object of our template\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar getTemplateIndex = function getTemplateIndex(list, id) {\n\t  return list.findKey(function (template) {\n\t    if (template.get('id') === id) {\n\t      return true;\n\t    }\n\t  });\n\t};\n\t\n\t/**\r\n\t * The action template reducer which updates our state\r\n\t *\r\n\t * @param {Object} state The current state of our template store\r\n\t * @param {Object} action The Redux action details being triggered\r\n\t *\r\n\t * @returns {Object} State (whether updated or not)\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\n/***/ },\n\n/***/ 287:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(252);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Render the button used to option our Fancy PDF template selector\r\n\t *\r\n\t * @package     Gravity PDF\r\n\t * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n\t * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n\t * @since       4.1\r\n\t */\n\t\n\t/*\r\n\t This file is part of Gravity PDF.\r\n\t\r\n\t Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\t\r\n\t This program is free software; you can redistribute it and/or modify\r\n\t it under the terms of the GNU General Public License as published by\r\n\t the Free Software Foundation; either version 2 of the License, or\r\n\t (at your option) any later version.\r\n\t\r\n\t This program is distributed in the hope that it will be useful,\r\n\t but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n\t MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n\t GNU General Public License for more details.\r\n\t\r\n\t You should have received a copy of the GNU General Public License\r\n\t along with this program; if not, write to the Free Software\r\n\t Found\r\n\t */\n\t\n\t/**\r\n\t * React Component\r\n\t *\r\n\t * @since 4.1\r\n\t */\n\tvar TemplateButton = _react2.default.createClass({\n\t  displayName: 'TemplateButton',\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  propTypes: {\n\t    buttonText: _react2.default.PropTypes.string\n\t  },\n\t\n\t  /**\r\n\t   * When the button is clicked we'll display the `/template` route\r\n\t   *\r\n\t   * @param {Object} e Event\r\n\t   *\r\n\t   * @since 4.1\r\n\t   */\n\t  handleClick: function handleClick(e) {\n\t    e.preventDefault();\n\t    e.stopPropagation();\n\t\n\t    _reactRouter.hashHistory.push('/template');\n\t  },\n\t\n\t\n\t  /**\r\n\t   * @since 4.1\r\n\t   */\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    return _react2.default.createElement(\n\t      'button',\n\t      {\n\t        type: 'button',\n\t        id: 'fancy-template-selector',\n\t        className: 'button gfpdf-button',\n\t        onClick: this.handleClick,\n\t        ref: function ref(node) {\n\t          return _this.button = node;\n\t        }\n\t      },\n\t      this.props.buttonText\n\t    );\n\t  }\n\t});\n\t\n\texports.default = TemplateButton;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// app.bundle.min.js","import $ from 'jquery'\r\nimport templateBootstrap from './bootstrap/templateBootstrap'\r\n\r\n/**\r\n * JS Entry point for WebPack\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n*/\r\n\r\n/**\r\n * Our main entry point for our modern unit-tested JS\r\n * This file gets run through Webpack to built it into valid ES5\r\n *\r\n * As we convert more JS to ES6 we'll likely load it from this file (unless we decide to make each feature modular)\r\n *\r\n * @since 4.1\r\n */\r\n$(function () {\r\n\r\n  'use strict'\r\n\r\n  /* Initialise the Fancy Template Picker */\r\n  if (GFPDF.templateList !== undefined) {\r\n\r\n    /* Check if we should show the Fancy Template Picker */\r\n    var templateId = '#gfpdf_settings\\\\[template\\\\], #gfpdf_settings\\\\[default_template\\\\]'\r\n    var $templateField = $(templateId)\r\n\r\n    /* Run this code if the element exists */\r\n    if ($templateField.length > 0) {\r\n        templateBootstrap($templateField)\r\n    }\r\n  }\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/gfpdf-main.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 1\n// module chunks = 0","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport request from 'superagent'\r\n\r\nimport { createStore, combineReducers } from 'redux'\r\nimport watch from 'redux-watch'\r\n\r\nimport { selectTemplate } from '../actions/templates'\r\nimport templateRouter from '../router/templateRouter'\r\nimport templateReducer from '../reducers/templateReducer'\r\nimport TemplateButton from '../components/TemplateButton'\r\n\r\n/**\r\n * Advanced Template Selector Bootstrap\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n*/\r\n\r\n/**\r\n * Handles the loading of our Fancy Template Selector\r\n *\r\n * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n *\r\n * @since 4.1\r\n */\r\nexport default function templateBootstrap ($templateField) {\r\n\r\n  /* Combine our Redux Reducers */\r\n  const reducers = setupReducers()\r\n\r\n  /* Create our store and enable the Redux dev tools, if they exist */\r\n  const store = createStore(reducers, window.devToolsExtension && window.devToolsExtension())\r\n\r\n  /* Create our button container and render our component in it */\r\n  createTemplateMarkup($templateField)\r\n\r\n  /* Render our React Component in the DOM */\r\n  render(\r\n    <TemplateButton store={store} buttonText={GFPDF.advanced}/>,\r\n    document.getElementById('gpdf-advance-template-selector')\r\n  )\r\n\r\n  /* Mount our router */\r\n  templateRouter(store)\r\n\r\n  /*\r\n   * Listen for Redux store updates and do DOM updates\r\n   */\r\n  activeTemplateStoreListener(store, $templateField)\r\n  templateChangeStoreListener(store, $templateField)\r\n}\r\n\r\n/**\r\n * Combine our Redux reducers for use in a single store\r\n * If you want to add new top-level keys to our store, this is the place\r\n *\r\n * @returns {Function}\r\n *\r\n * @since 4.1\r\n */\r\nexport function setupReducers () {\r\n  return combineReducers({\r\n    template: templateReducer,\r\n  })\r\n}\r\n\r\n/**\r\n * Dynamically add the required markup to attach our React components to.\r\n *\r\n * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n *\r\n * @since 4.1\r\n */\r\nexport function createTemplateMarkup ($templateField) {\r\n  $templateField\r\n    .next()\r\n    .after('<span id=\"gpdf-advance-template-selector\">')\r\n    .next()\r\n    .after('<div id=\"gfpdf-overlay\" class=\"theme-overlay\">')\r\n}\r\n\r\n/**\r\n * Listen for updates to the template.activeTemplate data in our Redux store\r\n * and update the select box value based on this change. Also, listen for changes\r\n * to our select box and update the store when needed.\r\n *\r\n * @param {Object} store The Redux store returned from createStore()\r\n * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n *\r\n * @since 4.1\r\n */\r\nexport function activeTemplateStoreListener (store, $templateField) {\r\n\r\n  /* Watch our store for changes */\r\n  let w = watch(store.getState, 'template.activeTemplate')\r\n  store.subscribe(w((template) => {\r\n\r\n    /* Check store and DOM are different to prevent any update recursions */\r\n    if ($templateField.val() !== template) {\r\n      $templateField\r\n        .val(template)\r\n        .trigger('chosen:updated')\r\n        .trigger('change')\r\n    }\r\n  }))\r\n\r\n  /* Watch our DOM for changes */\r\n  $templateField.change(function () {\r\n    /* Check store and DOM are different to prevent any update recursions */\r\n    if (this.value !== store.getState().template.activeTemplate) {\r\n      store.dispatch(selectTemplate(this.value))\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * PHP builds the Select box DOM for the templates and when we add or delete a template we need to rebuild this.\r\n * Instead of duplicating the code on both server and client side we do an AJAX call to get the new Selex box HTML when\r\n * the template.list length changes and update the DOM accordingly.\r\n *\r\n * @param {Object} store The Redux store returned from createStore()\r\n * @param {Object} $templateField The jQuery select box we should attach the fancy template selector to\r\n *\r\n * @since 4.1\r\n */\r\nexport function templateChangeStoreListener (store, $templateField) {\r\n\r\n  /* Track the initial list size */\r\n  let listCount = store.getState().template.list.size\r\n\r\n  /* Watch our store for changes */\r\n  let w = watch(store.getState, 'template.list')\r\n  store.subscribe(w((list) => {\r\n\r\n    /* Only update if the list size differs from what we expect */\r\n    if (listCount !== list.size) {\r\n      /* update the list size so we don't run it twice */\r\n      listCount = list.size\r\n\r\n      /* Do our AJAX call to get the new Select Box DOM */\r\n      request\r\n        .post(GFPDF.ajaxUrl)\r\n        .field('action', 'gfpdf_get_template_options')\r\n        .field('nonce', GFPDF.ajaxNonce)\r\n        .then((response) => {\r\n          $templateField\r\n            .html(response.text)\r\n            .trigger('chosen:updated')\r\n            .trigger('change')\r\n        })\r\n    }\r\n  }))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/bootstrap/templateBootstrap.js","import {\r\n  SEARCH_TEMPLATES,\r\n  SELECT_TEMPLATE,\r\n  ADD_TEMPLATE,\r\n  UPDATE_TEMPLATE,\r\n  UPDATE_TEMPLATE_PARAM,\r\n  DELETE_TEMPLATE,\r\n} from '../actionTypes/templates'\r\n\r\n/**\r\n * Redux Actions - payloads of information that send data from your application to your store\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n */\r\n\r\n/**\r\n * Fires the Advanced Template Search action\r\n *\r\n * @param {string} text\r\n *\r\n * @returns {{type, text: *}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const searchTemplates = (text) => {\r\n  return {\r\n    type: SEARCH_TEMPLATES,\r\n    text\r\n  }\r\n}\r\n\r\n/**\r\n * Fires the Advanced Template select/activate action\r\n *\r\n * @param {string} id The template ID\r\n *\r\n * @returns {{type, id: *}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const selectTemplate = (id) => {\r\n  return {\r\n    type: SELECT_TEMPLATE,\r\n    id\r\n  }\r\n}\r\n\r\n/**\r\n * Fires the Advanced Template add new template action\r\n *\r\n * @param {object} template An Immutable Map\r\n *\r\n * @returns {{type, template: *}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const addTemplate = (template) => {\r\n  return {\r\n    type: ADD_TEMPLATE,\r\n    template\r\n  }\r\n}\r\n\r\n/**\r\n * Fires the Advanced Template update action which overrides the entire template object with a new one\r\n *\r\n * @param {object} template An Immutable Map\r\n *\r\n * @returns {{type, template: *}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const updateTemplate = (template) => {\r\n  return {\r\n    type: UPDATE_TEMPLATE,\r\n    template\r\n  }\r\n}\r\n\r\n/**\r\n * Fires the Advanced Template update action which replaces a template parameter with a new value\r\n *\r\n * @param {string} id The template ID\r\n * @param {string} name The parameter key to update\r\n * @param {string} value The new value for the parameter\r\n *\r\n * @returns {{type, id: *, name: *, value: *}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const updateTemplateParam = (id, name, value) => {\r\n  return {\r\n    type: UPDATE_TEMPLATE_PARAM,\r\n    id,\r\n    name,\r\n    value\r\n  }\r\n}\r\n\r\n/**\r\n * Fires the Advanced Template delete action which removes the template from our store\r\n *\r\n * @param  {string} id The template ID\r\n *\r\n * @returns {{type, id: *}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const deleteTemplate = (id) => {\r\n  return {\r\n    type: DELETE_TEMPLATE,\r\n    id\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/actions/templates.js","/**\r\n * Our Redux Action Type Constants\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\nexport const SEARCH_TEMPLATES = 'SEARCH_TEMPLATES'\r\nexport const SELECT_TEMPLATE = 'SELECT_TEMPLATE'\r\nexport const ADD_TEMPLATE = 'ADD_TEMPLATE'\r\nexport const UPDATE_TEMPLATE = 'UPDATE_TEMPLATE'\r\nexport const UPDATE_TEMPLATE_PARAM = 'UPDATE_TEMPLATE_PARAM'\r\nexport const DELETE_TEMPLATE = 'DELETE_TEMPLATE'\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/actionTypes/templates.js","import React from 'react'\r\n\r\nimport { render } from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport Route from 'react-router/lib/Route'\r\nimport Router from 'react-router/lib/Router'\r\nimport hashHistory from 'react-router/lib/hashHistory'\r\n\r\nimport TemplateList from '../components/TemplateList'\r\nimport TemplateSingle from '../components/TemplateSingle'\r\nimport Empty from '../components/Empty'\r\n\r\n/**\r\n * React Router v3 Routes with our Redux store integrated\r\n *\r\n * Once React Router v4 becomes stable we'll update as required, or if we need to decouple our\r\n * routes for another module.\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n */\r\n\r\n/**\r\n * Contains the React Router Routes for our Advanced Template Selector.\r\n * We are using hashHistory instead of browserHistory so as not to affect the backend\r\n *\r\n * Routes include:\r\n *\r\n * /template/ (../components/TemplateList)\r\n * /template/:id (../components/TemplateSingle)\r\n * All other routes (../components/Empty)\r\n *\r\n * @since 4.1\r\n */\r\nexport const Routes = () => (\r\n  <Router history={hashHistory}>\r\n    <Route path=\"template\"\r\n           component={TemplateList}\r\n\r\n           ajaxUrl={GFPDF.ajaxUrl}\r\n           ajaxNonce={GFPDF.ajaxNonce}\r\n\r\n           templateDetailsText={GFPDF.templateDetails}\r\n           templateHeaderText={GFPDF.installedPdfs}\r\n\r\n           genericUploadErrorText={GFPDF.problemWithTheUpload}\r\n           activateText={GFPDF.select}\r\n           addTemplateText={GFPDF.addNewTemplate}\r\n           filenameErrorText={GFPDF.uploadInvalidNotZipFile}\r\n           filesizeErrorText={GFPDF.uploadInvalidExceedsFileSizeLimit}\r\n           installSuccessText={GFPDF.templateSuccessfullyInstalled}\r\n           installUpdatedText={GFPDF.templateSuccessfullyUpdated}\r\n           templateSuccessfullyInstalledUpdated={GFPDF.templateSuccessfullyInstalledUpdated}\r\n           templateInstallInstructions={GFPDF.templateInstallInstructions}\r\n    />\r\n\r\n    <Route path=\"template/:id\"\r\n           component={TemplateSingle}\r\n\r\n           ajaxUrl={GFPDF.ajaxUrl}\r\n           ajaxNonce={GFPDF.ajaxNonce}\r\n           pdfWorkingDirPath={GFPDF.pdfWorkingDir}\r\n\r\n           activateText={GFPDF.select}\r\n           templateDeleteText={GFPDF.delete}\r\n           templateConfirmDeleteText={GFPDF.doYouWantToDeleteTemplate}\r\n           templateDeleteErrorText={GFPDF.couldNotDeleteTemplate}\r\n           currentTemplateText={GFPDF.currentTemplate}\r\n           versionText={GFPDF.version}\r\n           groupText={GFPDF.group}\r\n           tagsText={GFPDF.tags}\r\n           showPreviousTemplateText={GFPDF.showPreviousTemplate}\r\n           showNextTemplateText={GFPDF.showNextTemplate}\r\n    />\r\n\r\n    <Route path=\"*\" component={Empty}/>\r\n  </Router>)\r\n\r\n/**\r\n * Setup React Router with our Redux Store\r\n *\r\n * @param {Object} store Redux Store\r\n *\r\n * @since 4.1\r\n */\r\nexport default function TemplatesRouter (store) {\r\n  render((<Provider store={store}>\r\n    <Routes />\r\n  </Provider>), document.getElementById('gfpdf-overlay'))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/router/templateRouter.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport getTemplates from '../selectors/getTemplates'\r\n\r\nimport TemplateContainer from './TemplateContainer'\r\nimport TemplateListItem from './TemplateListItem'\r\nimport TemplateSearch from './TemplateSearch'\r\nimport TemplateHeaderTitle from './TemplateHeaderTitle'\r\nimport TemplateUploader from './TemplateUploader'\r\n\r\n/**\r\n * The master component for rendering the all PDF templates as a list\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateList = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    templates: React.PropTypes.object,\r\n    route: React.PropTypes.object\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    const header = <TemplateHeaderTitle header={this.props.route.templateHeaderText} />\r\n\r\n    return (\r\n      <TemplateContainer header={header} closeRoute=\"/\">\r\n        <TemplateSearch />\r\n        <div>\r\n          {\r\n            this.props.templates.map((value, index) => {\r\n              return <TemplateListItem\r\n                key={index}\r\n                template={value}\r\n                templateDetailsText={this.props.route.templateDetailsText}\r\n                activateText={this.props.route.activateText}/>\r\n            })\r\n          }\r\n\r\n          <TemplateUploader\r\n            ajaxUrl={this.props.route.ajaxUrl}\r\n            ajaxNonce={this.props.route.ajaxNonce}\r\n            addTemplateText={this.props.route.addTemplateText}\r\n            genericUploadErrorText={this.props.route.genericUploadErrorText}\r\n            filenameErrorText={this.props.route.filenameErrorText}\r\n            filesizeErrorText={this.props.route.filesizeErrorText}\r\n            installSuccessText={this.props.route.installSuccessText}\r\n            installUpdatedText={this.props.route.installUpdatedText}\r\n            templateSuccessfullyInstalledUpdated={this.props.route.templateSuccessfullyInstalledUpdated}\r\n            templateInstallInstructions={this.props.route.templateInstallInstructions}\r\n          />\r\n\r\n        </div>\r\n      </TemplateContainer>\r\n    )\r\n  }\r\n\r\n})\r\n\r\n/**\r\n * Map state to props\r\n *\r\n * @param {Object} state The current Redux State\r\n *\r\n * @returns {{templates}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    templates: getTemplates(state)\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(mapStateToProps)(TemplateList)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateList.js","import { createSelector } from 'reselect'\r\nimport versionCompare from '../utilities/versionCompare'\r\n\r\n/**\r\n * Uses the Redux Reselect library to sort, filter and search our templates.\r\n * It also checks if the PDF templates are compatible with the current version of Gravity PDF\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n */\r\n\r\n/* Assign specific parts of the Redux store to constants (note, we are returning functions) */\r\nconst getTemplates = (state) => state.template.list\r\nconst getSearch = (state) => state.template.search\r\nconst getActiveTemplate = (state) => state.template.activeTemplate\r\n\r\n/**\r\n * Searches our templates for specific terms and returns the results\r\n * This function is adapted from the Backbone.js filter for themes\r\n *\r\n * @param {string} term\r\n * @param {Object} templates Immutable List of templates\r\n *\r\n * @returns {Object} Filtered Immutable list of templates\r\n *\r\n * @since 4.1\r\n */\r\nexport const searchTemplates = (term, templates) => {\r\n  /*\r\n   * Escape the term string for RegExp meta characters\r\n   * Consider spaces as word delimiters and match the whole string\r\n   */\r\n  term = term.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\r\n  term = term.replace(/ /g, ')(?=.*')\r\n\r\n  const match = new RegExp('^(?=.*' + term + ').+', 'i')\r\n\r\n  /* Filter through the templates. Any templates return \"true\" in out match.test() statement will be included */\r\n  const results = templates.filter((template) => {\r\n\r\n    /* Do very basic HTML tag removal from the fields we are interested in */\r\n    const name = template.get('template').replace(/(<([^>]+)>)/ig, '')\r\n    const description = template.get('description').replace(/(<([^>]+)>)/ig, '')\r\n    const author = template.get('author').replace(/(<([^>]+)>)/ig, '')\r\n    const group = template.get('group').replace(/(<([^>]+)>)/ig, '')\r\n\r\n    /* Check if our matching term(s) are found in the string */\r\n    return match.test([ name, template.get('id'), group, description, author ].toString())\r\n  })\r\n\r\n  return results\r\n}\r\n\r\n/**\r\n * A PDF template sorting function\r\n *\r\n * The sort order is as follows:\r\n *\r\n * 1. Any new templates get auto-shifted to the back of the list (just installed)\r\n * 2. The active template gets auto-shifted to the front of the list\r\n * 3. The templates are then sorted alphabetically by group\r\n * 4. Then alphabetically by name\r\n *\r\n * @param {Object} templates The Immutable list of templates\r\n * @param {string} activeTemplate The current active PDF template\r\n *\r\n * @returns {Object} Sorted Immutable List\r\n *\r\n * @since 4.1\r\n */\r\nexport const sortTemplates = (templates, activeTemplate) => {\r\n  /* Sort out template list using our comparator function */\r\n  return templates.sort((a, b) => {\r\n\r\n    /* Shift new templates to the bottom (only on install) */\r\n    if (a.get('new', false) === true && a.get('new', false) === true) {\r\n      return 0 //equal\r\n    }\r\n\r\n    if (a.get('new', false) === true) {\r\n      return 1\r\n    }\r\n\r\n    if (b.get('new', false) === true) {\r\n      return -1\r\n    }\r\n\r\n    /* Hoist the active template above the rest */\r\n    if (activeTemplate === a.get('id')) {\r\n      return -1\r\n    }\r\n\r\n    if (activeTemplate === b.get('id')) {\r\n      return 1\r\n    }\r\n\r\n    /* Order alphabetically by the group name */\r\n    if (a.get('group') < b.get('group')) {\r\n      return -1 //before\r\n    }\r\n\r\n    if (a.get('group') > b.get('group')) {\r\n      return 1 //after\r\n    }\r\n\r\n    /* Then order alphabetically by the template name */\r\n    if (a.get('template') < b.get('template')) {\r\n      return -1 //before\r\n    }\r\n\r\n    if (a.get('template') > b.get('template')) {\r\n      return 1 //after\r\n    }\r\n\r\n    return 0 //equal\r\n  })\r\n}\r\n\r\n/**\r\n * Check all PDF templates for compatibility with the current verison of Gravity PDF\r\n * If they don't pass we'll also dynamically apply error messages\r\n *\r\n * @param {Object} templates The Immutable list of templates\r\n *\r\n * @returns {Object} The Immutable list of templates\r\n *\r\n * @since 4.1\r\n */\r\nexport const addCompatibilityCheck = (templates) => {\r\n  /* Apply this function to all templates */\r\n  return templates.map((template) => {\r\n    /* Get the PDF version and check it against the Gravity PDF version */\r\n    const requiredVersion = template.get('required_pdf_version')\r\n    if (versionCompare(requiredVersion, GFPDF.currentVersion, '>')) {\r\n      /* Not compatible, so let's mark it */\r\n      return template.merge({\r\n        'compatible': false,\r\n        'error': GFPDF.requiresGravityPdfVersion.replace(/%s/g, requiredVersion),\r\n        'long_error': GFPDF.templateNotCompatibleWithGravityPdfVersion.replace(/%s/g, requiredVersion)\r\n      })\r\n    }\r\n    /* If versionCompare() passed we'll mark as true */\r\n    return template.set('compatible', true)\r\n  })\r\n}\r\n\r\n/**\r\n * Create our Reselect selector and apply to our store\r\n *\r\n * @since 4.1\r\n */\r\nexport default createSelector(\r\n  [ getTemplates, getSearch, getActiveTemplate ],\r\n  (templates, search, activeTemplate) => {\r\n\r\n    templates = addCompatibilityCheck(templates)\r\n\r\n    if (search) {\r\n      templates = searchTemplates(search, templates)\r\n    }\r\n\r\n    return sortTemplates(templates, activeTemplate)\r\n  }\r\n)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/selectors/getTemplates.js","/**\r\n * A JS-port of PHP's version_compare()\r\n *\r\n * This function is taken from the Locutus project which has an MIT license.\r\n * The MIT license and copyright notice is included\r\n *\r\n * https://github.com/kvz/locutus\r\n * https://github.com/kvz/locutus/blob/master/src/php/info/version_compare.js\r\n *\r\n * @param string v1 First version number\r\n * @param string v2 Second version number\r\n * @param string operator optional If the third optional operator argument is specified, test for a particular relationship.\r\n *                                 The possible operators are: <, lt, <=, le, >, gt, >=, ge, ==, =, eq, !=, <>, ne respectively.\r\n * @returns -1 if the first version is lower than the second, 0 if they are equal, and 1 if the second is lower.\r\n *          When using the optional operator argument, the function will return TRUE if the relationship is the one specified by the operator, FALSE otherwise.\r\n */\r\n\r\n/*\r\n Copyright (c) 2007-2016 Kevin van Zonneveld (http://kvz.io)\r\n and Contributors (http://locutus.io/authors)\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n this software and associated documentation files (the \"Software\"), to deal in\r\n the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do\r\n so, subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in all\r\n copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n SOFTWARE.\r\n */\r\nexport default (v1, v2, operator) => {\r\n  //       discuss at: http://locutus.io/php/version_compare/\r\n  //      original by: Philippe Jausions (http://pear.php.net/user/jausions)\r\n  //      original by: Aidan Lister (http://aidanlister.com/)\r\n  // reimplemented by: Kankrelune (http://www.webfaktory.info/)\r\n  //      improved by: Brett Zamir (http://brett-zamir.me)\r\n  //      improved by: Scott Baker\r\n  //      improved by: Theriault (https://github.com/Theriault)\r\n  //        example 1: version_compare('8.2.5rc', '8.2.5a')\r\n  //        returns 1: 1\r\n  //        example 2: version_compare('8.2.50', '8.2.52', '<')\r\n  //        returns 2: true\r\n  //        example 3: version_compare('5.3.0-dev', '5.3.0')\r\n  //        returns 3: -1\r\n  //        example 4: version_compare('4.1.0.52','4.01.0.51')\r\n  //        returns 4: 1\r\n\r\n  // Important: compare must be initialized at 0.\r\n  var i\r\n  var x\r\n  var compare = 0\r\n\r\n  // vm maps textual PHP versions to negatives so they're less than 0.\r\n  // PHP currently defines these as CASE-SENSITIVE. It is important to\r\n  // leave these as negatives so that they can come before numerical versions\r\n  // and as if no letters were there to begin with.\r\n  // (1alpha is < 1 and < 1.1 but > 1dev1)\r\n  // If a non-numerical value can't be mapped to this table, it receives\r\n  // -7 as its value.\r\n  var vm = {\r\n    'dev': -6,\r\n    'alpha': -5,\r\n    'a': -5,\r\n    'beta': -4,\r\n    'b': -4,\r\n    'RC': -3,\r\n    'rc': -3,\r\n    '#': -2,\r\n    'p': 1,\r\n    'pl': 1\r\n  }\r\n\r\n  // This function will be called to prepare each version argument.\r\n  // It replaces every _, -, and + with a dot.\r\n  // It surrounds any nonsequence of numbers/dots with dots.\r\n  // It replaces sequences of dots with a single dot.\r\n  //    version_compare('4..0', '4.0') === 0\r\n  // Important: A string of 0 length needs to be converted into a value\r\n  // even less than an unexisting value in vm (-7), hence [-8].\r\n  // It's also important to not strip spaces because of this.\r\n  //   version_compare('', ' ') === 1\r\n  var _prepVersion = function _prepVersion (v) {\r\n    v = ('' + v).replace(/[_\\-+]/g, '.')\r\n    v = v.replace(/([^.\\d]+)/g, '.$1.').replace(/\\.{2,}/g, '.')\r\n    return !v.length ? [ -8 ] : v.split('.')\r\n  }\r\n  // This converts a version component to a number.\r\n  // Empty component becomes 0.\r\n  // Non-numerical component becomes a negative number.\r\n  // Numerical component becomes itself as an integer.\r\n  var _numVersion = function _numVersion (v) {\r\n    return !v ? 0 : isNaN(v) ? vm[ v ] || -7 : parseInt(v, 10)\r\n  }\r\n\r\n  v1 = _prepVersion(v1)\r\n  v2 = _prepVersion(v2)\r\n  x = Math.max(v1.length, v2.length)\r\n  for (i = 0; i < x; i++) {\r\n    if (v1[ i ] === v2[ i ]) {\r\n      continue\r\n    }\r\n    v1[ i ] = _numVersion(v1[ i ])\r\n    v2[ i ] = _numVersion(v2[ i ])\r\n    if (v1[ i ] < v2[ i ]) {\r\n      compare = -1\r\n      break\r\n    } else if (v1[ i ] > v2[ i ]) {\r\n      compare = 1\r\n      break\r\n    }\r\n  }\r\n  if (!operator) {\r\n    return compare\r\n  }\r\n\r\n  // Important: operator is CASE-SENSITIVE.\r\n  // \"No operator\" seems to be treated as \"<.\"\r\n  // Any other values seem to make the function return null.\r\n  switch (operator) {\r\n    case '>':\r\n    case 'gt':\r\n      return compare > 0\r\n    case '>=':\r\n    case 'ge':\r\n      return compare >= 0\r\n    case '<=':\r\n    case 'le':\r\n      return compare <= 0\r\n    case '===':\r\n    case '=':\r\n    case 'eq':\r\n      return compare === 0\r\n    case '<>':\r\n    case '!==':\r\n    case 'ne':\r\n      return compare !== 0\r\n    case '':\r\n    case '<':\r\n    case 'lt':\r\n      return compare < 0\r\n    default:\r\n      return null\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/utilities/versionCompare.js","import React from 'react'\r\nimport TemplateCloseDialog from './TemplateCloseDialog'\r\n\r\n/**\r\n * Renders our Advanced Template Selector container which is shared amongst the components\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst Container = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    header: React.PropTypes.oneOfType([ React.PropTypes.string, React.PropTypes.element ]),\r\n    footer: React.PropTypes.oneOfType([ React.PropTypes.string, React.PropTypes.element ]),\r\n    children: React.PropTypes.node.isRequired,\r\n    closeRoute: React.PropTypes.string,\r\n  },\r\n\r\n  /**\r\n   * On mount, add focus event to document option on mount\r\n   * Also, if focus isn't currently applied to the search box we'll apply it\r\n   * to our container to help with tabbing between elements\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentDidMount() {\r\n    document.addEventListener('focus', this.handleFocus, true)\r\n\r\n    /* Add focus if not currently applied to search box */\r\n    if (document.activeElement && document.activeElement.className !== 'wp-filter-search') {\r\n      this.container.focus()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Cleanup our document event listeners\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentWillUnmount() {\r\n    document.removeEventListener('focus', this.handleFocus, true)\r\n  },\r\n\r\n  /**\r\n   * When a focus event is fired and it's not apart of any DOM elements in our\r\n   * container we will focus the container instead. In most cases this keeps the focus from\r\n   * jumping outside our Template Container and allows for better keyboard navigation.\r\n   *\r\n   * @param e\r\n   *\r\n   * @since 4.1\r\n   */\r\n  handleFocus(e) {\r\n    if (!this.container.contains(e.target)) {\r\n      e.stopPropagation()\r\n      this.container.focus()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    const header = this.props.header,\r\n      footer = this.props.footer,\r\n      children = this.props.children,\r\n      closeRoute = this.props.closeRoute\r\n\r\n    return (\r\n      <div ref={node => this.container = node} tabIndex=\"140\">\r\n        <div className=\"backdrop theme-backdrop\"></div>\r\n        <div className=\"container theme-wrap\">\r\n          <div className=\"theme-header\">\r\n            {header}\r\n            <TemplateCloseDialog closeRoute={closeRoute}/>\r\n          </div>\r\n\r\n          <div\r\n            id=\"gfpdf-template-container\"\r\n            className=\"theme-about wp-clearfix theme-browser rendered\">\r\n            {children}\r\n          </div>\r\n\r\n          {footer}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\nexport default Container\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateContainer.js","import React from 'react'\r\nimport { hashHistory } from 'react-router'\r\n\r\n/**\r\n * Renders our close dialog element\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst TemplateCloseDialog = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    closeRoute: React.PropTypes.string\r\n  },\r\n\r\n  /**\r\n   * Assign keydown listener to document on mount\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleKeyPress, false)\r\n  },\r\n\r\n  /**\r\n   * Remove keydown listener to document on mount\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleKeyPress, false)\r\n  },\r\n\r\n  /**\r\n   * Check if Escape key pressed and current event target isn't our search box,\r\n   * or the search box is blank already\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  handleKeyPress(e) {\r\n    /* Escape Key */\r\n    if (e.keyCode === 27 && (e.target.className !== 'wp-filter-search' || e.target.value === '')) {\r\n      this.closeDialog()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  closeDialog() {\r\n    /* trigger router */\r\n    hashHistory.push(this.props.closeRoute || '/')\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    return (\r\n      <button\r\n        className=\"close dashicons dashicons-no\"\r\n        tabIndex=\"142\"\r\n        onClick={this.closeDialog}\r\n        onKeyDown={this.handleKeyPress}\r\n        aria-label=\"close\">\r\n        <span className=\"screen-reader-text\">Close dialog</span>\r\n      </button>\r\n    )\r\n  }\r\n})\r\n\r\nexport default TemplateCloseDialog\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateCloseDialog.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { hashHistory } from 'react-router'\r\nimport { updateTemplateParam } from '../actions/templates'\r\n\r\nimport TemplateScreenshot from './TemplateScreenshot'\r\nimport ShowMessage from './ShowMessage'\r\n\r\nimport {\r\n  TemplateDetails,\r\n  Group\r\n} from './TemplateListItemComponents'\r\n\r\nimport { Name } from './TemplateSingleComponents'\r\nimport TemplateActivateButton from './TemplateActivateButton'\r\n\r\n/**\r\n * Display the individual template item for usage our template list\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateListItem = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    template: React.PropTypes.object,\r\n\r\n    activeTemplate: React.PropTypes.string,\r\n    updateTemplateParam: React.PropTypes.func,\r\n\r\n    activateText: React.PropTypes.string,\r\n    templateDetailsText: React.PropTypes.string,\r\n  },\r\n\r\n  /**\r\n   * Check if the Enter key is pressed and not focused on a button\r\n   * then display the template details page\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  maybeShowDetailedTemplate(e) {\r\n    /* Show detailed template when the Enter key is pressed and the active element doesn't include a 'button' class */\r\n    if (e.keyCode === 13 && (e.target.className.indexOf('button') === -1)) {\r\n      this.showDetailedTemplate()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Update the URL to show the PDF template details page\r\n   *\r\n   * @since 4.1\r\n   */\r\n  showDetailedTemplate() {\r\n    hashHistory.push('/template/' + this.props.template.get('id'))\r\n  },\r\n\r\n  /**\r\n   * Call Redux action to remove any stored messages for this template\r\n   *\r\n   * @since 4.1\r\n   */\r\n  removeMessage() {\r\n    this.props.updateTemplateParam(this.props.template.get('id'), 'message', null)\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    const item = this.props.template\r\n    const isActiveTemplate = this.props.activeTemplate === item.get('id')\r\n    const isCompatible = item.get('compatible')\r\n    const activeTemplate = (isActiveTemplate) ? 'active theme' : 'theme'\r\n\r\n    return (\r\n        <div\r\n          onClick={this.showDetailedTemplate}\r\n          onKeyDown={this.maybeShowDetailedTemplate}\r\n          className={activeTemplate}\r\n          data-slug={item.get('id')}\r\n          tabIndex=\"150\">\r\n\r\n          <TemplateScreenshot image={item.get('screenshot')}/>\r\n          {item.get('error') ? <ShowMessage text={item.get('error')} error={true}/> : null}\r\n          {item.get('message') ? <ShowMessage text={item.get('message')} dismissableCallback={this.removeMessage} dismissable={true} delay={12000} /> : null}\r\n\r\n          <TemplateDetails label={this.props.templateDetailsText} />\r\n          <Group group={item.get('group')}/>\r\n          <Name name={item.get('template')}/>\r\n\r\n          <div className=\"theme-actions\">\r\n            {!isActiveTemplate && isCompatible ?\r\n              <TemplateActivateButton template={this.props.template} buttonText={this.props.activateText}/> : null}\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n})\r\n\r\n/**\r\n * Map state to props\r\n *\r\n * @param {Object} state The current Redux State\r\n *\r\n * @returns {{activeTemplate: string}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    activeTemplate: state.template.activeTemplate\r\n  }\r\n}\r\n\r\n/**\r\n * Map actions to props\r\n *\r\n * @param {func} dispatch Redux dispatcher\r\n *\r\n * @returns {{updateTemplateParam: (function(id=string, name=string, value=string))}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateTemplateParam: (id, name, value) => {\r\n      dispatch(updateTemplateParam(id, name, value))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TemplateListItem)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateListItem.js","import React from 'react'\r\n\r\n/**\r\n * Display the Template Screenshot for the List Items\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * @since 4.1\r\n */\r\nconst TemplateScreenshot = ({ image }) => {\r\n  const className = (image) ? 'theme-screenshot' : 'theme-screenshot blank'\r\n\r\n  return (\r\n    <div className={className}>\r\n      {image ? <img src={image} alt=\"\"/> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nTemplateScreenshot.propTypes = {\r\n  image: React.PropTypes.string\r\n}\r\n\r\nexport default TemplateScreenshot\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateScreenshot.js","import React from 'react'\r\nimport $ from 'jquery'\r\n\r\n/**\r\n * Renders a message or error, with the option to self-clear itself\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst showMessage = React.createClass({\r\n\r\n  /**\r\n   * Pass the \"dismissable\" prop to enable auto-clearing\r\n   *\r\n   * @returns {{delay: number, dismissable: boolean}}\r\n   *\r\n   * @since 4.1\r\n   */\r\n  getDefaultProps() {\r\n    return {\r\n      delay: 4000,\r\n      dismissable: false,\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @returns {{visible: boolean}}\r\n   *\r\n   * @since 4.1\r\n   */\r\n  getInitialState() {\r\n    return {\r\n      visible: true\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    text: React.PropTypes.string.isRequired,\r\n    error: React.PropTypes.bool,\r\n\r\n    delay: React.PropTypes.number,\r\n    dismissable: React.PropTypes.bool,\r\n    dismissableCallback: React.PropTypes.func,\r\n  },\r\n\r\n  /**\r\n   * Resets our state and timer when new props received\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentWillReceiveProps: function () {\r\n    this.setState({ visible: true })\r\n    this.shouldSetTimer()\r\n  },\r\n\r\n  /**\r\n   * On mount, maybe set dismissable timer\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentDidMount() {\r\n    this.shouldSetTimer()\r\n  },\r\n\r\n  /**\r\n   * Check if we should make the message auto-dismissable\r\n   *\r\n   * @since 4.1\r\n   */\r\n  shouldSetTimer() {\r\n    if (this.props.dismissable) {\r\n      this.setTimer()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Slide message up after \"X\" milliseconds (see props.delay)\r\n   * and triggers callback if passed in (see props.dismissableCallback)\r\n   *\r\n   * Also clears the initial timeout if called multiple times before removal\r\n   *\r\n   * @since 4.1\r\n   */\r\n  setTimer() {\r\n    // clear any existing timer\r\n    this._timer != null ? clearTimeout(this._timer) : null\r\n\r\n    // hide after `delay` milliseconds\r\n    this._timer = setTimeout(() => {\r\n\r\n      $(this._message)\r\n        .removeClass('inline')\r\n        .slideUp(400, () => {\r\n          $(this._message).removeAttr('style')\r\n          this.setState({ visible: false })\r\n          this._timer = null\r\n\r\n          if(this.props.dismissableCallback) {\r\n            this.props.dismissableCallback()\r\n          }\r\n        })\r\n\r\n    }, this.props.delay)\r\n  },\r\n\r\n  /**\r\n   * Clear timeout on unmount\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentWillUnmount: function () {\r\n    if (this.props.dismissable) {\r\n      clearTimeout(this._timer)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Renders our message or error\r\n   *\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    const { text, error } = this.props\r\n\r\n    let classes = 'notice inline'\r\n\r\n    if (error) {\r\n      classes = classes + ' error'\r\n    }\r\n\r\n    return this.state.visible ?\r\n      (\r\n        <div ref={(message) => this._message = message} className={classes}>\r\n          <p>{text}</p>\r\n        </div>\r\n      ) : <div />\r\n  }\r\n})\r\n\r\nexport default showMessage\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/ShowMessage.js","import React from 'react'\r\n\r\n/**\r\n * Contains stateless React components for our Template List Items\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the Template Details hover\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateDetails = ({ label }) => (\r\n  <span className=\"more-details\">{label}</span>\r\n)\r\n\r\nTemplateDetails.propTypes = {\r\n  name: React.PropTypes.string,\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template group\r\n *\r\n * @since 4.1\r\n */\r\nexport const Group = ({ group }) => (\r\n  <p className=\"theme-author\">{group}</p>\r\n)\r\n\r\nGroup.propTypes = {\r\n  group: React.PropTypes.string,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateListItemComponents.js","import React from 'react'\r\n\r\n/**\r\n * Contains stateless React components for our Single Template\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the current template label\r\n *\r\n * @since 4.1\r\n */\r\nexport const CurrentTemplate = ({ isCurrentTemplate, label }) => {\r\n  return (isCurrentTemplate) ? (\r\n    <span className=\"current-label\">{label}</span>\r\n  ) : (\r\n    <span />\r\n  )\r\n}\r\n\r\nCurrentTemplate.propTypes = {\r\n  isCurrentTemplate: React.PropTypes.bool,\r\n  label: React.PropTypes.string\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template name and version number\r\n *\r\n * @since 4.1\r\n */\r\nexport const Name = ({ name, version, versionLabel }) => (\r\n  <h2 className=\"theme-name\">\r\n    {name}\r\n\r\n    <Version version={version} label={versionLabel}/>\r\n  </h2>\r\n)\r\n\r\nName.propTypes = {\r\n  name: React.PropTypes.string,\r\n  version: React.PropTypes.string,\r\n  versionLabel: React.PropTypes.string\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template version number\r\n *\r\n * @since 4.1\r\n */\r\nexport const Version = ({ label, version }) => {\r\n  return (version) ? (\r\n    <span className=\"theme-version\">{label}: {version}</span>\r\n  ) : (\r\n    <span />\r\n  )\r\n}\r\n\r\nVersion.propTypes = {\r\n  label: React.PropTypes.string,\r\n  version: React.PropTypes.string\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template author (and link to website, if any)\r\n *\r\n * @since 4.1\r\n */\r\nexport const Author = ({ author, uri }) => {\r\n\r\n  if (uri) {\r\n    return (\r\n      <p className=\"theme-author\">\r\n        <a href={uri}>\r\n          {author}\r\n        </a>\r\n      </p>\r\n    )\r\n  } else {\r\n    return (\r\n      <p className=\"theme-author\">\r\n        {author}\r\n      </p>\r\n    )\r\n  }\r\n}\r\n\r\nAuthor.propTypes = {\r\n  author: React.PropTypes.string,\r\n  uri: React.PropTypes.string\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template group\r\n *\r\n * @since 4.1\r\n */\r\nexport const Group = ({ label, group }) => (\r\n  <p className=\"theme-author\">\r\n    <strong>{label}: {group}</strong>\r\n  </p>\r\n)\r\n\r\nGroup.propTypes = {\r\n  label: React.PropTypes.string,\r\n  group: React.PropTypes.string,\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template description\r\n *\r\n * @since 4.1\r\n */\r\nexport const Description = ({ desc }) => (\r\n  <p className=\"theme-description\">\r\n    {desc}\r\n  </p>\r\n)\r\n\r\nDescription.propTypes = {\r\n  desc: React.PropTypes.string,\r\n}\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * Display the template tags\r\n *\r\n * @since 4.1\r\n */\r\nexport const Tags = ({ label, tags }) => {\r\n  return (tags) ? (\r\n    <p className=\"theme-tags\">\r\n      <span>{label}:</span> {tags}\r\n    </p>\r\n  ) : (\r\n    <span />\r\n  )\r\n}\r\n\r\nTags.propTypes = {\r\n  label: React.PropTypes.string,\r\n  tags: React.PropTypes.string,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateSingleComponents.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { selectTemplate } from '../actions/templates'\r\nimport { hashHistory } from 'react-router'\r\n\r\n/**\r\n * Renders the button used to trigger the current active PDF template\r\n * On click it triggers our Redux action.\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateActivateButton = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    template: React.PropTypes.object,\r\n    onTemplateSelect: React.PropTypes.func,\r\n    buttonText: React.PropTypes.string,\r\n  },\r\n\r\n  /**\r\n   * Update our route and trigger a Redux action to select the current template\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  selectTemplate(e) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    hashHistory.push('')\r\n\r\n    this.props.onTemplateSelect(this.props.template.get('id'))\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    return (\r\n      <a\r\n        onClick={this.selectTemplate}\r\n        href=\"#\"\r\n        tabIndex=\"150\"\r\n        className=\"button button-primary activate\">\r\n        {this.props.buttonText}\r\n      </a>\r\n    )\r\n  }\r\n})\r\n\r\n/**\r\n * Map actions to props\r\n *\r\n * @param {func} dispatch Redux dispatcher\r\n *\r\n * @returns {{onTemplateSelect: (function(id=string))}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onTemplateSelect: (id) => {\r\n      dispatch(selectTemplate(id))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(null, mapDispatchToProps)(TemplateActivateButton)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateActivateButton.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport debounce from 'lodash.debounce'\r\n\r\nimport { searchTemplates } from '../actions/templates'\r\n\r\n/**\r\n * Handles the PDF template search functionality\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateSearch = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    onSearch: React.PropTypes.func,\r\n    search: React.PropTypes.string\r\n  },\r\n\r\n  /**\r\n   * Debounce our runSearch function so it can only be run once every 200 milliseconds\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentWillMount() {\r\n    this.runSearch = debounce(this.runSearch, 200)\r\n  },\r\n\r\n  /**\r\n   * On mount, add focus to the search box\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentDidMount() {\r\n    /* add focus to element */\r\n    this.input.focus()\r\n  },\r\n\r\n  /**\r\n   * Handles our search event\r\n   *\r\n   * Because ReactJS pools SyntheticEvent and we delay the search with debounce we need\r\n   * to ensure the event is persisted (see https://facebook.github.io/react/docs/events.html#event-pooling)\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  handleSearch(e) {\r\n    e.persist()\r\n    this.runSearch(e)\r\n  },\r\n\r\n  /**\r\n   * Update our Redux store with the search value\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  runSearch(e) {\r\n    this.props.onSearch(e.target.value || '')\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input\r\n          className=\"wp-filter-search\"\r\n          id=\"wp-filter-search-input\"\r\n          ref={node => this.input = node}\r\n          placeholder=\"Search Installed Templates\"\r\n          type=\"search\"\r\n          aria-describedby=\"live-search-desc\"\r\n          tabIndex=\"145\"\r\n          onChange={this.handleSearch}\r\n          defaultValue={this.props.search}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\n/**\r\n * Map state to props\r\n *\r\n * @param {Object} state The current Redux State\r\n *\r\n * @returns {{search: string}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    search: state.template.search\r\n  }\r\n}\r\n\r\n/**\r\n * Map actions to props\r\n *\r\n * @param {func} dispatch Redux dispatcher\r\n *\r\n * @returns {{onSearch: (function(text=string))}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSearch: (text) => {\r\n      dispatch(searchTemplates(text))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TemplateSearch)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateSearch.js","import React from 'react'\r\n\r\n/**\r\n * Renders the Template Header Title\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst TemplateHeaderTitle = ({ header }) => (\r\n  <h1>{header}</h1>\r\n)\r\n\r\n/**\r\n * @since 4.1\r\n */\r\nTemplateHeaderTitle.propTypes = {\r\n  header: React.PropTypes.string\r\n}\r\n\r\nexport default TemplateHeaderTitle\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateHeaderTitle.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport request from 'superagent'\r\nimport { fromJS } from 'immutable'\r\n\r\nimport { addTemplate, updateTemplateParam } from '../actions/templates'\r\nimport Dropzone from './Dropzone'\r\nimport ShowMessage from './ShowMessage'\r\n\r\n/**\r\n * Handles the uploading of new PDF templates to the server\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateUploader = React.createClass({\r\n\r\n  /**\r\n   * Setup internal component state that doesn't need to be in Redux\r\n   *\r\n   * @returns {{ajax: boolean, error: string, message: string}}\r\n   *\r\n   * @since 4.1\r\n   */\r\n  getInitialState() {\r\n    return {\r\n      ajax: false,\r\n      error: '',\r\n      message: ''\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    ajaxUrl: React.PropTypes.string,\r\n    ajaxNonce: React.PropTypes.string,\r\n\r\n    genericUploadErrorText: React.PropTypes.string,\r\n    addTemplateText: React.PropTypes.string,\r\n    filenameErrorText: React.PropTypes.string,\r\n    filesizeErrorText: React.PropTypes.string,\r\n    installSuccessText: React.PropTypes.string,\r\n    installUpdatedText: React.PropTypes.string,\r\n    templateSuccessfullyInstalledUpdated: React.PropTypes.string,\r\n    templateInstallInstructions: React.PropTypes.string,\r\n\r\n    addNewTemplate: React.PropTypes.func,\r\n    updateTemplateParam: React.PropTypes.func,\r\n    templates: React.PropTypes.object\r\n  },\r\n\r\n  /**\r\n   * Manages the template file upload\r\n   *\r\n   * @param {array} acceptedFiles The array of uploaded files we should send to the server\r\n   *\r\n   * @since 4.1\r\n   */\r\n  onDrop(acceptedFiles) {\r\n    /* Handle file upload and pass in an nonce!!! */\r\n    if (acceptedFiles instanceof Array && acceptedFiles.length > 0) {\r\n\r\n      acceptedFiles.forEach((file) => {\r\n        const filename = file.name\r\n\r\n        /* Do validation */\r\n        if (!this.checkFilename(filename) || !this.checkFilesize(file.size)) {\r\n          return\r\n        }\r\n\r\n        /* Add our loader */\r\n        this.setState({\r\n          ajax: true,\r\n          error: '',\r\n          message: '',\r\n        })\r\n\r\n        /* POST the PDF template to our endpoint for processing */\r\n        request\r\n          .post(this.props.ajaxUrl)\r\n          .field('action', 'gfpdf_upload_template')\r\n          .field('nonce', this.props.ajaxNonce)\r\n          .attach('template', file, filename)\r\n          .then(this.ajaxSuccess, this.ajaxFailed)\r\n      })\r\n\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Checks if the uploaded file has a .zip extension\r\n   * We do this instead of mime type checking as it doesn't work in all browsers\r\n   *\r\n   * @param {string} name\r\n   *\r\n   * @returns {boolean}\r\n   *\r\n   * @since 4.1\r\n   */\r\n  checkFilename(name) {\r\n    if (name.substr(name.length - 4) !== '.zip') {\r\n\r\n      /* Tell use about incorrect file type */\r\n      this.setState({\r\n        error: this.props.filenameErrorText\r\n      })\r\n\r\n      return false\r\n    }\r\n\r\n    return true\r\n  },\r\n\r\n  /**\r\n   * Checks if the file size is larger than 5MB\r\n   *\r\n   * @param {int} size File size in bytes\r\n   *\r\n   * @returns {boolean}\r\n   *\r\n   * @since 4.1\r\n   */\r\n  checkFilesize(size) {\r\n    /* Check the file is no larger than 5MB (convert from bytes to KB) */\r\n    if (size / 1024 > 5120) {\r\n      /* Tell use about incorrect file type */\r\n      this.setState({\r\n        error: this.props.filesizeErrorText\r\n      })\r\n\r\n      return false\r\n    }\r\n\r\n    return true\r\n  },\r\n\r\n  /**\r\n   * Update our Redux store with the new PDF template details\r\n   * If our upload AJAX call to the server passed this function gets fired\r\n   *\r\n   * @param {Object} response\r\n   *\r\n   * @since 4.1\r\n   */\r\n  ajaxSuccess(response) {\r\n\r\n    /* Update our Redux Store with the new template(s) */\r\n    response.body.templates.forEach((template) => {\r\n\r\n      /* Check if template already in the list before adding to our store */\r\n      const matched = this.props.templates.find((item) => {\r\n        return (item.get('id') === template.id)\r\n      })\r\n\r\n      if (matched === undefined) {\r\n        template.new = true //ensure new templates go to end of list\r\n        template.message = this.props.installSuccessText\r\n        this.props.addNewTemplate(fromJS(template))\r\n      } else {\r\n        this.props.updateTemplateParam(template.id, 'message', this.props.installUpdatedText)\r\n      }\r\n    })\r\n\r\n    /* Mark as success and stop AJAX spinner */\r\n    this.setState({\r\n      ajax: false,\r\n      message: this.props.templateSuccessfullyInstalledUpdated\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Show any errors to the user when AJAX request fails for any reason\r\n   *\r\n   * @param {Object} error\r\n   *\r\n   * @since 4.1\r\n   */\r\n  ajaxFailed(error) {\r\n    /* Let the user know there was a problem with the upload */\r\n    this.setState({\r\n      error: (error.response.body && error.response.body.error !== undefined) ? error.response.body.error : this.props.genericUploadErrorText,\r\n      ajax: false\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Remove message from state once the timeout has finished\r\n   *\r\n   * @since 4.1\r\n   */\r\n  removeMessage() {\r\n    this.setState( {\r\n      message: ''\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Prevent normal behaviour when this event fires\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  openDropzone(e) {\r\n    e.preventDefault()\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    return (\r\n      <Dropzone\r\n        onDrop={this.onDrop}\r\n        maxSize={10240000}\r\n        multiple={true}\r\n        className=\"theme add-new-theme gfpdf-dropzone\">\r\n        <a href=\"#\" onClick={this.openDropzone} className={this.state.ajax ? 'doing-ajax' : ''}>\r\n          <div className=\"theme-screenshot\"><span /></div>\r\n\r\n          {this.state.error !== '' ? <ShowMessage text={this.state.error} error={true}/> : null}\r\n          {this.state.message !== '' ? <ShowMessage text={this.state.message} dismissable={true} dismissableCallback={this.removeMessage} /> : null}\r\n\r\n          <h2 className=\"theme-name\">{this.props.addTemplateText}</h2>\r\n        </a>\r\n        <div className=\"gfpdf-template-install-instructions\">{this.props.templateInstallInstructions}</div>\r\n      </Dropzone>\r\n    )\r\n  }\r\n\r\n})\r\n\r\n/**\r\n * Map state to props\r\n *\r\n * @param {Object} state The current Redux State\r\n *\r\n * @returns {{templates}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    templates: state.template.list\r\n  }\r\n}\r\n\r\n/**\r\n * Map actions to props\r\n *\r\n * @param {func} dispatch Redux dispatcher\r\n *\r\n * @returns {{addNewTemplate: (function(template=Immutable Map)), updateTemplateParam: (function(id=string, name=string, value=*))}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addNewTemplate: (template) => {\r\n      dispatch(addTemplate(template))\r\n    },\r\n\r\n    updateTemplateParam: (id, name, value) => {\r\n      dispatch(updateTemplateParam(id, name, value))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TemplateUploader)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateUploader.js","import React from 'react'\r\nimport ReactDropzone from 'react-dropzone'\r\n\r\n/**\r\n * Our Drag and Drop File upload Component which is a wrapper\r\n * for react-dropzone\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst Dropzone = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    children: React.PropTypes.node.isRequired,\r\n    onDrop: React.PropTypes.func.isRequired,\r\n    multiple: React.PropTypes.bool,\r\n    className: React.PropTypes.string,\r\n    activeClassName: React.PropTypes.string\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  getDefaultProps() {\r\n    return {\r\n      multiple: false,\r\n      maxSize: Infinity,\r\n      className: 'gfpdf-dropzone',\r\n      activeClassName: 'gfpdf-dropzone-active'\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    return (\r\n      <ReactDropzone\r\n        onDrop={this.props.onDrop}\r\n        multiple={this.props.multiple}\r\n        disablePreview={true}\r\n        className={this.props.className}\r\n        activeClassName={this.props.activeClassName}>\r\n        {this.props.children}\r\n      </ReactDropzone>\r\n    )\r\n  },\r\n})\r\n\r\nexport default Dropzone\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/Dropzone.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport getTemplates from '../selectors/getTemplates'\r\n\r\nimport TemplateContainer from './TemplateContainer'\r\nimport TemplateHeaderNavigation from './TemplateHeaderNavigation'\r\nimport TemplateFooterActions from './TemplateFooterActions'\r\nimport TemplateScreenshots from './TemplateScreenshots'\r\nimport ShowMessage from './ShowMessage'\r\n\r\nimport {\r\n  CurrentTemplate,\r\n  Name,\r\n  Author,\r\n  Group,\r\n  Description,\r\n  Tags\r\n} from './TemplateSingleComponents'\r\n\r\n/**\r\n * Renders a single PDF template, which get displayed on the /template/:id page.\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateSingle = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    route: React.PropTypes.object,\r\n\r\n    template: React.PropTypes.object,\r\n    activeTemplate: React.PropTypes.string,\r\n    templateIndex: React.PropTypes.number,\r\n    templates: React.PropTypes.object,\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    const item = this.props.template\r\n    const isCurrentTemplate = this.props.activeTemplate === item.get('id')\r\n\r\n    /* Assign our header / footer components to constants */\r\n    const header = <TemplateHeaderNavigation\r\n      template={item}\r\n      templateIndex={this.props.templateIndex}\r\n      templates={this.props.templates}\r\n      showPreviousTemplateText={this.props.route.showPreviousTemplateText}\r\n      showNextTemplateText={this.props.route.showNextTemplateText}/>\r\n\r\n    const footer = <TemplateFooterActions\r\n      template={item}\r\n      isActiveTemplate={isCurrentTemplate}\r\n\r\n      ajaxUrl={this.props.route.ajaxUrl}\r\n      ajaxNonce={this.props.route.ajaxNonce}\r\n\r\n      activateText={this.props.route.activateText}\r\n      pdfWorkingDirPath={this.props.route.pdfWorkingDirPath}\r\n      templateDeleteText={this.props.route.templateDeleteText}\r\n      templateConfirmDeleteText={this.props.route.templateConfirmDeleteText}\r\n      templateDeleteErrorText={this.props.route.templateDeleteErrorText}\r\n    />\r\n\r\n    /* Display our Single Template container */\r\n    return (\r\n      <TemplateContainer header={header} footer={footer} closeRoute=\"/template\">\r\n        <div id=\"gfpdf-template-detail-view\" className=\"gfpdf-template-detail\">\r\n          <TemplateScreenshots image={item.get('screenshot')}/>\r\n\r\n          <div className=\"theme-info\">\r\n            <CurrentTemplate isCurrentTemplate={isCurrentTemplate} label={this.props.route.currentTemplateText}/>\r\n            <Name name={item.get('template')} version={item.get('version')} versionLabel={this.props.route.versionText}/>\r\n            <Author author={item.get('author')} uri={item.get('author uri')}/>\r\n            <Group group={item.get('group')} label={this.props.route.groupText}/>\r\n\r\n            {item.get('long_message') ? <ShowMessage text={item.get('long_message')}/> : null}\r\n            {item.get('long_error') ? <ShowMessage text={item.get('long_error')} error={true}/> : null}\r\n\r\n            <Description desc={item.get('description')}/>\r\n            <Tags tags={item.get('tags')} label={this.props.route.tagsText}/>\r\n          </div>\r\n        </div>\r\n      </TemplateContainer>\r\n    )\r\n  }\r\n})\r\n\r\n/**\r\n * Map state to props\r\n *\r\n * @param {Object} state The current Redux State\r\n * @param {Object} props The current React props\r\n *\r\n * @returns {{template: Immutable Map, templateIndex: number, templates: Immutable List, activeTemplate: string}}\r\n *\r\n * @since 4.1\r\n */\r\nconst MapStateToProps = (state, props) => {\r\n\r\n  /* found our selected template */\r\n  const templates = getTemplates(state)\r\n  const id = props.params.id\r\n\r\n  const findCurrentTemplate = (item) => {\r\n    return (item.get('id') === id)\r\n  }\r\n\r\n  return {\r\n    template: templates.find(findCurrentTemplate),\r\n    templateIndex: templates.findIndex(findCurrentTemplate),\r\n    templates: templates,\r\n    activeTemplate: state.template.activeTemplate,\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(MapStateToProps)(TemplateSingle)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateSingle.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { hashHistory } from 'react-router'\r\nimport { List } from 'immutable'\r\n\r\n/**\r\n * Renders the template navigation header that get displayed on the\r\n * /template/:id pages.\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateHeaderNavigation = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    templates: React.PropTypes.object.isRequired,\r\n    templateIndex: React.PropTypes.number.isRequired,\r\n    isFirst: React.PropTypes.bool,\r\n    isLast: React.PropTypes.bool,\r\n\r\n    showPreviousTemplateText: React.PropTypes.string,\r\n    showNextTemplateText: React.PropTypes.string\r\n  },\r\n\r\n  /**\r\n   * Add window event listeners\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress, false)\r\n  },\r\n\r\n  /**\r\n   * Cleanup window event listeners\r\n   *\r\n   * @since 4.1\r\n   */\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress, false)\r\n  },\r\n\r\n  /**\r\n   * Attempt to get the previous template in our Immutable list and update the URL\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  previousTemplate(e) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    const prevId = this.props.templates.get(this.props.templateIndex - 1).get('id')\r\n\r\n    if (prevId) {\r\n      hashHistory.push('template/' + prevId)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Attempt to get the next template in our Immutable list and update the URL\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  nextTemplate(e) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    const nextId = this.props.templates.get(this.props.templateIndex + 1).get('id')\r\n\r\n    if (nextId) {\r\n      hashHistory.push('template/' + nextId)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Checks if the Left or Right arrow keys are pressed and fires appropriate functions\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  handleKeyPress(e) {\r\n    /* Left Arrow */\r\n    if (!this.props.isFirst && e.keyCode === 37) {\r\n      this.previousTemplate(e)\r\n    }\r\n\r\n    /* Right Arrow */\r\n    if (!this.props.isLast && e.keyCode === 39) {\r\n      this.nextTemplate(e)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n\r\n    /*\r\n     * Work our the correct classes and attributes for our left and right arrows\r\n     * based on if we are currently showing the first or last templates\r\n     */\r\n    const isFirst = this.props.isFirst\r\n    const isLast = this.props.isLast\r\n\r\n    let baseClass = List([ 'dashicons', 'dashicons-no' ])\r\n\r\n    let prevClass = baseClass.push('left')\r\n    let nextClass = baseClass.push('right')\r\n    prevClass = (isFirst) ? prevClass.push('disabled') : prevClass\r\n    nextClass = (isLast) ? nextClass.push('disabled') : nextClass\r\n\r\n    let leftDisabled = (isFirst) ? 'disabled' : ''\r\n    let rightDisabled = (isLast) ? 'disabled' : ''\r\n\r\n    return (\r\n      <span>\r\n        <button\r\n          onClick={this.previousTemplate}\r\n          onKeyDown={this.handleKeyPress}\r\n          className={prevClass.join(' ')}\r\n          tabIndex=\"141\"\r\n          disabled={leftDisabled}>\r\n            <span\r\n              className=\"screen-reader-text\">\r\n              {this.props.showPreviousTemplateText}\r\n            </span>\r\n        </button>\r\n\r\n        <button\r\n          onClick={this.nextTemplate}\r\n          onKeyDown={this.handleKeyPress}\r\n          className={nextClass.join(' ')}\r\n          tabIndex=\"141\"\r\n          disabled={rightDisabled}>\r\n          <span\r\n            className=\"screen-reader-text\">\r\n            {this.props.showNextTemplateText}\r\n          </span>\r\n        </button>\r\n      </span>\r\n    )\r\n  }\r\n})\r\n\r\n/**\r\n * Map state to props\r\n *\r\n * @param {Object} state The current Redux State\r\n * @param {Object} props The current React props\r\n *\r\n * @returns {{isFirst: boolean, isLast: boolean}}\r\n *\r\n * @since 4.1\r\n */\r\nconst MapStateToProps = (state, props) => {\r\n  /* Check if the current template is the first or last in our templates */\r\n  const templates = props.templates\r\n  const currentTemplateId = props.template.get('id')\r\n  const first = templates.first().get('id')\r\n  const last = templates.last().get('id')\r\n\r\n  return {\r\n    isFirst: first === currentTemplateId,\r\n    isLast: last === currentTemplateId,\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(MapStateToProps)(TemplateHeaderNavigation)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateHeaderNavigation.js","import React from 'react'\r\nimport TemplateActivateButton from './TemplateActivateButton'\r\nimport TemplateDeleteButton from './TemplateDeleteButton'\r\n\r\n/**\r\n * Renders the template footer actions that get displayed on the\r\n * /template/:id pages.\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst TemplateFooterActions = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    template: React.PropTypes.object.isRequired,\r\n    isActiveTemplate: React.PropTypes.bool,\r\n\r\n    ajaxUrl: React.PropTypes.string,\r\n    ajaxNonce: React.PropTypes.string,\r\n\r\n    activateText: React.PropTypes.string,\r\n    pdfWorkingDirPath: React.PropTypes.string,\r\n    templateDeleteText: React.PropTypes.string,\r\n    templateConfirmDeleteText: React.PropTypes.string,\r\n    templateDeleteErrorText: React.PropTypes.string,\r\n  },\r\n\r\n  /**\r\n   * Check if the current PDF template is a core template or not (i.e is shipped with Gravity PDF)\r\n   *\r\n   * @param {Object} template Immutable Map\r\n   *\r\n   * @returns {boolean}\r\n   *\r\n   * @since 4.1\r\n   */\r\n  notCoreTemplate(template) {\r\n    return template.get('path').indexOf(this.props.pdfWorkingDirPath) !== -1\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    const template = this.props.template\r\n    const isCompatible = template.get('compatible')\r\n\r\n    return (\r\n      <div className=\"theme-actions\">\r\n        {!this.props.isActiveTemplate && isCompatible ?\r\n          <TemplateActivateButton\r\n            template={template}\r\n            buttonText={this.props.activateText}/>\r\n          : null\r\n        }\r\n\r\n        {!this.props.isActiveTemplate && this.notCoreTemplate(template) ?\r\n          <TemplateDeleteButton\r\n            template={template}\r\n\r\n            ajaxUrl={this.props.ajaxUrl}\r\n            ajaxNonce={this.props.ajaxNonce}\r\n\r\n            buttonText={this.props.templateDeleteText}\r\n            templateConfirmDeleteText={this.props.templateConfirmDeleteText}\r\n            templateDeleteErrorText={this.props.templateDeleteErrorText}/>\r\n          : null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\nexport default TemplateFooterActions\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateFooterActions.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addTemplate, deleteTemplate } from '../actions/templates'\r\nimport { hashHistory } from 'react-router'\r\nimport request from 'superagent'\r\n\r\n/**\r\n * Renders a delete button which then queries our server and\r\n * removes the selected PDF template\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport const TemplateDeleteButton = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    ajaxUrl: React.PropTypes.string,\r\n    ajaxNonce: React.PropTypes.string,\r\n\r\n    template: React.PropTypes.object,\r\n    addTemplate: React.PropTypes.func,\r\n    onTemplateDelete: React.PropTypes.func,\r\n    callbackFunction: React.PropTypes.func,\r\n\r\n    buttonText: React.PropTypes.string,\r\n    templateConfirmDeleteText: React.PropTypes.string,\r\n    templateDeleteErrorText: React.PropTypes.string,\r\n  },\r\n\r\n  /**\r\n   * Display a confirmation window asking user to verify they want template deleted.\r\n   *\r\n   * Once verified, we make an AJAX call to the server requesting template to be deleted.\r\n   *\r\n   * Before we receive the response we remove the PDF template automatically and update the\r\n   * URL to /template. If the AJAX call fails the PDF template gets restored to our list with\r\n   * an appropriate error message (it feels snapper this way).\r\n   *\r\n   * @param {Object} e Event\r\n   */\r\n  deleteTemplate(e) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    if (window.confirm(this.props.templateConfirmDeleteText)) {\r\n\r\n      const templateId = this.props.template.get('id')\r\n\r\n      /* POST the PDF template to our endpoint for processing */\r\n      request\r\n        .post(this.props.ajaxUrl)\r\n        .field('action', 'gfpdf_delete_template')\r\n        .field('nonce', this.props.ajaxNonce)\r\n        .field('id', templateId)\r\n        .then(\r\n          () => { /* success. Leave blank */},\r\n          this.ajaxFailed\r\n        )\r\n\r\n      hashHistory.push('/template')\r\n      this.props.onTemplateDelete(templateId)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * If the server cannot delete the template we re-add the template to our list\r\n   * and display an appropriate inline error message\r\n   *\r\n   * @since 4.1\r\n   */\r\n  ajaxFailed() {\r\n    const errorTemplate = this.props.template.set('error', this.props.templateDeleteErrorText)\r\n    this.props.addTemplate(errorTemplate)\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n\r\n    const callback = (this.props.callbackFunction) ? this.props.callbackFunction : this.deleteTemplate\r\n\r\n    return (\r\n      <a\r\n        onClick={callback}\r\n        href=\"#\"\r\n        tabIndex=\"150\"\r\n        className=\"button button-secondary delete-theme\">\r\n        {this.props.buttonText}\r\n      </a>\r\n    )\r\n  }\r\n})\r\n\r\n/**\r\n * Map actions to props\r\n *\r\n * @param {func} dispatch Redux dispatcher\r\n *\r\n * @returns {{addTemplate: (function(template=Immutable List)), onTemplateDelete: (function(id=string))}}\r\n *\r\n * @since 4.1\r\n */\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addTemplate: (template) => {\r\n      dispatch(addTemplate(template))\r\n    },\r\n\r\n    onTemplateDelete: (id) => {\r\n      dispatch(deleteTemplate(id))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Maps our Redux store to our React component\r\n *\r\n * @since 4.1\r\n */\r\nexport default connect(null, mapDispatchToProps)(TemplateDeleteButton)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateDeleteButton.js","import React from 'react'\r\n\r\n/**\r\n * Display the Template Screenshot for the individual templates (uses different markup - out of our control)\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Stateless Component\r\n *\r\n * @since 4.1\r\n */\r\nconst TemplateScreenshots = ({ image }) => {\r\n  const className = (image) ? 'screenshot' : 'screenshot blank'\r\n\r\n  return (\r\n    <div className=\"theme-screenshots\">\r\n      <div className={className}>\r\n        {image ? <img src={image} alt=\"\"/> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nTemplateScreenshots.propTypes = {\r\n  image: React.PropTypes.string\r\n}\r\n\r\nexport default TemplateScreenshots\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateScreenshots.js","/**\r\n * Render a blank component for use with React Router's default route\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nexport default () => {\r\n  return false\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/Empty.js","import { fromJS } from 'immutable'\r\nimport {\r\n  SEARCH_TEMPLATES,\r\n  SELECT_TEMPLATE,\r\n  ADD_TEMPLATE,\r\n  UPDATE_TEMPLATE,\r\n  UPDATE_TEMPLATE_PARAM,\r\n  DELETE_TEMPLATE,\r\n} from '../actionTypes/templates'\r\n\r\n/**\r\n * Our Redux Template Reducer that take the objects returned from our Redux Template Actions\r\n * and updates the template portion of our store in an immutable way\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * Setup the initial state of the \"template\" portion of our Redux store\r\n *\r\n * @type {{list: any, activeTemplate: (any), search: string}}\r\n *\r\n * @since 4.1\r\n */\r\nexport const initialState = {\r\n  list: fromJS(GFPDF.templateList),\r\n  activeTemplate: GFPDF.activeTemplate || GFPDF.activeDefaultTemplate,\r\n  search: '',\r\n}\r\n\r\n/**\r\n * Returns the first Immutable Map in our Immutable List which\r\n * matches the template id passed.\r\n *\r\n * @param {Object} list The Immutable list of templates\r\n * @param {string} id The template ID\r\n *\r\n * @returns object Immutable Map object of our template\r\n *\r\n * @since 4.1\r\n */\r\nconst getTemplateIndex = (list, id) => {\r\n  return list.findKey((template) => {\r\n    if (template.get('id') === id) {\r\n      return true\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * The action template reducer which updates our state\r\n *\r\n * @param {Object} state The current state of our template store\r\n * @param {Object} action The Redux action details being triggered\r\n *\r\n * @returns {Object} State (whether updated or not)\r\n *\r\n * @since 4.1\r\n */\r\nexport default function (state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    /**\r\n     * Update the search key\r\n     *\r\n     * @since 4.1\r\n     */\r\n    case SEARCH_TEMPLATES:\r\n      return {\r\n        ...state,\r\n        search: action.text\r\n      }\r\n\r\n    /**\r\n     * Update the activeTemplate key\r\n     *\r\n     * @since 4.1\r\n     */\r\n    case SELECT_TEMPLATE:\r\n      return {\r\n        ...state,\r\n        activeTemplate: action.id\r\n      }\r\n\r\n    /**\r\n     * Push a new template Immutable Map onto our Immutable List\r\n     *\r\n     * @since 4.1\r\n     */\r\n    case ADD_TEMPLATE:\r\n      return {\r\n        ...state,\r\n        list: state.list.push(action.template)\r\n      }\r\n\r\n    /**\r\n     * Replace template Immutable Map with new Map\r\n     *\r\n     * @since 4.1\r\n     */\r\n    case UPDATE_TEMPLATE:\r\n      return {\r\n        ...state,\r\n        list: state.list.set(getTemplateIndex(state.list, action.template.get('id')), action.template)\r\n      }\r\n\r\n    /**\r\n     * Replace single parameter in template Immutable Map with new value\r\n     *\r\n     * @since 4.1\r\n     */\r\n    case UPDATE_TEMPLATE_PARAM:\r\n      return {\r\n        ...state,\r\n        list: state.list.setIn([ getTemplateIndex(state.list, action.id), action.name ], action.value)\r\n      }\r\n\r\n    /**\r\n     * Remove template Immutable Map from Immutable List\r\n     *\r\n     * @since 4.1\r\n     */\r\n    case DELETE_TEMPLATE:\r\n      return {\r\n        ...state,\r\n        list: state.list.delete(getTemplateIndex(state.list, action.id))\r\n      }\r\n  }\r\n\r\n  /* None of these actions fired so return state */\r\n  return state\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/reducers/templateReducer.js","import React from 'react'\r\nimport { hashHistory } from 'react-router'\r\n\r\n/**\r\n * Render the button used to option our Fancy PDF template selector\r\n *\r\n * @package     Gravity PDF\r\n * @copyright   Copyright (c) 2016, Blue Liquid Designs\r\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\r\n * @since       4.1\r\n */\r\n\r\n/*\r\n This file is part of Gravity PDF.\r\n\r\n Gravity PDF – Copyright (C) 2016, Blue Liquid Designs\r\n\r\n This program is free software; you can redistribute it and/or modify\r\n it under the terms of the GNU General Public License as published by\r\n the Free Software Foundation; either version 2 of the License, or\r\n (at your option) any later version.\r\n\r\n This program is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU General Public License for more details.\r\n\r\n You should have received a copy of the GNU General Public License\r\n along with this program; if not, write to the Free Software\r\n Found\r\n */\r\n\r\n/**\r\n * React Component\r\n *\r\n * @since 4.1\r\n */\r\nconst TemplateButton = React.createClass({\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  propTypes: {\r\n    buttonText: React.PropTypes.string,\r\n  },\r\n\r\n  /**\r\n   * When the button is clicked we'll display the `/template` route\r\n   *\r\n   * @param {Object} e Event\r\n   *\r\n   * @since 4.1\r\n   */\r\n  handleClick(e) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    hashHistory.push('/template')\r\n  },\r\n\r\n  /**\r\n   * @since 4.1\r\n   */\r\n  render() {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        id=\"fancy-template-selector\"\r\n        className=\"button gfpdf-button\"\r\n        onClick={this.handleClick}\r\n        ref={node => this.button = node}\r\n      >\r\n        {this.props.buttonText}\r\n      </button>\r\n    )\r\n  }\r\n})\r\n\r\nexport default TemplateButton\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/react/components/TemplateButton.js"],"sourceRoot":""}