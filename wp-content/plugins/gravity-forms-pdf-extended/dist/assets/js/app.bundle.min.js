webpackJsonp([0],{0:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var l=a(1),s=r(l),n=a(2),o=r(n);/**
	 * JS Entry point for WebPack
	 *
	 * @package     Gravity PDF
	 * @copyright   Copyright (c) 2016, Blue Liquid Designs
	 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
	 * @since       4.1
	 */
(0,s.default)(function(){if(void 0!==GFPDF.templateList){var e="#gfpdf_settings\\[template\\], #gfpdf_settings\\[default_template\\]",t=(0,s.default)(e);t.length>0&&(0,o.default)(t)}})},1:function(e,t){e.exports=jQuery},2:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
	 * Advanced Template Selector Bootstrap
	 *
	 * @package     Gravity PDF
	 * @copyright   Copyright (c) 2016, Blue Liquid Designs
	 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
	 * @since       4.1
	 */
function l(e){var t=s(),a=(0,m.createStore)(t,window.devToolsExtension&&window.devToolsExtension());n(e),(0,d.render)(u.default.createElement(b.default,{store:a,buttonText:GFPDF.advanced}),document.getElementById("gpdf-advance-template-selector")),(0,y.default)(a),o(a,e),p(a,e)}function s(){return(0,m.combineReducers)({template:E.default})}function n(e){e.next().after('<span id="gpdf-advance-template-selector">').next().after('<div id="gfpdf-overlay" class="theme-overlay">')}function o(e,t){var a=(0,h.default)(e.getState,"template.activeTemplate");e.subscribe(a(function(e){t.val()!==e&&t.val(e).trigger("chosen:updated").trigger("change")})),t.change(function(){this.value!==e.getState().template.activeTemplate&&e.dispatch((0,g.selectTemplate)(this.value))})}function p(e,t){var a=e.getState().template.list.size,r=(0,h.default)(e.getState,"template.list");e.subscribe(r(function(e){a!==e.size&&(a=e.size,f.default.post(GFPDF.ajaxUrl).field("action","gfpdf_get_template_options").field("nonce",GFPDF.ajaxNonce).then(function(e){t.html(e.text).trigger("chosen:updated").trigger("change")}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l,t.setupReducers=s,t.createTemplateMarkup=n,t.activeTemplateStoreListener=o,t.templateChangeStoreListener=p;var i=a(3),u=r(i),d=a(30),c=a(168),f=r(c),m=a(173),T=a(194),h=r(T),g=a(196),v=a(198),y=r(v),P=a(286),E=r(P),x=a(287),b=r(x)},196:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTemplate=t.updateTemplateParam=t.updateTemplate=t.addTemplate=t.selectTemplate=t.searchTemplates=void 0;var r=a(197);t.searchTemplates=function(e){return{type:r.SEARCH_TEMPLATES,text:e}},t.selectTemplate=function(e){return{type:r.SELECT_TEMPLATE,id:e}},t.addTemplate=function(e){return{type:r.ADD_TEMPLATE,template:e}},t.updateTemplate=function(e){return{type:r.UPDATE_TEMPLATE,template:e}},t.updateTemplateParam=function(e,t,a){return{type:r.UPDATE_TEMPLATE_PARAM,id:e,name:t,value:a}},t.deleteTemplate=function(e){return{type:r.DELETE_TEMPLATE,id:e}}},197:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/**
	 * Our Redux Action Type Constants
	 *
	 * @package     Gravity PDF
	 * @copyright   Copyright (c) 2016, Blue Liquid Designs
	 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
	 * @since       4.1
	 */
t.SEARCH_TEMPLATES="SEARCH_TEMPLATES",t.SELECT_TEMPLATE="SELECT_TEMPLATE",t.ADD_TEMPLATE="ADD_TEMPLATE",t.UPDATE_TEMPLATE="UPDATE_TEMPLATE",t.UPDATE_TEMPLATE_PARAM="UPDATE_TEMPLATE_PARAM",t.DELETE_TEMPLATE="DELETE_TEMPLATE"},198:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e){(0,o.render)(n.default.createElement(p.Provider,{store:e},n.default.createElement(E,null)),document.getElementById("gfpdf-overlay"))}Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=void 0,t.default=l;var s=a(3),n=r(s),o=a(30),p=a(199),i=a(208),u=r(i),d=a(211),c=r(d),f=a(227),m=r(f),T=a(246),h=r(T),g=a(280),v=r(g),y=a(285),P=r(y),E=t.Routes=function(){return n.default.createElement(c.default,{history:m.default},n.default.createElement(u.default,{path:"template",component:h.default,ajaxUrl:GFPDF.ajaxUrl,ajaxNonce:GFPDF.ajaxNonce,templateDetailsText:GFPDF.templateDetails,templateHeaderText:GFPDF.installedPdfs,genericUploadErrorText:GFPDF.problemWithTheUpload,activateText:GFPDF.select,addTemplateText:GFPDF.addNewTemplate,filenameErrorText:GFPDF.uploadInvalidNotZipFile,filesizeErrorText:GFPDF.uploadInvalidExceedsFileSizeLimit,installSuccessText:GFPDF.templateSuccessfullyInstalled,installUpdatedText:GFPDF.templateSuccessfullyUpdated,templateSuccessfullyInstalledUpdated:GFPDF.templateSuccessfullyInstalledUpdated,templateInstallInstructions:GFPDF.templateInstallInstructions}),n.default.createElement(u.default,{path:"template/:id",component:v.default,ajaxUrl:GFPDF.ajaxUrl,ajaxNonce:GFPDF.ajaxNonce,pdfWorkingDirPath:GFPDF.pdfWorkingDir,activateText:GFPDF.select,templateDeleteText:GFPDF.delete,templateConfirmDeleteText:GFPDF.doYouWantToDeleteTemplate,templateDeleteErrorText:GFPDF.couldNotDeleteTemplate,currentTemplateText:GFPDF.currentTemplate,versionText:GFPDF.version,groupText:GFPDF.group,tagsText:GFPDF.tags,showPreviousTemplateText:GFPDF.showPreviousTemplate,showNextTemplateText:GFPDF.showNextTemplate}),n.default.createElement(u.default,{path:"*",component:P.default}))}},246:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateList=void 0;var l=a(3),s=r(l),n=a(199),o=a(247),p=r(o),i=a(250),u=r(i),d=a(267),c=r(d),f=a(273),m=r(f),T=a(275),h=r(T),g=a(276),v=r(g),y=t.TemplateList=s.default.createClass({displayName:"TemplateList",propTypes:{templates:s.default.PropTypes.object,route:s.default.PropTypes.object},render:function(){var e=this,t=s.default.createElement(h.default,{header:this.props.route.templateHeaderText});return s.default.createElement(u.default,{header:t,closeRoute:"/"},s.default.createElement(m.default,null),s.default.createElement("div",null,this.props.templates.map(function(t,a){return s.default.createElement(c.default,{key:a,template:t,templateDetailsText:e.props.route.templateDetailsText,activateText:e.props.route.activateText})}),s.default.createElement(v.default,{ajaxUrl:this.props.route.ajaxUrl,ajaxNonce:this.props.route.ajaxNonce,addTemplateText:this.props.route.addTemplateText,genericUploadErrorText:this.props.route.genericUploadErrorText,filenameErrorText:this.props.route.filenameErrorText,filesizeErrorText:this.props.route.filesizeErrorText,installSuccessText:this.props.route.installSuccessText,installUpdatedText:this.props.route.installUpdatedText,templateSuccessfullyInstalledUpdated:this.props.route.templateSuccessfullyInstalledUpdated,templateInstallInstructions:this.props.route.templateInstallInstructions})))}}),P=function(e){return{templates:(0,p.default)(e)}};t.default=(0,n.connect)(P)(y)},247:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addCompatibilityCheck=t.sortTemplates=t.searchTemplates=void 0;var l=a(248),s=a(249),n=r(s),o=function(e){return e.template.list},p=function(e){return e.template.search},i=function(e){return e.template.activeTemplate},u=t.searchTemplates=function(e,t){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e=e.replace(/ /g,")(?=.*");var a=new RegExp("^(?=.*"+e+").+","i"),r=t.filter(function(e){var t=e.get("template").replace(/(<([^>]+)>)/gi,""),r=e.get("description").replace(/(<([^>]+)>)/gi,""),l=e.get("author").replace(/(<([^>]+)>)/gi,""),s=e.get("group").replace(/(<([^>]+)>)/gi,"");return a.test([t,e.get("id"),s,r,l].toString())});return r},d=t.sortTemplates=function(e,t){return e.sort(function(e,a){return e.get("new",!1)===!0&&e.get("new",!1)===!0?0:e.get("new",!1)===!0?1:a.get("new",!1)===!0?-1:t===e.get("id")?-1:t===a.get("id")?1:e.get("group")<a.get("group")?-1:e.get("group")>a.get("group")?1:e.get("template")<a.get("template")?-1:e.get("template")>a.get("template")?1:0})},c=t.addCompatibilityCheck=function(e){return e.map(function(e){var t=e.get("required_pdf_version");return(0,n.default)(t,GFPDF.currentVersion,">")?e.merge({compatible:!1,error:GFPDF.requiresGravityPdfVersion.replace(/%s/g,t),long_error:GFPDF.templateNotCompatibleWithGravityPdfVersion.replace(/%s/g,t)}):e.set("compatible",!0)})};t.default=(0,l.createSelector)([o,p,i],function(e,t,a){return e=c(e),t&&(e=u(t,e)),d(e,a)})},249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r,l,s=0,n={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},o=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},p=function(e){return e?isNaN(e)?n[e]||-7:parseInt(e,10):0};for(e=o(e),t=o(t),l=Math.max(e.length,t.length),r=0;r<l;r++)if(e[r]!==t[r]){if(e[r]=p(e[r]),t[r]=p(t[r]),e[r]<t[r]){s=-1;break}if(e[r]>t[r]){s=1;break}}if(!a)return s;switch(a){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return s<=0;case"===":case"=":case"eq":return 0===s;case"<>":case"!==":case"ne":return 0!==s;case"":case"<":case"lt":return s<0;default:return null}}},250:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=a(251),o=r(n),p=s.default.createClass({displayName:"Container",propTypes:{header:s.default.PropTypes.oneOfType([s.default.PropTypes.string,s.default.PropTypes.element]),footer:s.default.PropTypes.oneOfType([s.default.PropTypes.string,s.default.PropTypes.element]),children:s.default.PropTypes.node.isRequired,closeRoute:s.default.PropTypes.string},componentDidMount:function(){document.addEventListener("focus",this.handleFocus,!0),document.activeElement&&"wp-filter-search"!==document.activeElement.className&&this.container.focus()},componentWillUnmount:function(){document.removeEventListener("focus",this.handleFocus,!0)},handleFocus:function(e){this.container.contains(e.target)||(e.stopPropagation(),this.container.focus())},render:function(){var e=this,t=this.props.header,a=this.props.footer,r=this.props.children,l=this.props.closeRoute;return s.default.createElement("div",{ref:function(t){return e.container=t},tabIndex:"140"},s.default.createElement("div",{className:"backdrop theme-backdrop"}),s.default.createElement("div",{className:"container theme-wrap"},s.default.createElement("div",{className:"theme-header"},t,s.default.createElement(o.default,{closeRoute:l})),s.default.createElement("div",{id:"gfpdf-template-container",className:"theme-about wp-clearfix theme-browser rendered"},r),a))}});t.default=p},251:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=a(252),o=s.default.createClass({displayName:"TemplateCloseDialog",propTypes:{closeRoute:s.default.PropTypes.string},componentDidMount:function(){document.addEventListener("keydown",this.handleKeyPress,!1)},componentWillUnmount:function(){document.removeEventListener("keydown",this.handleKeyPress,!1)},handleKeyPress:function(e){27!==e.keyCode||"wp-filter-search"===e.target.className&&""!==e.target.value||this.closeDialog()},closeDialog:function(){n.hashHistory.push(this.props.closeRoute||"/")},render:function(){return s.default.createElement("button",{className:"close dashicons dashicons-no",tabIndex:"142",onClick:this.closeDialog,onKeyDown:this.handleKeyPress,"aria-label":"close"},s.default.createElement("span",{className:"screen-reader-text"},"Close dialog"))}});t.default=o},267:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateListItem=void 0;var l=a(3),s=r(l),n=a(199),o=a(252),p=a(196),i=a(268),u=r(i),d=a(269),c=r(d),f=a(270),m=a(271),T=a(272),h=r(T),g=t.TemplateListItem=s.default.createClass({displayName:"TemplateListItem",propTypes:{template:s.default.PropTypes.object,activeTemplate:s.default.PropTypes.string,updateTemplateParam:s.default.PropTypes.func,activateText:s.default.PropTypes.string,templateDetailsText:s.default.PropTypes.string},maybeShowDetailedTemplate:function(e){13===e.keyCode&&e.target.className.indexOf("button")===-1&&this.showDetailedTemplate()},showDetailedTemplate:function(){o.hashHistory.push("/template/"+this.props.template.get("id"))},removeMessage:function(){this.props.updateTemplateParam(this.props.template.get("id"),"message",null)},render:function(){var e=this.props.template,t=this.props.activeTemplate===e.get("id"),a=e.get("compatible"),r=t?"active theme":"theme";return s.default.createElement("div",{onClick:this.showDetailedTemplate,onKeyDown:this.maybeShowDetailedTemplate,className:r,"data-slug":e.get("id"),tabIndex:"150"},s.default.createElement(u.default,{image:e.get("screenshot")}),e.get("error")?s.default.createElement(c.default,{text:e.get("error"),error:!0}):null,e.get("message")?s.default.createElement(c.default,{text:e.get("message"),dismissableCallback:this.removeMessage,dismissable:!0,delay:12e3}):null,s.default.createElement(f.TemplateDetails,{label:this.props.templateDetailsText}),s.default.createElement(f.Group,{group:e.get("group")}),s.default.createElement(m.Name,{name:e.get("template")}),s.default.createElement("div",{className:"theme-actions"},!t&&a?s.default.createElement(h.default,{template:this.props.template,buttonText:this.props.activateText}):null))}}),v=function(e){return{activeTemplate:e.template.activeTemplate}},y=function(e){return{updateTemplateParam:function(t,a,r){e((0,p.updateTemplateParam)(t,a,r))}}};t.default=(0,n.connect)(v,y)(g)},268:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=function(e){var t=e.image,a=t?"theme-screenshot":"theme-screenshot blank";return s.default.createElement("div",{className:a},t?s.default.createElement("img",{src:t,alt:""}):null)};n.propTypes={image:s.default.PropTypes.string},t.default=n},269:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=a(1),o=r(n),p=s.default.createClass({displayName:"showMessage",getDefaultProps:function(){return{delay:4e3,dismissable:!1}},getInitialState:function(){return{visible:!0}},propTypes:{text:s.default.PropTypes.string.isRequired,error:s.default.PropTypes.bool,delay:s.default.PropTypes.number,dismissable:s.default.PropTypes.bool,dismissableCallback:s.default.PropTypes.func},componentWillReceiveProps:function(){this.setState({visible:!0}),this.shouldSetTimer()},componentDidMount:function(){this.shouldSetTimer()},shouldSetTimer:function(){this.props.dismissable&&this.setTimer()},setTimer:function(){var e=this;null!=this._timer?clearTimeout(this._timer):null,this._timer=setTimeout(function(){(0,o.default)(e._message).removeClass("inline").slideUp(400,function(){(0,o.default)(e._message).removeAttr("style"),e.setState({visible:!1}),e._timer=null,e.props.dismissableCallback&&e.props.dismissableCallback()})},this.props.delay)},componentWillUnmount:function(){this.props.dismissable&&clearTimeout(this._timer)},render:function(){var e=this,t=this.props,a=t.text,r=t.error,l="notice inline";return r&&(l+=" error"),this.state.visible?s.default.createElement("div",{ref:function(t){return e._message=t},className:l},s.default.createElement("p",null,a)):s.default.createElement("div",null)}});t.default=p},270:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.TemplateDetails=void 0;var l=a(3),s=r(l),n=t.TemplateDetails=function(e){var t=e.label;return s.default.createElement("span",{className:"more-details"},t)};n.propTypes={name:s.default.PropTypes.string};var o=t.Group=function(e){var t=e.group;return s.default.createElement("p",{className:"theme-author"},t)};o.propTypes={group:s.default.PropTypes.string}},271:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Tags=t.Description=t.Group=t.Author=t.Version=t.Name=t.CurrentTemplate=void 0;var l=a(3),s=r(l),n=t.CurrentTemplate=function(e){var t=e.isCurrentTemplate,a=e.label;return t?s.default.createElement("span",{className:"current-label"},a):s.default.createElement("span",null)};n.propTypes={isCurrentTemplate:s.default.PropTypes.bool,label:s.default.PropTypes.string};var o=t.Name=function(e){var t=e.name,a=e.version,r=e.versionLabel;return s.default.createElement("h2",{className:"theme-name"},t,s.default.createElement(p,{version:a,label:r}))};o.propTypes={name:s.default.PropTypes.string,version:s.default.PropTypes.string,versionLabel:s.default.PropTypes.string};var p=t.Version=function(e){var t=e.label,a=e.version;return a?s.default.createElement("span",{className:"theme-version"},t,": ",a):s.default.createElement("span",null)};p.propTypes={label:s.default.PropTypes.string,version:s.default.PropTypes.string};var i=t.Author=function(e){var t=e.author,a=e.uri;return a?s.default.createElement("p",{className:"theme-author"},s.default.createElement("a",{href:a},t)):s.default.createElement("p",{className:"theme-author"},t)};i.propTypes={author:s.default.PropTypes.string,uri:s.default.PropTypes.string};var u=t.Group=function(e){var t=e.label,a=e.group;return s.default.createElement("p",{className:"theme-author"},s.default.createElement("strong",null,t,": ",a))};u.propTypes={label:s.default.PropTypes.string,group:s.default.PropTypes.string};var d=t.Description=function(e){var t=e.desc;return s.default.createElement("p",{className:"theme-description"},t)};d.propTypes={desc:s.default.PropTypes.string};var c=t.Tags=function(e){var t=e.label,a=e.tags;return a?s.default.createElement("p",{className:"theme-tags"},s.default.createElement("span",null,t,":")," ",a):s.default.createElement("span",null)};c.propTypes={label:s.default.PropTypes.string,tags:s.default.PropTypes.string}},272:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateActivateButton=void 0;var l=a(3),s=r(l),n=a(199),o=a(196),p=a(252),i=t.TemplateActivateButton=s.default.createClass({displayName:"TemplateActivateButton",propTypes:{template:s.default.PropTypes.object,onTemplateSelect:s.default.PropTypes.func,buttonText:s.default.PropTypes.string},selectTemplate:function(e){e.preventDefault(),e.stopPropagation(),p.hashHistory.push(""),this.props.onTemplateSelect(this.props.template.get("id"))},render:function(){return s.default.createElement("a",{onClick:this.selectTemplate,href:"#",tabIndex:"150",className:"button button-primary activate"},this.props.buttonText)}}),u=function(e){return{onTemplateSelect:function(t){e((0,o.selectTemplate)(t))}}};t.default=(0,n.connect)(null,u)(i)},273:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateSearch=void 0;var l=a(3),s=r(l),n=a(199),o=a(274),p=r(o),i=a(196),u=t.TemplateSearch=s.default.createClass({displayName:"TemplateSearch",propTypes:{onSearch:s.default.PropTypes.func,search:s.default.PropTypes.string},componentWillMount:function(){this.runSearch=(0,p.default)(this.runSearch,200)},componentDidMount:function(){this.input.focus()},handleSearch:function(e){e.persist(),this.runSearch(e)},runSearch:function(e){this.props.onSearch(e.target.value||"")},render:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("input",{className:"wp-filter-search",id:"wp-filter-search-input",ref:function(t){return e.input=t},placeholder:"Search Installed Templates",type:"search","aria-describedby":"live-search-desc",tabIndex:"145",onChange:this.handleSearch,defaultValue:this.props.search}))}}),d=function(e){return{search:e.template.search}},c=function(e){return{onSearch:function(t){e((0,i.searchTemplates)(t))}}};t.default=(0,n.connect)(d,c)(u)},275:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=function(e){var t=e.header;return s.default.createElement("h1",null,t)};n.propTypes={header:s.default.PropTypes.string},t.default=n},276:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateUploader=void 0;var l=a(3),s=r(l),n=a(199),o=a(168),p=r(o),i=a(277),u=a(196),d=a(278),c=r(d),f=a(269),m=r(f),T=t.TemplateUploader=s.default.createClass({displayName:"TemplateUploader",getInitialState:function(){return{ajax:!1,error:"",message:""}},propTypes:{ajaxUrl:s.default.PropTypes.string,ajaxNonce:s.default.PropTypes.string,genericUploadErrorText:s.default.PropTypes.string,addTemplateText:s.default.PropTypes.string,filenameErrorText:s.default.PropTypes.string,filesizeErrorText:s.default.PropTypes.string,installSuccessText:s.default.PropTypes.string,installUpdatedText:s.default.PropTypes.string,templateSuccessfullyInstalledUpdated:s.default.PropTypes.string,templateInstallInstructions:s.default.PropTypes.string,addNewTemplate:s.default.PropTypes.func,updateTemplateParam:s.default.PropTypes.func,templates:s.default.PropTypes.object},onDrop:function(e){var t=this;e instanceof Array&&e.length>0&&e.forEach(function(e){var a=e.name;t.checkFilename(a)&&t.checkFilesize(e.size)&&(t.setState({ajax:!0,error:"",message:""}),p.default.post(t.props.ajaxUrl).field("action","gfpdf_upload_template").field("nonce",t.props.ajaxNonce).attach("template",e,a).then(t.ajaxSuccess,t.ajaxFailed))})},checkFilename:function(e){return".zip"===e.substr(e.length-4)||(this.setState({error:this.props.filenameErrorText}),!1)},checkFilesize:function(e){return!(e/1024>5120)||(this.setState({error:this.props.filesizeErrorText}),!1)},ajaxSuccess:function(e){var t=this;e.body.templates.forEach(function(e){var a=t.props.templates.find(function(t){return t.get("id")===e.id});void 0===a?(e.new=!0,e.message=t.props.installSuccessText,t.props.addNewTemplate((0,i.fromJS)(e))):t.props.updateTemplateParam(e.id,"message",t.props.installUpdatedText)}),this.setState({ajax:!1,message:this.props.templateSuccessfullyInstalledUpdated})},ajaxFailed:function(e){this.setState({error:e.response.body&&void 0!==e.response.body.error?e.response.body.error:this.props.genericUploadErrorText,ajax:!1})},removeMessage:function(){this.setState({message:""})},openDropzone:function(e){e.preventDefault()},render:function(){return s.default.createElement(c.default,{onDrop:this.onDrop,maxSize:1024e4,multiple:!0,className:"theme add-new-theme gfpdf-dropzone"},s.default.createElement("a",{href:"#",onClick:this.openDropzone,className:this.state.ajax?"doing-ajax":""},s.default.createElement("div",{className:"theme-screenshot"},s.default.createElement("span",null)),""!==this.state.error?s.default.createElement(m.default,{text:this.state.error,error:!0}):null,""!==this.state.message?s.default.createElement(m.default,{text:this.state.message,dismissable:!0,dismissableCallback:this.removeMessage}):null,s.default.createElement("h2",{className:"theme-name"},this.props.addTemplateText)),s.default.createElement("div",{className:"gfpdf-template-install-instructions"},this.props.templateInstallInstructions))}}),h=function(e){return{templates:e.template.list}},g=function(e){return{addNewTemplate:function(t){e((0,u.addTemplate)(t))},updateTemplateParam:function(t,a,r){e((0,u.updateTemplateParam)(t,a,r))}}};t.default=(0,n.connect)(h,g)(T)},278:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=a(279),o=r(n),p=s.default.createClass({displayName:"Dropzone",propTypes:{children:s.default.PropTypes.node.isRequired,onDrop:s.default.PropTypes.func.isRequired,multiple:s.default.PropTypes.bool,className:s.default.PropTypes.string,activeClassName:s.default.PropTypes.string},getDefaultProps:function(){return{multiple:!1,maxSize:1/0,className:"gfpdf-dropzone",activeClassName:"gfpdf-dropzone-active"}},render:function(){return s.default.createElement(o.default,{onDrop:this.props.onDrop,multiple:this.props.multiple,disablePreview:!0,className:this.props.className,activeClassName:this.props.activeClassName},this.props.children)}});t.default=p},280:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateSingle=void 0;var l=a(3),s=r(l),n=a(199),o=a(247),p=r(o),i=a(250),u=r(i),d=a(281),c=r(d),f=a(282),m=r(f),T=a(284),h=r(T),g=a(269),v=r(g),y=a(271),P=t.TemplateSingle=s.default.createClass({displayName:"TemplateSingle",propTypes:{route:s.default.PropTypes.object,template:s.default.PropTypes.object,activeTemplate:s.default.PropTypes.string,templateIndex:s.default.PropTypes.number,templates:s.default.PropTypes.object},render:function(){var e=this.props.template,t=this.props.activeTemplate===e.get("id"),a=s.default.createElement(c.default,{template:e,templateIndex:this.props.templateIndex,templates:this.props.templates,showPreviousTemplateText:this.props.route.showPreviousTemplateText,showNextTemplateText:this.props.route.showNextTemplateText}),r=s.default.createElement(m.default,{template:e,isActiveTemplate:t,ajaxUrl:this.props.route.ajaxUrl,ajaxNonce:this.props.route.ajaxNonce,activateText:this.props.route.activateText,pdfWorkingDirPath:this.props.route.pdfWorkingDirPath,templateDeleteText:this.props.route.templateDeleteText,templateConfirmDeleteText:this.props.route.templateConfirmDeleteText,templateDeleteErrorText:this.props.route.templateDeleteErrorText});return s.default.createElement(u.default,{header:a,footer:r,closeRoute:"/template"},s.default.createElement("div",{id:"gfpdf-template-detail-view",className:"gfpdf-template-detail"},s.default.createElement(h.default,{image:e.get("screenshot")}),s.default.createElement("div",{className:"theme-info"},s.default.createElement(y.CurrentTemplate,{isCurrentTemplate:t,label:this.props.route.currentTemplateText}),s.default.createElement(y.Name,{name:e.get("template"),version:e.get("version"),versionLabel:this.props.route.versionText}),s.default.createElement(y.Author,{author:e.get("author"),uri:e.get("author uri")}),s.default.createElement(y.Group,{group:e.get("group"),label:this.props.route.groupText}),e.get("long_message")?s.default.createElement(v.default,{text:e.get("long_message")}):null,e.get("long_error")?s.default.createElement(v.default,{text:e.get("long_error"),error:!0}):null,s.default.createElement(y.Description,{desc:e.get("description")}),s.default.createElement(y.Tags,{tags:e.get("tags"),label:this.props.route.tagsText}))))}}),E=function(e,t){var a=(0,p.default)(e),r=t.params.id,l=function(e){return e.get("id")===r};return{template:a.find(l),templateIndex:a.findIndex(l),templates:a,activeTemplate:e.template.activeTemplate}};t.default=(0,n.connect)(E)(P)},281:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateHeaderNavigation=void 0;var l=a(3),s=r(l),n=a(199),o=a(252),p=a(277),i=t.TemplateHeaderNavigation=s.default.createClass({displayName:"TemplateHeaderNavigation",propTypes:{templates:s.default.PropTypes.object.isRequired,templateIndex:s.default.PropTypes.number.isRequired,isFirst:s.default.PropTypes.bool,isLast:s.default.PropTypes.bool,showPreviousTemplateText:s.default.PropTypes.string,showNextTemplateText:s.default.PropTypes.string},componentDidMount:function(){window.addEventListener("keydown",this.handleKeyPress,!1)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handleKeyPress,!1)},previousTemplate:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.templates.get(this.props.templateIndex-1).get("id");t&&o.hashHistory.push("template/"+t)},nextTemplate:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.templates.get(this.props.templateIndex+1).get("id");t&&o.hashHistory.push("template/"+t)},handleKeyPress:function(e){this.props.isFirst||37!==e.keyCode||this.previousTemplate(e),this.props.isLast||39!==e.keyCode||this.nextTemplate(e)},render:function(){var e=this.props.isFirst,t=this.props.isLast,a=(0,p.List)(["dashicons","dashicons-no"]),r=a.push("left"),l=a.push("right");r=e?r.push("disabled"):r,l=t?l.push("disabled"):l;var n=e?"disabled":"",o=t?"disabled":"";return s.default.createElement("span",null,s.default.createElement("button",{onClick:this.previousTemplate,onKeyDown:this.handleKeyPress,className:r.join(" "),tabIndex:"141",disabled:n},s.default.createElement("span",{className:"screen-reader-text"},this.props.showPreviousTemplateText)),s.default.createElement("button",{onClick:this.nextTemplate,onKeyDown:this.handleKeyPress,className:l.join(" "),tabIndex:"141",disabled:o},s.default.createElement("span",{className:"screen-reader-text"},this.props.showNextTemplateText)))}}),u=function(e,t){var a=t.templates,r=t.template.get("id"),l=a.first().get("id"),s=a.last().get("id");return{isFirst:l===r,isLast:s===r}};t.default=(0,n.connect)(u)(i)},282:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=a(272),o=r(n),p=a(283),i=r(p),u=s.default.createClass({displayName:"TemplateFooterActions",propTypes:{template:s.default.PropTypes.object.isRequired,isActiveTemplate:s.default.PropTypes.bool,ajaxUrl:s.default.PropTypes.string,ajaxNonce:s.default.PropTypes.string,activateText:s.default.PropTypes.string,pdfWorkingDirPath:s.default.PropTypes.string,templateDeleteText:s.default.PropTypes.string,templateConfirmDeleteText:s.default.PropTypes.string,templateDeleteErrorText:s.default.PropTypes.string},notCoreTemplate:function(e){return e.get("path").indexOf(this.props.pdfWorkingDirPath)!==-1},render:function(){var e=this.props.template,t=e.get("compatible");return s.default.createElement("div",{className:"theme-actions"},!this.props.isActiveTemplate&&t?s.default.createElement(o.default,{template:e,buttonText:this.props.activateText}):null,!this.props.isActiveTemplate&&this.notCoreTemplate(e)?s.default.createElement(i.default,{template:e,ajaxUrl:this.props.ajaxUrl,ajaxNonce:this.props.ajaxNonce,buttonText:this.props.templateDeleteText,templateConfirmDeleteText:this.props.templateConfirmDeleteText,templateDeleteErrorText:this.props.templateDeleteErrorText}):null)}});t.default=u},283:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateDeleteButton=void 0;var l=a(3),s=r(l),n=a(199),o=a(196),p=a(252),i=a(168),u=r(i),d=t.TemplateDeleteButton=s.default.createClass({displayName:"TemplateDeleteButton",propTypes:{ajaxUrl:s.default.PropTypes.string,ajaxNonce:s.default.PropTypes.string,template:s.default.PropTypes.object,addTemplate:s.default.PropTypes.func,onTemplateDelete:s.default.PropTypes.func,callbackFunction:s.default.PropTypes.func,buttonText:s.default.PropTypes.string,templateConfirmDeleteText:s.default.PropTypes.string,templateDeleteErrorText:s.default.PropTypes.string},deleteTemplate:function(e){if(e.preventDefault(),e.stopPropagation(),window.confirm(this.props.templateConfirmDeleteText)){var t=this.props.template.get("id");u.default.post(this.props.ajaxUrl).field("action","gfpdf_delete_template").field("nonce",this.props.ajaxNonce).field("id",t).then(function(){},this.ajaxFailed),p.hashHistory.push("/template"),this.props.onTemplateDelete(t)}},ajaxFailed:function(){var e=this.props.template.set("error",this.props.templateDeleteErrorText);this.props.addTemplate(e)},render:function(){var e=this.props.callbackFunction?this.props.callbackFunction:this.deleteTemplate;return s.default.createElement("a",{onClick:e,href:"#",tabIndex:"150",className:"button button-secondary delete-theme"},this.props.buttonText)}}),c=function(e){return{addTemplate:function(t){e((0,o.addTemplate)(t))},onTemplateDelete:function(t){e((0,o.deleteTemplate)(t))}}};t.default=(0,n.connect)(null,c)(d)},284:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=function(e){var t=e.image,a=t?"screenshot":"screenshot blank";return s.default.createElement("div",{className:"theme-screenshots"},s.default.createElement("div",{className:a},t?s.default.createElement("img",{src:t,alt:""}):null))};n.propTypes={image:s.default.PropTypes.string},t.default=n},285:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),/**
	 * Render a blank component for use with React Router's default route
	 *
	 * @package     Gravity PDF
	 * @copyright   Copyright (c) 2016, Blue Liquid Designs
	 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
	 * @since       4.1
	 */
t.default=function(){return!1}},286:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case s.SEARCH_TEMPLATES:return r({},e,{search:t.text});case s.SELECT_TEMPLATE:return r({},e,{activeTemplate:t.id});case s.ADD_TEMPLATE:return r({},e,{list:e.list.push(t.template)});case s.UPDATE_TEMPLATE:return r({},e,{list:e.list.set(o(e.list,t.template.get("id")),t.template)});case s.UPDATE_TEMPLATE_PARAM:return r({},e,{list:e.list.setIn([o(e.list,t.id),t.name],t.value)});case s.DELETE_TEMPLATE:return r({},e,{list:e.list.delete(o(e.list,t.id))})}return e};var l=a(277),s=a(197),n=t.initialState={list:(0,l.fromJS)(GFPDF.templateList),activeTemplate:GFPDF.activeTemplate||GFPDF.activeDefaultTemplate,search:""},o=function(e,t){return e.findKey(function(e){if(e.get("id")===t)return!0})}},287:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),s=r(l),n=a(252),o=s.default.createClass({displayName:"TemplateButton",propTypes:{buttonText:s.default.PropTypes.string},handleClick:function(e){e.preventDefault(),e.stopPropagation(),n.hashHistory.push("/template")},render:function(){var e=this;return s.default.createElement("button",{type:"button",id:"fancy-template-selector",className:"button gfpdf-button",onClick:this.handleClick,ref:function(t){return e.button=t}},this.props.buttonText)}});t.default=o}});
//# sourceMappingURL=app.bundle.min.js.map